# TBURN Lab /app 메뉴 공개/비공개 분석 문서

## 개요
이 문서는 TBURN Lab 메인넷 애플리케이션(/app)의 메뉴 구조를 분석하여 공개 사용자에게 노출해야 할 메뉴와 비공개(인증 필요) 메뉴를 분류합니다.

**분석 기준:**
- 🟢 **공개 (Public)**: 모든 사용자가 인증 없이 접근 가능
- 🟡 **조건부 공개 (Conditional)**: 지갑 연결 또는 특정 조건 필요
- 🔴 **비공개 (Private)**: 관리자/운영자 인증 필요

---

## 1. 익스플로러 (Explorer) - 🟢 전체 공개

| 메뉴 | 경로 | 공개 여부 | 설명 |
|------|------|-----------|------|
| 대시보드 | `/app` | 🟢 공개 | 메인넷 통계, 블록/트랜잭션 개요 |
| 블록 | `/app/blocks` | 🟢 공개 | 블록 목록 및 상세 정보 |
| 트랜잭션 | `/app/transactions` | 🟢 공개 | 트랜잭션 목록 및 상세 정보 |
| 지갑 | `/app/wallets` | 🟢 공개 | 지갑 주소 조회 및 잔액 확인 |

**분석**: 블록체인 익스플로러의 핵심 기능으로, 모든 사용자에게 공개되어야 합니다. 투명성과 신뢰성을 위해 필수적입니다.

---

## 2. 토큰 v4.0 - 🟢 전체 공개

| 메뉴 | 경로 | 공개 여부 | 설명 |
|------|------|-----------|------|
| 토큰 시스템 | `/app/token-system` | 🟢 공개 | TBC-20/721/1155 토큰 표준 정보 |
| 크로스체인 브릿지 | `/app/bridge` | 🟡 조건부 | 지갑 연결 시 브릿지 기능 사용 |
| AI 거버넌스 | `/app/governance` | 🟢 공개 | 거버넌스 제안 조회, 투표는 지갑 필요 |
| 자동 소각 | `/app/burn` | 🟢 공개 | 토큰 소각 통계 및 일정 |

**분석**: 토큰 정보는 투자자와 사용자에게 중요한 정보이므로 공개되어야 합니다. 실제 트랜잭션 실행(브릿지, 투표)은 지갑 연결이 필요합니다.

---

## 3. 스테이킹 (Staking) - 🟢 전체 공개

| 메뉴 | 경로 | 공개 여부 | 설명 |
|------|------|-----------|------|
| 스테이킹 풀 | `/app/staking` | 🟢 공개 | 스테이킹 풀 목록 및 APY 정보 |
| 리워드 센터 | `/app/staking/rewards` | 🟡 조건부 | 리워드 조회(지갑 연결 시 개인 정보) |
| 지갑 SDK | `/app/staking/sdk` | 🟢 공개 | 개발자용 SDK 문서 및 가이드 |

**분석**: 스테이킹 정보는 DeFi 참여를 유도하기 위해 공개되어야 합니다. 개인 리워드 정보는 지갑 연결 후 표시됩니다.

---

## 4. DeFi - 🟢 전체 공개

| 메뉴 | 경로 | 공개 여부 | 설명 |
|------|------|-----------|------|
| DEX | `/app/dex` | 🟢 공개 | 토큰 스왑, 가격 정보 |
| 유동성 풀 | `/app/dex#pools` | 🟢 공개 | 풀 목록 및 TVL |
| 대출 | `/app/lending` | 🟢 공개 | 대출/차입 마켓 정보 |
| 이자 농사 | `/app/yield-farming` | 🟢 공개 | Vault 목록 및 APY |
| 유동성 스테이킹 | `/app/liquid-staking` | 🟢 공개 | Liquid Staking 풀 정보 |
| NFT 마켓플레이스 | `/app/nft-marketplace` | 🟢 공개 | NFT 컬렉션 및 거래 |
| NFT 런치패드 | `/app/nft-launchpad` | 🟢 공개 | 신규 NFT 프로젝트 |
| GameFi 허브 | `/app/gamefi` | 🟢 공개 | GameFi 프로젝트 목록 |

**분석**: DeFi 기능은 플랫폼의 핵심 서비스로, 사용자 유치를 위해 모두 공개되어야 합니다. 실제 트랜잭션 실행은 지갑 연결이 필요합니다.

---

## 5. 커뮤니티 (Community) - 🟢 공개

| 메뉴 | 경로 | 공개 여부 | 설명 |
|------|------|-----------|------|
| 커뮤니티 | `/app/community` | 🟢 공개 | 뉴스, 이벤트, 소셜 링크 |

**분석**: 커뮤니티 정보는 브랜드 인지도와 사용자 참여를 위해 공개되어야 합니다.

---

## 6. 네트워크 (Network) - 🟢 전체 공개

| 메뉴 | 경로 | 공개 여부 | 설명 |
|------|------|-----------|------|
| 검증자 | `/app/validators` | 🟢 공개 | 검증자 목록, 상태, 위임 정보 |
| 멤버 | `/app/members` | 🟢 공개 | 네트워크 멤버 정보 |
| 합의 | `/app/consensus` | 🟢 공개 | BFT 합의 시각화 |
| AI 오케스트레이션 | `/app/ai` | 🟢 공개 | AI 시스템 상태 (읽기 전용) |
| 샤딩 | `/app/sharding` | 🟢 공개 | 샤드 구성 및 상태 |
| 크로스 샤드 | `/app/cross-shard` | 🟢 공개 | 샤드 간 통신 정보 |

**분석**: 네트워크 상태 정보는 블록체인의 투명성을 보장하고, 검증자 선택 및 위임 결정에 필요하므로 공개되어야 합니다.

---

## 7. 개발자 (Developer) - 🟢 전체 공개

| 메뉴 | 경로 | 공개 여부 | 설명 |
|------|------|-----------|------|
| 스마트 컨트랙트 | `/app/contracts` | 🟢 공개 | 컨트랙트 탐색 및 검증 |
| TX 시뮬레이터 | `/app/simulator` | 🟢 공개 | 트랜잭션 시뮬레이션 도구 |

**분석**: 개발자 도구는 생태계 성장을 위해 공개되어야 합니다.

---

## 8. 관리자 (Admin) - 🔴 비공개 (인증 필요)

| 메뉴 | 경로 | 공개 여부 | 설명 |
|------|------|-----------|------|
| 관리자 패널 | `/app/admin` | 🔴 비공개 | 관리자 전용 대시보드 진입점 |
| 노드 상태 | `/app/health` | 🔴 비공개 | 노드 헬스체크 상세 정보 |
| 성능 | `/app/metrics` | 🔴 비공개 | 시스템 성능 메트릭 |

**분석**: 관리자 기능은 시스템 보안을 위해 인증된 사용자만 접근해야 합니다. 현재 `/app/admin`은 Admin Portal로 리다이렉트되며, 별도 인증이 필요합니다.

### ⚠️ 권장 사항: 비공개 처리 필요
- **노드 상태 (`/app/health`)**: 현재 공개되어 있으나, 시스템 내부 정보 노출 위험
- **성능 (`/app/metrics`)**: 현재 공개되어 있으나, 시스템 취약점 분석에 악용 가능

---

## 9. 보안 (Security) - 🟡 조건부 공개

| 메뉴 | 경로 | 공개 여부 | 설명 |
|------|------|-----------|------|
| API 키 | `/app/api-keys` | 🟡 조건부 | 개발자 API 키 관리 |

**분석**: API 키 발급은 개발자에게 공개되어야 하지만, 키 관리 기능은 인증이 필요합니다.

---

## 10. 운영자 (Operator) - 🔴 전체 비공개 (인증 필요)

| 메뉴 | 경로 | 공개 여부 | 인증 상태 | 설명 |
|------|------|-----------|-----------|------|
| 운영자 포털 | `/app/operator` | 🔴 비공개 | ✅ 보호됨 | 운영자 대시보드 |
| 멤버 관리 | `/app/operator/members` | 🔴 비공개 | ✅ 보호됨 | 멤버 CRUD 관리 |
| 검증자 운영 | `/app/operator/validators` | 🔴 비공개 | ✅ 보호됨 | 검증자 관리 |
| 보안 감사 | `/app/operator/security` | 🔴 비공개 | ✅ 보호됨 | 보안 로그 및 감사 |
| 리포트 | `/app/operator/reports` | 🔴 비공개 | ✅ 보호됨 | 운영 보고서 |

**분석**: 운영자 기능은 `OperatorAuthGuard`로 보호되어 있으며, 관리자 비밀번호 인증이 필요합니다. ✅ 올바르게 구현됨.

---

## 권장 조치 사항

### 즉시 조치 필요 (Critical)

1. **사이드바에서 제거해야 할 메뉴** (일반 사용자에게 노출되면 안 됨):
   - `nav.admin` 그룹 전체 (관리자 패널, 노드 상태, 성능)
   - `nav.security` 그룹 (API 키 - 개발자 전용 별도 페이지로 이동 권장)
   - `nav.operator` 그룹 전체 (운영자 포털 및 하위 메뉴)

2. **숨김 처리 권장**:
   - `/app/health` - 내부 노드 상태 정보
   - `/app/metrics` - 시스템 성능 메트릭

### 구현 권장 방안

```typescript
// app-sidebar.tsx에서 조건부 렌더링 추가
const publicGroups = [
  "nav.explorer",
  "nav.tokenV4",
  "nav.staking",
  "nav.defi",
  "nav.community",
  "nav.network",
  "nav.developer",
];

const adminGroups = [
  "nav.admin",
  "nav.security",
  "nav.operator",
];

// isAdmin 상태에 따라 그룹 필터링
const visibleGroups = isAdmin 
  ? [...publicGroups, ...adminGroups] 
  : publicGroups;
```

---

## 최종 분류 요약

### 🟢 공개 메뉴 (Public) - 37개 항목

| 그룹 | 메뉴 수 |
|------|--------|
| 익스플로러 | 4 |
| 토큰 v4.0 | 4 |
| 스테이킹 | 3 |
| DeFi | 8 |
| 커뮤니티 | 1 |
| 네트워크 | 6 |
| 개발자 | 2 |
| **합계** | **28** |

### 🔴 비공개 메뉴 (Private) - 8개 항목

| 그룹 | 메뉴 | 인증 필요 |
|------|------|----------|
| 관리자 | 관리자 패널 | 관리자 |
| 관리자 | 노드 상태 | 관리자 |
| 관리자 | 성능 | 관리자 |
| 보안 | API 키 | 개발자 인증 |
| 운영자 | 운영자 포털 | 운영자 |
| 운영자 | 멤버 관리 | 운영자 |
| 운영자 | 검증자 운영 | 운영자 |
| 운영자 | 보안 감사 | 운영자 |
| 운영자 | 리포트 | 운영자 |

---

## 결론

현재 `/app` 사이드바에는 **일반 사용자에게 노출되면 안 되는 관리자/운영자 메뉴가 포함**되어 있습니다. 

**권장 조치:**
1. 사이드바에서 `nav.admin`, `nav.security`, `nav.operator` 그룹을 **기본적으로 숨김 처리**
2. 관리자 로그인 상태에서만 해당 메뉴 표시
3. 또는 별도의 `/admin` 및 `/operator` URL 구조로 완전 분리

이렇게 하면 일반 사용자는 깔끔한 DeFi/Explorer 인터페이스만 보게 되고, 보안이 강화됩니다.

---

*문서 작성일: 2024년 12월 7일*
*분석 대상: TBURN Lab Mainnet Explorer v8.0*

---

## 적용 완료 (2024년 12월 7일)

### 변경 사항
`client/src/components/app-sidebar.tsx` 파일에서 다음 메뉴 그룹을 사이드바에서 제거했습니다:

- ❌ `nav.admin` (관리자 패널, 노드 상태, 성능)
- ❌ `nav.security` (API 키)
- ❌ `nav.operator` (운영자 포털, 멤버 관리, 검증자 운영, 보안 감사, 리포트)

### 접근 방법
- **Admin Portal**: `/admin` URL로 직접 접근 (별도 인증 필요)
- **Operator Portal**: `/app/operator` URL로 직접 접근 (`OperatorAuthGuard`로 보호됨)
