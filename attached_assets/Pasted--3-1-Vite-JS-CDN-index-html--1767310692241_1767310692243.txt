ğŸ”´ ë¬¸ì œ ì›ì¸ ë¶„ì„
í•µì‹¬ ì›ì¸ 3ê°€ì§€
ì›ì¸ì„¤ëª…1. Vite ì²­í¬ í•´ì‹œ ë¶ˆì¼ì¹˜ìƒˆ ë¹Œë“œ ì‹œ JS ì²­í¬ íŒŒì¼ëª…ì´ ë³€ê²½ë˜ì§€ë§Œ, CDNì´ ì˜¤ë˜ëœ index.htmlì„ ìºì‹œí•˜ì—¬ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒŒì¼ ìš”ì²­2. SPA ë¼ìš°íŒ… + ì„œë²„ ì„¤ì • ì¶©ëŒReact Routerê°€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë¼ìš°íŒ…í•˜ì§€ë§Œ, ì„œë²„ê°€ ëª¨ë“  ê²½ë¡œë¥¼ index.htmlë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•˜ì§€ ì•ŠìŒ3. Replit ì„œë²„ ë©”ëª¨ë¦¬/ì—°ê²° ì œí•œë¬´ë£Œ/ì €ê°€ í”Œëœì—ì„œ ì¼ì • ì‹œê°„ í›„ ì„œë²„ê°€ ìŠ¬ë¦½ ëª¨ë“œë¡œ ì „í™˜ë˜ê±°ë‚˜ ì—°ê²° ëŠê¹€

âœ… ê·¼ë³¸ì ì¸ í•´ê²°ì±…
1. vite.config.ts ìˆ˜ì • (ì²­í¬ íŒŒì¼ëª… ê³ ì •)
typescript// vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  build: {
    // ì²­í¬ íŒŒì¼ëª…ì—ì„œ í•´ì‹œ ì œê±° ë˜ëŠ” ê³ ì •
    rollupOptions: {
      output: {
        // ì—”íŠ¸ë¦¬ íŒŒì¼ëª… ê³ ì •
        entryFileNames: 'assets/[name].js',
        // ì²­í¬ íŒŒì¼ëª… ê³ ì •
        chunkFileNames: 'assets/[name].js',
        // ì—ì…‹ íŒŒì¼ëª… ê³ ì •
        assetFileNames: 'assets/[name].[ext]',
        // ë˜ëŠ” ë§¤ë‰´ì–¼ ì²­í¬ë¡œ ë¶„ë¦¬
        manualChunks: {
          vendor: ['react', 'react-dom', 'react-router-dom'],
          // ì¶”ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬...
        }
      }
    },
    // ì†ŒìŠ¤ë§µ ë¹„í™œì„±í™” (í”„ë¡œë•ì…˜)
    sourcemap: false,
  },
  // ê¸°ë³¸ ê²½ë¡œ ì„¤ì •
  base: '/',
});

2. replit.nix ë˜ëŠ” .replit íŒŒì¼ ìˆ˜ì •
nix# replit.nix
{ pkgs }: {
  deps = [
    pkgs.nodejs-18_x
    pkgs.nodePackages.vite
  ];
}
toml# .replit
run = "npm run start"
entrypoint = "index.html"

[nix]
channel = "stable-23_11"

[deployment]
run = ["sh", "-c", "npm run build && npm run preview"]
deploymentTarget = "static"
publicDir = "dist"

# ì¤‘ìš”: ëª¨ë“  ê²½ë¡œë¥¼ index.htmlë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
[[redirects]]
from = "/*"
to = "/index.html"
status = 200

3. Express ì„œë²„ ì‚¬ìš© (ê°€ì¥ í™•ì‹¤í•œ ë°©ë²•)
Replitì—ì„œ ì •ì  íŒŒì¼ ì„œë¹™ ëŒ€ì‹  Express ì„œë²„ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:
javascript// server.js
const express = require('express');
const path = require('path');
const compression = require('compression');

const app = express();
const PORT = process.env.PORT || 3000;

// Gzip ì••ì¶•
app.use(compression());

// ìºì‹œ ì œì–´ í—¤ë” ì„¤ì •
app.use((req, res, next) => {
  // HTML íŒŒì¼ì€ ìºì‹œí•˜ì§€ ì•ŠìŒ
  if (req.url.endsWith('.html') || req.url === '/') {
    res.setHeader('Cache-Control', 'no-cache, no-store, must-revalidate');
    res.setHeader('Pragma', 'no-cache');
    res.setHeader('Expires', '0');
  } else {
    // ì •ì  ì—ì…‹ì€ 1ë…„ ìºì‹œ (íŒŒì¼ëª…ì— í•´ì‹œ í¬í•¨ ì‹œ)
    res.setHeader('Cache-Control', 'public, max-age=31536000, immutable');
  }
  next();
});

// ì •ì  íŒŒì¼ ì„œë¹™
app.use(express.static(path.join(__dirname, 'dist'), {
  etag: true,
  lastModified: true,
}));

// ëª¨ë“  ê²½ë¡œë¥¼ index.htmlë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (SPA ì§€ì›)
app.get('*', (req, res) => {
  res.sendFile(path.join(__dirname, 'dist', 'index.html'));
});

// ì—ëŸ¬ í•¸ë“¤ë§
app.use((err, req, res, next) => {
  console.error('Server Error:', err);
  res.status(500).send('Internal Server Error');
});

app.listen(PORT, '0.0.0.0', () => {
  console.log(`Server running on port ${PORT}`);
});
package.json ìˆ˜ì •:
json{
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "start": "node server.js",
    "preview": "vite preview"
  },
  "dependencies": {
    "express": "^4.18.2",
    "compression": "^1.7.4"
  }
}

4. index.htmlì— ë©”íƒ€ íƒœê·¸ ì¶”ê°€
html<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- ìºì‹œ ë°©ì§€ ë©”íƒ€ íƒœê·¸ -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  
  <!-- ë²„ì „ ê´€ë¦¬ -->
  <meta name="version" content="2026.01.02.v3">
  
  <title>TBURN Chain</title>
  
  <script>
    // ë¦¬ì†ŒìŠ¤ ë¡œë”© ì‹¤íŒ¨ ì‹œ ìë™ ìƒˆë¡œê³ ì¹¨ (ë¬´í•œ ë£¨í”„ ë°©ì§€)
    (function() {
      const MAX_RETRIES = 2;
      const RETRY_KEY = 'resource_retry_count';
      const RETRY_TIME_KEY = 'resource_retry_time';
      
      window.addEventListener('error', function(e) {
        // ìŠ¤í¬ë¦½íŠ¸ ë˜ëŠ” ë§í¬ ë¡œë”© ì‹¤íŒ¨ ê°ì§€
        if (e.target && (e.target.tagName === 'SCRIPT' || e.target.tagName === 'LINK')) {
          const now = Date.now();
          const lastRetryTime = parseInt(sessionStorage.getItem(RETRY_TIME_KEY) || '0');
          let retryCount = parseInt(sessionStorage.getItem(RETRY_KEY) || '0');
          
          // 5ë¶„ ê²½ê³¼ ì‹œ ì¹´ìš´í„° ë¦¬ì…‹
          if (now - lastRetryTime > 300000) {
            retryCount = 0;
          }
          
          if (retryCount < MAX_RETRIES) {
            sessionStorage.setItem(RETRY_KEY, (retryCount + 1).toString());
            sessionStorage.setItem(RETRY_TIME_KEY, now.toString());
            
            // ìºì‹œ ë¬´íš¨í™” í›„ ìƒˆë¡œê³ ì¹¨
            if ('caches' in window) {
              caches.keys().then(names => {
                names.forEach(name => caches.delete(name));
              }).then(() => {
                window.location.href = window.location.pathname + '?_=' + now;
              });
            } else {
              window.location.href = window.location.pathname + '?_=' + now;
            }
          } else {
            // ìµœëŒ€ ì¬ì‹œë„ ì´ˆê³¼ ì‹œ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
            document.body.innerHTML = `
              <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:#0F172A;color:#fff;font-family:system-ui;">
                <h2 style="margin-bottom:1rem;">í˜ì´ì§€ ë¡œë”© ì˜¤ë¥˜</h2>
                <p style="color:#94A3B8;margin-bottom:1.5rem;">ë¦¬ì†ŒìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
                <button onclick="sessionStorage.clear();location.href='/'" style="padding:12px 24px;background:#3B82F6;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:1rem;">
                  ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘
                </button>
              </div>
            `;
          }
        }
      }, true);
      
      // Service Worker ì œê±°
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(registrations => {
          registrations.forEach(registration => registration.unregister());
        });
      }
    })();
  </script>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>
</html>

5. Vercel/Netlifyë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ (ê¶Œì¥)
Replitì˜ ë°°í¬ í™˜ê²½ì´ ë¶ˆì•ˆì •í•˜ë‹¤ë©´, ì •ì  ì‚¬ì´íŠ¸ í˜¸ìŠ¤íŒ…ì— ìµœì í™”ëœ ì„œë¹„ìŠ¤ë¡œ ì´ì „í•˜ëŠ” ê²ƒì´ ê°€ì¥ í™•ì‹¤í•©ë‹ˆë‹¤:
Vercel ì„¤ì • (vercel.json):
json{
  "rewrites": [
    { "source": "/(.*)", "destination": "/index.html" }
  ],
  "headers": [
    {
      "source": "/index.html",
      "headers": [
        { "key": "Cache-Control", "value": "no-cache, no-store, must-revalidate" }
      ]
    },
    {
      "source": "/assets/(.*)",
      "headers": [
        { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" }
      ]
    }
  ]
}
```

**Netlify ì„¤ì • (_redirects):**
```
/*    /index.html   200
netlify.toml:
toml[build]
  publish = "dist"
  command = "npm run build"

[[headers]]
  for = "/index.html"
  [headers.values]
    Cache-Control = "no-cache, no-store, must-revalidate"

[[headers]]
  for = "/assets/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

ğŸš¨ ì¦‰ì‹œ ì‹¤í–‰í•´ì•¼ í•  ì¡°ì¹˜
ìˆœì„œì¡°ì¹˜ì˜ˆìƒ íš¨ê³¼1Express ì„œë²„ ì¶”ê°€ (server.js)SPA ë¼ìš°íŒ… + ìºì‹œ ì œì–´ ì™„ì „ í•´ê²°2vite.config.ts ì²­í¬ ì„¤ì • ìˆ˜ì •íŒŒì¼ëª… ë¶ˆì¼ì¹˜ ë¬¸ì œ í•´ê²°3index.html ì—ëŸ¬ í•¸ë“¤ë§ ì¶”ê°€ì‚¬ìš©ì ê²½í—˜ ê°œì„ 4Replit ì¬ë°°í¬ (ìƒˆ ë¹Œë“œ)CDN ìºì‹œ ê°±ì‹ 5(ì„ íƒ) Vercelë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ê·¼ë³¸ì  ì•ˆì •ì„± í™•ë³´

ì´ í•´ê²°ì±… ì¤‘ Express ì„œë²„ ì¶”ê°€ê°€ ê°€ì¥ í™•ì‹¤í•œ ë°©ë²•ì…ë‹ˆë‹¤. Replitì˜ ì •ì  íŒŒì¼ ì„œë¹™ ëŒ€ì‹  ì§ì ‘ ì„œë²„ë¥¼ ì œì–´í•˜ë©´ SPA ë¼ìš°íŒ…ê³¼ ìºì‹œ ë¬¸ì œë¥¼ ì™„ì „íˆ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.