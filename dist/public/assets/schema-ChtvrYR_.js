var _r=Object.defineProperty;var fr=(n,l,r)=>l in n?_r(n,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[l]=r;var d=(n,l,r)=>fr(n,typeof l!="symbol"?l+"":l,r);import{d0 as mr,d1 as pr,d2 as Nr,d3 as gr,d4 as yr,d5 as hr,d6 as Ar,d7 as ie,d8 as br,d9 as vr,da as wr,db as kr,dc as Sr,dd as Tr,de as xr,df as Pr,dg as Ir,dh as ve,di as Cr,dj as qr,dk as Rr,dl as Dr,dm as Ur,dn as Br,dp as Vr,dq as Kr,dr as zr,ds as Mr,dt as Lr,du as Fr,dv as Er,dw as jr,dx as Hr,dy as Qr,dz as Or,dA as $r,dB as Gr,dC as Zr,dD as Wr,dE as Xr,dF as Jr,dG as Yr,dH as eu,dI as tu,dJ as au,dK as lu,dL as ou,dM as nu,dN as ru,c$ as ae,cV as F,dO as uu,c_ as mo,dP as du,dQ as po,cZ as M,dR as iu,dS as su,dT as cu,dU as we,dV as No,dW as _u,dX as fu,dY as mu,dZ as pu,d_ as Nu,d$ as gu,e0 as yu,e1 as hu,e2 as Au,e3 as bu,e4 as vu,e5 as wu,e6 as ku,e7 as Su,e8 as Tu,e9 as xu,ea as Pu,eb as go,ec as Iu,cY as K,cW as de,ed as Cu,ee as qu,ef as Ru,eg as Du,eh as Uu,ei as Bu,ej as Vu,ek as Ku,el as zu,em as yo,en as Mu,eo as Lu,ep as Fu,cX as x,eq as Eu,er as ju,es as Hu,et as pe,eu as Qu,ev as Ou,ew as $u,aN as Gu,a6 as Zu,r as te}from"./index-4Fx_5_L1.js";const Wu=Object.freeze(Object.defineProperty({__proto__:null,BRAND:mr,DIRTY:pr,EMPTY_PATH:Nr,INVALID:gr,NEVER:yr,OK:hr,ParseStatus:Ar,Schema:ie,ZodAny:br,ZodArray:vr,ZodBigInt:wr,ZodBoolean:kr,ZodBranded:Sr,ZodCatch:Tr,ZodDate:xr,ZodDefault:Pr,ZodDiscriminatedUnion:Ir,ZodEffects:ve,ZodEnum:Cr,ZodError:qr,get ZodFirstPartyTypeKind(){return Rr},ZodFunction:Dr,ZodIntersection:Ur,ZodIssueCode:Br,ZodLazy:Vr,ZodLiteral:Kr,ZodMap:zr,ZodNaN:Mr,ZodNativeEnum:Lr,ZodNever:Fr,ZodNull:Er,ZodNullable:jr,ZodNumber:Hr,ZodObject:Qr,ZodOptional:Or,ZodParsedType:$r,ZodPipeline:Gr,ZodPromise:Zr,ZodReadonly:Wr,ZodRecord:Xr,ZodSchema:ie,ZodSet:Jr,ZodString:Yr,ZodSymbol:eu,ZodTransformer:ve,ZodTuple:tu,ZodType:ie,ZodUndefined:au,ZodUnion:lu,ZodUnknown:ou,ZodVoid:nu,addIssueToContext:ru,any:ae,array:F,bigint:uu,boolean:mo,coerce:du,custom:po,date:M,datetimeRegex:iu,defaultErrorMap:su,discriminatedUnion:cu,effect:we,enum:No,function:_u,getErrorMap:fu,getParsedType:mu,instanceof:pu,intersection:Nu,isAborted:gu,isAsync:yu,isDirty:hu,isValid:Au,late:bu,lazy:vu,literal:wu,makeIssue:ku,map:Su,nan:Tu,nativeEnum:xu,never:Pu,null:go,nullable:Iu,number:K,object:de,get objectUtil(){return Cu},oboolean:qu,onumber:Ru,optional:Du,ostring:Uu,pipeline:Bu,preprocess:Vu,promise:Ku,quotelessJson:zu,record:yo,set:Mu,setErrorMap:Lu,strictObject:Fu,string:x,symbol:Eu,transformer:we,tuple:ju,undefined:Hu,union:pe,unknown:Qu,get util(){return Ou},void:$u},Symbol.toStringTag,{value:"Module"}));function e_({channel:n,schema:l,queryKey:r,updateMode:u="snapshot",onMessage:f,enabled:g=!0}){const{lastMessage:A,isConnected:w}=Gu(),v=Zu(),T=te.useRef(""),y=te.useRef(!0);return te.useEffect(()=>(y.current=!0,()=>{y.current=!1}),[n,r,u]),te.useEffect(()=>{if(!(!g||!A||!w)&&y.current)try{const R=JSON.parse(A.data);if(R.type!==n)return;const S=`${R.type}-${R.timestamp}-${JSON.stringify(R.data)}`;if(S===T.current)return;T.current=S;const I=l.safeParse(R.data);if(!I.success){console.error(`[WebSocket] Schema validation failed for channel '${n}':`,I.error);return}const L=I.data,W=Array.isArray(r)?r:[r];switch(u){case"snapshot":const ir=v.getQueryData(W),sr=JSON.stringify(L),cr=JSON.stringify(ir);if(sr===cr)return;v.setQueryData(W,L);break;case"update":v.setQueryData(W,Y=>{if(!Array.isArray(Y))return[L];const Ae=L;if(Ae.id){const be=Y.findIndex(ee=>ee.id===Ae.id);if(be>=0){const ee=[...Y];return ee[be]=L,ee}}return[L,...Y]});break;case"replace":v.setQueryData(W,L);break}f==null||f(L),console.log(`[WebSocket] Updated cache for ${n}:`,{queryKey:W,mode:u,timestamp:R.timestamp})}catch(R){console.error(`[WebSocket] Error processing message for channel '${n}':`,R)}},[A,n,l,r,u,f,g,w,v]),{isConnected:w}}const m=Symbol.for("drizzle:entityKind");function B(n,l){if(!n||typeof n!="object")return!1;if(n instanceof l)return!0;if(!Object.prototype.hasOwnProperty.call(l,m))throw new Error(`Class "${l.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(n).constructor;if(r)for(;r;){if(m in r&&r[m]===l[m])return!0;r=Object.getPrototypeOf(r)}return!1}var qe;qe=m;class O{constructor(l,r){d(this,"name");d(this,"keyAsName");d(this,"primary");d(this,"notNull");d(this,"default");d(this,"defaultFn");d(this,"onUpdateFn");d(this,"hasDefault");d(this,"isUnique");d(this,"uniqueName");d(this,"uniqueType");d(this,"dataType");d(this,"columnType");d(this,"enumValues");d(this,"generated");d(this,"generatedIdentity");d(this,"config");this.table=l,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(l){return l}mapToDriverValue(l){return l}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}d(O,qe,"Column");var Re;Re=m;class ho{constructor(l,r,u){d(this,"config");d(this,"$default",this.$defaultFn);d(this,"$onUpdate",this.$onUpdateFn);this.config={name:l,keyAsName:l==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:u,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(l){return this.config.default=l,this.config.hasDefault=!0,this}$defaultFn(l){return this.config.defaultFn=l,this.config.hasDefault=!0,this}$onUpdateFn(l){return this.config.onUpdateFn=l,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(l){this.config.name===""&&(this.config.name=l)}}d(ho,Re,"ColumnBuilder");const H=Symbol.for("drizzle:Name");var De;De=m;class Ao{constructor(l,r){d(this,"reference");d(this,"_onUpdate","no action");d(this,"_onDelete","no action");this.reference=()=>{const{name:u,columns:f,foreignColumns:g}=l();return{name:u,columns:f,foreignTable:g[0].table,foreignColumns:g}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(l){return this._onUpdate=l===void 0?"no action":l,this}onDelete(l){return this._onDelete=l===void 0?"no action":l,this}build(l){return new bo(l,this)}}d(Ao,De,"PgForeignKeyBuilder");var Ue;Ue=m;class bo{constructor(l,r){d(this,"reference");d(this,"onUpdate");d(this,"onDelete");this.table=l,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:l,columns:r,foreignColumns:u}=this.reference(),f=r.map(w=>w.name),g=u.map(w=>w.name),A=[this.table[H],...f,u[0].table[H],...g];return l??`${A.join("_")}_fk`}}d(bo,Ue,"PgForeignKey");function Xu(n,...l){return n(...l)}function Ju(n,l){return`${n[H]}_${l.join("_")}_unique`}function ke(n,l,r){for(let u=l;u<n.length;u++){const f=n[u];if(f==="\\"){u++;continue}if(f==='"')return[n.slice(l,u).replace(/\\/g,""),u+1];if(!r&&(f===","||f==="}"))return[n.slice(l,u).replace(/\\/g,""),u]}return[n.slice(l).replace(/\\/g,""),n.length]}function vo(n,l=0){const r=[];let u=l,f=!1;for(;u<n.length;){const g=n[u];if(g===","){(f||u===l)&&r.push(""),f=!0,u++;continue}if(f=!1,g==="\\"){u+=2;continue}if(g==='"'){const[v,T]=ke(n,u+1,!0);r.push(v),u=T;continue}if(g==="}")return[r,u+1];if(g==="{"){const[v,T]=vo(n,u+1);r.push(v),u=T;continue}const[A,w]=ke(n,u,!1);r.push(A),u=w}return[r,u]}function Yu(n){const[l]=vo(n,1);return l}function wo(n){return`{${n.map(l=>Array.isArray(l)?wo(l):typeof l=="string"?`"${l.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${l}`).join(",")}}`}var Be,Ve;class k extends(Ve=ho,Be=m,Ve){constructor(){super(...arguments);d(this,"foreignKeyConfigs",[])}array(r){return new So(this.config.name,this,r)}references(r,u={}){return this.foreignKeyConfigs.push({ref:r,actions:u}),this}unique(r,u){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=u==null?void 0:u.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,u){return this.foreignKeyConfigs.map(({ref:f,actions:g})=>Xu((A,w)=>{const v=new Ao(()=>{const T=A();return{columns:[r],foreignColumns:[T]}});return w.onUpdate&&v.onUpdate(w.onUpdate),w.onDelete&&v.onDelete(w.onDelete),v.build(u)},f,g))}buildExtraConfigColumn(r){return new ko(r,this.config)}}d(k,Be,"PgColumnBuilder");var Ke,ze;class b extends(ze=O,Ke=m,ze){constructor(l,r){r.uniqueName||(r.uniqueName=Ju(l,[r.name])),super(l,r),this.table=l}}d(b,Ke,"PgColumn");var Me,Le;class ko extends(Le=b,Me=m,Le){constructor(){super(...arguments);d(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});d(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}d(ko,Me,"ExtraConfigColumn");var Fe,Ee;class So extends(Ee=k,Fe=m,Ee){constructor(l,r,u){super(l,"array","PgArray"),this.config.baseBuilder=r,this.config.size=u}build(l){const r=this.config.baseBuilder.build(l);return new fe(l,this.config,r)}}d(So,Fe,"PgArrayBuilder");var je,He;const ue=class ue extends(He=b,je=m,He){constructor(r,u,f,g){super(r,u);d(this,"size");this.baseColumn=f,this.range=g,this.size=u.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=Yu(r)),r.map(u=>this.baseColumn.mapFromDriverValue(u))}mapToDriverValue(r,u=!1){const f=r.map(g=>g===null?null:B(this.baseColumn,ue)?this.baseColumn.mapToDriverValue(g,!0):this.baseColumn.mapToDriverValue(g));return u?f:wo(f)}};d(ue,je,"PgArray");let fe=ue;const Se=Symbol.for("drizzle:isPgEnum");function ed(n){return!!n&&typeof n=="function"&&Se in n&&n[Se]===!0}var Qe;Qe=m;class Ne{constructor(l,r,u,f=!1){this._={brand:"Subquery",sql:l,selectedFields:r,alias:u,isWith:f}}}d(Ne,Qe,"Subquery");const td={startActiveSpan(n,l){return l()}},Q=Symbol.for("drizzle:ViewBaseConfig"),se=Symbol.for("drizzle:Schema"),Te=Symbol.for("drizzle:Columns"),xe=Symbol.for("drizzle:ExtraConfigColumns"),ce=Symbol.for("drizzle:OriginalName"),_e=Symbol.for("drizzle:BaseName"),le=Symbol.for("drizzle:IsAlias"),Pe=Symbol.for("drizzle:ExtraConfigBuilder"),To=Symbol.for("drizzle:IsDrizzleTable");var Oe,$e,Ge,Ze,We,Xe,Je,Ye,et,tt;tt=m,et=H,Ye=ce,Je=se,Xe=Te,We=xe,Ze=_e,Ge=le,$e=To,Oe=Pe;class V{constructor(l,r,u){d(this,et);d(this,Ye);d(this,Je);d(this,Xe);d(this,We);d(this,Ze);d(this,Ge,!1);d(this,$e,!0);d(this,Oe);this[H]=this[ce]=l,this[se]=r,this[_e]=u}}d(V,tt,"Table"),d(V,"Symbol",{Name:H,Schema:se,OriginalName:ce,Columns:Te,ExtraConfigColumns:xe,BaseName:_e,IsAlias:le,ExtraConfigBuilder:Pe});function xo(n){return typeof n=="object"&&n!==null&&To in n}function ad(n){return n!=null&&typeof n.getSQL=="function"}function ld(n){var r;const l={sql:"",params:[]};for(const u of n)l.sql+=u.sql,l.params.push(...u.params),(r=u.typings)!=null&&r.length&&(l.typings||(l.typings=[]),l.typings.push(...u.typings));return l}var at;at=m;class z{constructor(l){d(this,"value");this.value=Array.isArray(l)?l:[l]}getSQL(){return new D([this])}}d(z,at,"StringChunk");var lt;lt=m;const E=class E{constructor(l){d(this,"decoder",Po);d(this,"shouldInlineParams",!1);this.queryChunks=l}append(l){return this.queryChunks.push(...l.queryChunks),this}toQuery(l){return td.startActiveSpan("drizzle.buildSQL",r=>{const u=this.buildQueryFromSourceParams(this.queryChunks,l);return r==null||r.setAttributes({"drizzle.query.text":u.sql,"drizzle.query.params":JSON.stringify(u.params)}),u})}buildQueryFromSourceParams(l,r){const u=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:f,escapeName:g,escapeParam:A,prepareTyping:w,inlineParams:v,paramStartIndex:T}=u;return ld(l.map(y=>{var R;if(B(y,z))return{sql:y.value.join(""),params:[]};if(B(y,oe))return{sql:g(y.value),params:[]};if(y===void 0)return{sql:"",params:[]};if(Array.isArray(y)){const S=[new z("(")];for(const[I,L]of y.entries())S.push(L),I<y.length-1&&S.push(new z(", "));return S.push(new z(")")),this.buildQueryFromSourceParams(S,u)}if(B(y,E))return this.buildQueryFromSourceParams(y.queryChunks,{...u,inlineParams:v||y.shouldInlineParams});if(B(y,V)){const S=y[V.Symbol.Schema],I=y[V.Symbol.Name];return{sql:S===void 0||y[le]?g(I):g(S)+"."+g(I),params:[]}}if(B(y,O)){const S=f.getColumnCasing(y);if(r.invokeSource==="indexes")return{sql:g(S),params:[]};const I=y.table[V.Symbol.Schema];return{sql:y.table[le]||I===void 0?g(y.table[V.Symbol.Name])+"."+g(S):g(I)+"."+g(y.table[V.Symbol.Name])+"."+g(S),params:[]}}if(B(y,qo)){const S=y[Q].schema,I=y[Q].name;return{sql:S===void 0||y[Q].isAlias?g(I):g(S)+"."+g(I),params:[]}}if(B(y,ge)){if(B(y.value,ne))return{sql:A(T.value++,y),params:[y],typings:["none"]};const S=y.value===null?null:y.encoder.mapToDriverValue(y.value);if(B(S,E))return this.buildQueryFromSourceParams([S],u);if(v)return{sql:this.mapInlineParam(S,u),params:[]};let I=["none"];return w&&(I=[w(y.encoder)]),{sql:A(T.value++,S),params:[S],typings:I}}return B(y,ne)?{sql:A(T.value++,y),params:[y],typings:["none"]}:B(y,E.Aliased)&&y.fieldAlias!==void 0?{sql:g(y.fieldAlias),params:[]}:B(y,Ne)?y._.isWith?{sql:g(y._.alias),params:[]}:this.buildQueryFromSourceParams([new z("("),y._.sql,new z(") "),new oe(y._.alias)],u):ed(y)?y.schema?{sql:g(y.schema)+"."+g(y.enumName),params:[]}:{sql:g(y.enumName),params:[]}:ad(y)?(R=y.shouldOmitSQLParens)!=null&&R.call(y)?this.buildQueryFromSourceParams([y.getSQL()],u):this.buildQueryFromSourceParams([new z("("),y.getSQL(),new z(")")],u):v?{sql:this.mapInlineParam(y,u),params:[]}:{sql:A(T.value++,y),params:[y],typings:["none"]}}))}mapInlineParam(l,{escapeString:r}){if(l===null)return"null";if(typeof l=="number"||typeof l=="boolean")return l.toString();if(typeof l=="string")return r(l);if(typeof l=="object"){const u=l.toString();return r(u==="[object Object]"?JSON.stringify(l):u)}throw new Error("Unexpected param value: "+l)}getSQL(){return this}as(l){return l===void 0?this:new E.Aliased(this,l)}mapWith(l){return this.decoder=typeof l=="function"?{mapFromDriverValue:l}:l,this}inlineParams(){return this.shouldInlineParams=!0,this}if(l){return l?this:void 0}};d(E,lt,"SQL");let D=E;var ot;ot=m;class oe{constructor(l){d(this,"brand");this.value=l}getSQL(){return new D([this])}}d(oe,ot,"Name");const Po={mapFromDriverValue:n=>n},Io={mapToDriverValue:n=>n};({...Po,...Io});var nt;nt=m;class ge{constructor(l,r=Io){d(this,"brand");this.value=l,this.encoder=r}getSQL(){return new D([this])}}d(ge,nt,"Param");function c(n,...l){const r=[];(l.length>0||n.length>0&&n[0]!=="")&&r.push(new z(n[0]));for(const[u,f]of l.entries())r.push(f,new z(n[u+1]));return new D(r)}(n=>{function l(){return new D([])}n.empty=l;function r(v){return new D(v)}n.fromList=r;function u(v){return new D([new z(v)])}n.raw=u;function f(v,T){const y=[];for(const[R,S]of v.entries())R>0&&T!==void 0&&y.push(T),y.push(S);return new D(y)}n.join=f;function g(v){return new oe(v)}n.identifier=g;function A(v){return new ne(v)}n.placeholder=A;function w(v,T){return new ge(v,T)}n.param=w})(c||(c={}));(n=>{var r;r=m;const u=class u{constructor(g,A){d(this,"isSelectionField",!1);this.sql=g,this.fieldAlias=A}getSQL(){return this.sql}clone(){return new u(this.sql,this.fieldAlias)}};d(u,r,"SQL.Aliased");let l=u;n.Aliased=l})(D||(D={}));var rt;rt=m;class ne{constructor(l){this.name=l}getSQL(){return new D([this])}}d(ne,rt,"Placeholder");const Co=Symbol.for("drizzle:IsDrizzleView");var ut,dt,it;it=m,dt=Q,ut=Co;class qo{constructor({name:l,schema:r,selectedFields:u,query:f}){d(this,dt);d(this,ut,!0);this[Q]={name:l,originalName:l,schema:r,selectedFields:u,query:f,isExisting:!f,isAlias:!1}}getSQL(){return new D([this])}}d(qo,it,"View");function od(n){return typeof n=="object"&&n!==null&&Co in n}O.prototype.getSQL=function(){return new D([this])};V.prototype.getSQL=function(){return new D([this])};Ne.prototype.getSQL=function(){return new D([this])};function nd(n){return n[V.Symbol.Columns]}function rd(n){return n[Q].selectedFields}function U(n,l){return{name:typeof n=="string"&&n.length>0?n:"",config:typeof n=="object"?n:l}}var st,ct;class X extends(ct=k,st=m,ct){generatedAlwaysAsIdentity(l){if(l){const{name:r,...u}=l;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:u}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(l){if(l){const{name:r,...u}=l;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:u}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}d(X,st,"PgIntColumnBaseBuilder");var _t,ft;class Ro extends(ft=X,_t=m,ft){constructor(l){super(l,"number","PgBigInt53")}build(l){return new Do(l,this.config)}}d(Ro,_t,"PgBigInt53Builder");var mt,pt;class Do extends(pt=b,mt=m,pt){getSQLType(){return"bigint"}mapFromDriverValue(l){return typeof l=="number"?l:Number(l)}}d(Do,mt,"PgBigInt53");var Nt,gt;class Uo extends(gt=X,Nt=m,gt){constructor(l){super(l,"bigint","PgBigInt64")}build(l){return new Bo(l,this.config)}}d(Uo,Nt,"PgBigInt64Builder");var yt,ht;class Bo extends(ht=b,yt=m,ht){getSQLType(){return"bigint"}mapFromDriverValue(l){return BigInt(l)}}d(Bo,yt,"PgBigInt64");function h(n,l){const{name:r,config:u}=U(n,l);return u.mode==="number"?new Ro(r):new Uo(r)}var At,bt;class Vo extends(bt=k,At=m,bt){constructor(l){super(l,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(l){return new Ko(l,this.config)}}d(Vo,At,"PgBigSerial53Builder");var vt,wt;class Ko extends(wt=b,vt=m,wt){getSQLType(){return"bigserial"}mapFromDriverValue(l){return typeof l=="number"?l:Number(l)}}d(Ko,vt,"PgBigSerial53");var kt,St;class zo extends(St=k,kt=m,St){constructor(l){super(l,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(l){return new Mo(l,this.config)}}d(zo,kt,"PgBigSerial64Builder");var Tt,xt;class Mo extends(xt=b,Tt=m,xt){getSQLType(){return"bigserial"}mapFromDriverValue(l){return BigInt(l)}}d(Mo,Tt,"PgBigSerial64");function ud(n,l){const{name:r,config:u}=U(n,l);return u.mode==="number"?new Vo(r):new zo(r)}var Pt,It;class Lo extends(It=k,Pt=m,It){constructor(l){super(l,"boolean","PgBoolean")}build(l){return new Fo(l,this.config)}}d(Lo,Pt,"PgBooleanBuilder");var Ct,qt;class Fo extends(qt=b,Ct=m,qt){getSQLType(){return"boolean"}}d(Fo,Ct,"PgBoolean");function _(n){return new Lo(n??"")}var Rt,Dt;class Eo extends(Dt=k,Rt=m,Dt){constructor(l,r){super(l,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(l){return new jo(l,this.config)}}d(Eo,Rt,"PgCharBuilder");var Ut,Bt;class jo extends(Bt=b,Ut=m,Bt){constructor(){super(...arguments);d(this,"length",this.config.length);d(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}d(jo,Ut,"PgChar");function dd(n,l={}){const{name:r,config:u}=U(n,l);return new Eo(r,u)}var Vt,Kt;class Ho extends(Kt=k,Vt=m,Kt){constructor(l){super(l,"string","PgCidr")}build(l){return new Qo(l,this.config)}}d(Ho,Vt,"PgCidrBuilder");var zt,Mt;class Qo extends(Mt=b,zt=m,Mt){getSQLType(){return"cidr"}}d(Qo,zt,"PgCidr");function id(n){return new Ho(n??"")}var Lt,Ft;class Oo extends(Ft=k,Lt=m,Ft){constructor(l,r,u){super(l,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=u}build(l){return new $o(l,this.config)}}d(Oo,Lt,"PgCustomColumnBuilder");var Et,jt;class $o extends(jt=b,Et=m,jt){constructor(r,u){super(r,u);d(this,"sqlName");d(this,"mapTo");d(this,"mapFrom");this.sqlName=u.customTypeParams.dataType(u.fieldConfig),this.mapTo=u.customTypeParams.toDriver,this.mapFrom=u.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}d($o,Et,"PgCustomColumn");function sd(n){return(l,r)=>{const{name:u,config:f}=U(l,r);return new Oo(u,f,n)}}var Ht,Qt;class $ extends(Qt=k,Ht=m,Qt){defaultNow(){return this.default(c`now()`)}}d($,Ht,"PgDateColumnBaseBuilder");var Ot,$t;class Go extends($t=$,Ot=m,$t){constructor(l){super(l,"date","PgDate")}build(l){return new Zo(l,this.config)}}d(Go,Ot,"PgDateBuilder");var Gt,Zt;class Zo extends(Zt=b,Gt=m,Zt){getSQLType(){return"date"}mapFromDriverValue(l){return new Date(l)}mapToDriverValue(l){return l.toISOString()}}d(Zo,Gt,"PgDate");var Wt,Xt;class Wo extends(Xt=$,Wt=m,Xt){constructor(l){super(l,"string","PgDateString")}build(l){return new Xo(l,this.config)}}d(Wo,Wt,"PgDateStringBuilder");var Jt,Yt;class Xo extends(Yt=b,Jt=m,Yt){getSQLType(){return"date"}}d(Xo,Jt,"PgDateString");function cd(n,l){const{name:r,config:u}=U(n,l);return(u==null?void 0:u.mode)==="date"?new Go(r):new Wo(r)}var ea,ta;class Jo extends(ta=k,ea=m,ta){constructor(l){super(l,"number","PgDoublePrecision")}build(l){return new Yo(l,this.config)}}d(Jo,ea,"PgDoublePrecisionBuilder");var aa,la;class Yo extends(la=b,aa=m,la){getSQLType(){return"double precision"}mapFromDriverValue(l){return typeof l=="string"?Number.parseFloat(l):l}}d(Yo,aa,"PgDoublePrecision");function _d(n){return new Jo(n??"")}var oa,na;class en extends(na=k,oa=m,na){constructor(l){super(l,"string","PgInet")}build(l){return new tn(l,this.config)}}d(en,oa,"PgInetBuilder");var ra,ua;class tn extends(ua=b,ra=m,ua){getSQLType(){return"inet"}}d(tn,ra,"PgInet");function fd(n){return new en(n??"")}var da,ia;class an extends(ia=X,da=m,ia){constructor(l){super(l,"number","PgInteger")}build(l){return new ln(l,this.config)}}d(an,da,"PgIntegerBuilder");var sa,ca;class ln extends(ca=b,sa=m,ca){getSQLType(){return"integer"}mapFromDriverValue(l){return typeof l=="string"?Number.parseInt(l):l}}d(ln,sa,"PgInteger");function t(n){return new an(n??"")}var _a,fa;class on extends(fa=k,_a=m,fa){constructor(l,r){super(l,"string","PgInterval"),this.config.intervalConfig=r}build(l){return new nn(l,this.config)}}d(on,_a,"PgIntervalBuilder");var ma,pa;class nn extends(pa=b,ma=m,pa){constructor(){super(...arguments);d(this,"fields",this.config.intervalConfig.fields);d(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",u=this.precision?`(${this.precision})`:"";return`interval${r}${u}`}}d(nn,ma,"PgInterval");function md(n,l={}){const{name:r,config:u}=U(n,l);return new on(r,u)}var Na,ga;class rn extends(ga=k,Na=m,ga){constructor(l){super(l,"json","PgJson")}build(l){return new un(l,this.config)}}d(rn,Na,"PgJsonBuilder");var ya,ha;class un extends(ha=b,ya=m,ha){constructor(l,r){super(l,r)}getSQLType(){return"json"}mapToDriverValue(l){return JSON.stringify(l)}mapFromDriverValue(l){if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l}}d(un,ya,"PgJson");function pd(n){return new rn(n??"")}var Aa,ba;class dn extends(ba=k,Aa=m,ba){constructor(l){super(l,"json","PgJsonb")}build(l){return new sn(l,this.config)}}d(dn,Aa,"PgJsonbBuilder");var va,wa;class sn extends(wa=b,va=m,wa){constructor(l,r){super(l,r)}getSQLType(){return"jsonb"}mapToDriverValue(l){return JSON.stringify(l)}mapFromDriverValue(l){if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l}}d(sn,va,"PgJsonb");function p(n){return new dn(n??"")}var ka,Sa;class cn extends(Sa=k,ka=m,Sa){constructor(l){super(l,"array","PgLine")}build(l){return new _n(l,this.config)}}d(cn,ka,"PgLineBuilder");var Ta,xa;class _n extends(xa=b,Ta=m,xa){getSQLType(){return"line"}mapFromDriverValue(l){const[r,u,f]=l.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(u),Number.parseFloat(f)]}mapToDriverValue(l){return`{${l[0]},${l[1]},${l[2]}}`}}d(_n,Ta,"PgLine");var Pa,Ia;class fn extends(Ia=k,Pa=m,Ia){constructor(l){super(l,"json","PgLineABC")}build(l){return new mn(l,this.config)}}d(fn,Pa,"PgLineABCBuilder");var Ca,qa;class mn extends(qa=b,Ca=m,qa){getSQLType(){return"line"}mapFromDriverValue(l){const[r,u,f]=l.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(u),c:Number.parseFloat(f)}}mapToDriverValue(l){return`{${l.a},${l.b},${l.c}}`}}d(mn,Ca,"PgLineABC");function Nd(n,l){const{name:r,config:u}=U(n,l);return!(u!=null&&u.mode)||u.mode==="tuple"?new cn(r):new fn(r)}var Ra,Da;class pn extends(Da=k,Ra=m,Da){constructor(l){super(l,"string","PgMacaddr")}build(l){return new Nn(l,this.config)}}d(pn,Ra,"PgMacaddrBuilder");var Ua,Ba;class Nn extends(Ba=b,Ua=m,Ba){getSQLType(){return"macaddr"}}d(Nn,Ua,"PgMacaddr");function gd(n){return new pn(n??"")}var Va,Ka;class gn extends(Ka=k,Va=m,Ka){constructor(l){super(l,"string","PgMacaddr8")}build(l){return new yn(l,this.config)}}d(gn,Va,"PgMacaddr8Builder");var za,Ma;class yn extends(Ma=b,za=m,Ma){getSQLType(){return"macaddr8"}}d(yn,za,"PgMacaddr8");function yd(n){return new gn(n??"")}var La,Fa;class hn extends(Fa=k,La=m,Fa){constructor(l,r,u){super(l,"string","PgNumeric"),this.config.precision=r,this.config.scale=u}build(l){return new An(l,this.config)}}d(hn,La,"PgNumericBuilder");var Ea,ja;class An extends(ja=b,Ea=m,ja){constructor(r,u){super(r,u);d(this,"precision");d(this,"scale");this.precision=u.precision,this.scale=u.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}d(An,Ea,"PgNumeric");function N(n,l){const{name:r,config:u}=U(n,l);return new hn(r,u==null?void 0:u.precision,u==null?void 0:u.scale)}var Ha,Qa;class bn extends(Qa=k,Ha=m,Qa){constructor(l){super(l,"array","PgPointTuple")}build(l){return new vn(l,this.config)}}d(bn,Ha,"PgPointTupleBuilder");var Oa,$a;class vn extends($a=b,Oa=m,$a){getSQLType(){return"point"}mapFromDriverValue(l){if(typeof l=="string"){const[r,u]=l.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(u)]}return[l.x,l.y]}mapToDriverValue(l){return`(${l[0]},${l[1]})`}}d(vn,Oa,"PgPointTuple");var Ga,Za;class wn extends(Za=k,Ga=m,Za){constructor(l){super(l,"json","PgPointObject")}build(l){return new kn(l,this.config)}}d(wn,Ga,"PgPointObjectBuilder");var Wa,Xa;class kn extends(Xa=b,Wa=m,Xa){getSQLType(){return"point"}mapFromDriverValue(l){if(typeof l=="string"){const[r,u]=l.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(u)}}return l}mapToDriverValue(l){return`(${l.x},${l.y})`}}d(kn,Wa,"PgPointObject");function hd(n,l){const{name:r,config:u}=U(n,l);return!(u!=null&&u.mode)||u.mode==="tuple"?new bn(r):new wn(r)}function Ad(n){const l=[];for(let r=0;r<n.length;r+=2)l.push(Number.parseInt(n.slice(r,r+2),16));return new Uint8Array(l)}function Ie(n,l){const r=new ArrayBuffer(8),u=new DataView(r);for(let f=0;f<8;f++)u.setUint8(f,n[l+f]);return u.getFloat64(0,!0)}function Sn(n){const l=Ad(n);let r=0;const u=l[r];r+=1;const f=new DataView(l.buffer),g=f.getUint32(r,u===1);if(r+=4,g&536870912&&(f.getUint32(r,u===1),r+=4),(g&65535)===1){const A=Ie(l,r);r+=8;const w=Ie(l,r);return r+=8,[A,w]}throw new Error("Unsupported geometry type")}var Ja,Ya;class Tn extends(Ya=k,Ja=m,Ya){constructor(l){super(l,"array","PgGeometry")}build(l){return new xn(l,this.config)}}d(Tn,Ja,"PgGeometryBuilder");var el,tl;class xn extends(tl=b,el=m,tl){getSQLType(){return"geometry(point)"}mapFromDriverValue(l){return Sn(l)}mapToDriverValue(l){return`point(${l[0]} ${l[1]})`}}d(xn,el,"PgGeometry");var al,ll;class Pn extends(ll=k,al=m,ll){constructor(l){super(l,"json","PgGeometryObject")}build(l){return new In(l,this.config)}}d(Pn,al,"PgGeometryObjectBuilder");var ol,nl;class In extends(nl=b,ol=m,nl){getSQLType(){return"geometry(point)"}mapFromDriverValue(l){const r=Sn(l);return{x:r[0],y:r[1]}}mapToDriverValue(l){return`point(${l.x} ${l.y})`}}d(In,ol,"PgGeometryObject");function bd(n,l){const{name:r,config:u}=U(n,l);return!(u!=null&&u.mode)||u.mode==="tuple"?new Tn(r):new Pn(r)}var rl,ul;class Cn extends(ul=k,rl=m,ul){constructor(l,r){super(l,"number","PgReal"),this.config.length=r}build(l){return new qn(l,this.config)}}d(Cn,rl,"PgRealBuilder");var dl,il;class qn extends(il=b,dl=m,il){constructor(r,u){super(r,u);d(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}d(qn,dl,"PgReal");function q(n){return new Cn(n??"")}var sl,cl;class Rn extends(cl=k,sl=m,cl){constructor(l){super(l,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(l){return new Dn(l,this.config)}}d(Rn,sl,"PgSerialBuilder");var _l,fl;class Dn extends(fl=b,_l=m,fl){getSQLType(){return"serial"}}d(Dn,_l,"PgSerial");function vd(n){return new Rn(n??"")}var ml,pl;class Un extends(pl=X,ml=m,pl){constructor(l){super(l,"number","PgSmallInt")}build(l){return new Bn(l,this.config)}}d(Un,ml,"PgSmallIntBuilder");var Nl,gl;class Bn extends(gl=b,Nl=m,gl){constructor(){super(...arguments);d(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}d(Bn,Nl,"PgSmallInt");function wd(n){return new Un(n??"")}var yl,hl;class Vn extends(hl=k,yl=m,hl){constructor(l){super(l,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(l){return new Kn(l,this.config)}}d(Vn,yl,"PgSmallSerialBuilder");var Al,bl;class Kn extends(bl=b,Al=m,bl){getSQLType(){return"smallserial"}}d(Kn,Al,"PgSmallSerial");function kd(n){return new Vn(n??"")}var vl,wl;class zn extends(wl=k,vl=m,wl){constructor(l,r){super(l,"string","PgText"),this.config.enumValues=r.enum}build(l){return new Mn(l,this.config)}}d(zn,vl,"PgTextBuilder");var kl,Sl;class Mn extends(Sl=b,kl=m,Sl){constructor(){super(...arguments);d(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}d(Mn,kl,"PgText");function e(n,l={}){const{name:r,config:u}=U(n,l);return new zn(r,u)}var Tl,xl;class Ln extends(xl=$,Tl=m,xl){constructor(l,r,u){super(l,"string","PgTime"),this.withTimezone=r,this.precision=u,this.config.withTimezone=r,this.config.precision=u}build(l){return new Fn(l,this.config)}}d(Ln,Tl,"PgTimeBuilder");var Pl,Il;class Fn extends(Il=b,Pl=m,Il){constructor(r,u){super(r,u);d(this,"withTimezone");d(this,"precision");this.withTimezone=u.withTimezone,this.precision=u.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}d(Fn,Pl,"PgTime");function Sd(n,l={}){const{name:r,config:u}=U(n,l);return new Ln(r,u.withTimezone??!1,u.precision)}var Cl,ql;class En extends(ql=$,Cl=m,ql){constructor(l,r,u){super(l,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=u}build(l){return new jn(l,this.config)}}d(En,Cl,"PgTimestampBuilder");var Rl,Dl;class jn extends(Dl=b,Rl=m,Dl){constructor(r,u){super(r,u);d(this,"withTimezone");d(this,"precision");d(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));d(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=u.withTimezone,this.precision=u.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}d(jn,Rl,"PgTimestamp");var Ul,Bl;class Hn extends(Bl=$,Ul=m,Bl){constructor(l,r,u){super(l,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=u}build(l){return new Qn(l,this.config)}}d(Hn,Ul,"PgTimestampStringBuilder");var Vl,Kl;class Qn extends(Kl=b,Vl=m,Kl){constructor(r,u){super(r,u);d(this,"withTimezone");d(this,"precision");this.withTimezone=u.withTimezone,this.precision=u.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}d(Qn,Vl,"PgTimestampString");function o(n,l={}){const{name:r,config:u}=U(n,l);return(u==null?void 0:u.mode)==="string"?new Hn(r,u.withTimezone??!1,u.precision):new En(r,(u==null?void 0:u.withTimezone)??!1,u==null?void 0:u.precision)}var zl,Ml;class On extends(Ml=k,zl=m,Ml){constructor(l){super(l,"string","PgUUID")}defaultRandom(){return this.default(c`gen_random_uuid()`)}build(l){return new $n(l,this.config)}}d(On,zl,"PgUUIDBuilder");var Ll,Fl;class $n extends(Fl=b,Ll=m,Fl){getSQLType(){return"uuid"}}d($n,Ll,"PgUUID");function Td(n){return new On(n??"")}var El,jl;class Gn extends(jl=k,El=m,jl){constructor(l,r){super(l,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(l){return new Zn(l,this.config)}}d(Gn,El,"PgVarcharBuilder");var Hl,Ql;class Zn extends(Ql=b,Hl=m,Ql){constructor(){super(...arguments);d(this,"length",this.config.length);d(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}d(Zn,Hl,"PgVarchar");function a(n,l={}){const{name:r,config:u}=U(n,l);return new Gn(r,u)}var Ol,$l;class Wn extends($l=k,Ol=m,$l){constructor(l,r){super(l,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(l){return new Xn(l,this.config)}}d(Wn,Ol,"PgBinaryVectorBuilder");var Gl,Zl;class Xn extends(Zl=b,Gl=m,Zl){constructor(){super(...arguments);d(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}d(Xn,Gl,"PgBinaryVector");function xd(n,l){const{name:r,config:u}=U(n,l);return new Wn(r,u)}var Wl,Xl;class Jn extends(Xl=k,Wl=m,Xl){constructor(l,r){super(l,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(l){return new Yn(l,this.config)}}d(Jn,Wl,"PgHalfVectorBuilder");var Jl,Yl;class Yn extends(Yl=b,Jl=m,Yl){constructor(){super(...arguments);d(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(u=>Number.parseFloat(u))}}d(Yn,Jl,"PgHalfVector");function Pd(n,l){const{name:r,config:u}=U(n,l);return new Jn(r,u)}var eo,to;class er extends(to=k,eo=m,to){constructor(l,r){super(l,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(l){return new tr(l,this.config)}}d(er,eo,"PgSparseVectorBuilder");var ao,lo;class tr extends(lo=b,ao=m,lo){constructor(){super(...arguments);d(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}d(tr,ao,"PgSparseVector");function Id(n,l){const{name:r,config:u}=U(n,l);return new er(r,u)}var oo,no;class ar extends(no=k,oo=m,no){constructor(l,r){super(l,"array","PgVector"),this.config.dimensions=r.dimensions}build(l){return new lr(l,this.config)}}d(ar,oo,"PgVectorBuilder");var ro,uo;class lr extends(uo=b,ro=m,uo){constructor(){super(...arguments);d(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(u=>Number.parseFloat(u))}}d(lr,ro,"PgVector");function Cd(n,l){const{name:r,config:u}=U(n,l);return new ar(r,u)}function qd(){return{bigint:h,bigserial:ud,boolean:_,char:dd,cidr:id,customType:sd,date:cd,doublePrecision:_d,inet:fd,integer:t,interval:md,json:pd,jsonb:p,line:Nd,macaddr:gd,macaddr8:yd,numeric:N,point:hd,geometry:bd,real:q,serial:vd,smallint:wd,smallserial:kd,text:e,time:Sd,timestamp:o,uuid:Td,varchar:a,bit:xd,halfvec:Pd,sparsevec:Id,vector:Cd}}const me=Symbol.for("drizzle:PgInlineForeignKeys"),Ce=Symbol.for("drizzle:EnableRLS");var io,so,co,_o,fo;class re extends(fo=V,_o=m,co=me,so=Ce,io=V.Symbol.ExtraConfigBuilder,fo){constructor(){super(...arguments);d(this,co,[]);d(this,so,!1);d(this,io)}}d(re,_o,"PgTable"),d(re,"Symbol",Object.assign({},V.Symbol,{InlineForeignKeys:me,EnableRLS:Ce}));function Rd(n,l,r,u,f=n){const g=new re(n,u,f),A=typeof l=="function"?l(qd()):l,w=Object.fromEntries(Object.entries(A).map(([y,R])=>{const S=R;S.setName(y);const I=S.build(g);return g[me].push(...S.buildForeignKeys(I,g)),[y,I]})),v=Object.fromEntries(Object.entries(A).map(([y,R])=>{const S=R;S.setName(y);const I=S.buildExtraConfigColumn(g);return[y,I]})),T=Object.assign(g,w);return T[V.Symbol.Columns]=w,T[V.Symbol.ExtraConfigColumns]=v,Object.assign(T,{enableRLS:()=>(T[re.Symbol.EnableRLS]=!0,T)})}const i=(n,l,r)=>Rd(n,l,r,void 0),P={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function C(n,l){return l.includes(n.columnType)}function Dd(n){return"enumValues"in n&&Array.isArray(n.enumValues)&&n.enumValues.length>0}const Ud=pe([x(),K(),mo(),go()]),Bd=pe([Ud,yo(ae()),F(ae())]),Vd=po(n=>n instanceof Buffer);function or(n,l){const r=(l==null?void 0:l.zodInstance)??Wu,u=(l==null?void 0:l.coerce)??{};let f;return Dd(n)&&(f=n.enumValues.length?r.enum(n.enumValues):r.string()),f||(C(n,["PgGeometry","PgPointTuple"])?f=r.tuple([r.number(),r.number()]):C(n,["PgGeometryObject","PgPointObject"])?f=r.object({x:r.number(),y:r.number()}):C(n,["PgHalfVector","PgVector"])?(f=r.array(r.number()),f=n.dimensions?f.length(n.dimensions):f):C(n,["PgLine"])?f=r.tuple([r.number(),r.number(),r.number()]):C(n,["PgLineABC"])?f=r.object({a:r.number(),b:r.number(),c:r.number()}):C(n,["PgArray"])?(f=r.array(or(n.baseColumn,r)),f=n.size?f.length(n.size):f):n.dataType==="array"?f=r.array(r.any()):n.dataType==="number"?f=Kd(n,r,u):n.dataType==="bigint"?f=zd(n,r,u):n.dataType==="boolean"?f=u===!0||u.boolean?r.coerce.boolean():r.boolean():n.dataType==="date"?f=u===!0||u.date?r.coerce.date():r.date():n.dataType==="string"?f=Md(n,r,u):n.dataType==="json"?f=Bd:n.dataType==="custom"?f=r.any():n.dataType==="buffer"&&(f=Vd)),f||(f=r.any()),f}function Kd(n,l,r){let u=n.getSQLType().includes("unsigned"),f,g,A=!1;C(n,["MySqlTinyInt","SingleStoreTinyInt"])?(f=u?0:P.INT8_MIN,g=u?P.INT8_UNSIGNED_MAX:P.INT8_MAX,A=!0):C(n,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(f=u?0:P.INT16_MIN,g=u?P.INT16_UNSIGNED_MAX:P.INT16_MAX,A=!0):C(n,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(f=u?0:P.INT24_MIN,g=u?P.INT24_UNSIGNED_MAX:P.INT24_MAX,A=C(n,["MySqlMediumInt","SingleStoreMediumInt"])):C(n,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(f=u?0:P.INT32_MIN,g=u?P.INT32_UNSIGNED_MAX:P.INT32_MAX,A=!0):C(n,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(f=u?0:P.INT48_MIN,g=u?P.INT48_UNSIGNED_MAX:P.INT48_MAX):C(n,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(u=u||C(n,["MySqlSerial","SingleStoreSerial"]),f=u?0:Number.MIN_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,A=!0):C(n,["MySqlYear","SingleStoreYear"])?(f=1901,g=2155,A=!0):(f=Number.MIN_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER);let w=r===!0||r!=null&&r.number?l.coerce.number():l.number();return w=w.min(f).max(g),A?w.int():w}function zd(n,l,r){const u=n.getSQLType().includes("unsigned"),f=u?0n:P.INT64_MIN,g=u?P.INT64_UNSIGNED_MAX:P.INT64_MAX;return(r===!0||r!=null&&r.bigint?l.coerce.bigint():l.bigint()).min(f).max(g)}function Md(n,l,r){if(C(n,["PgUUID"]))return l.string().uuid();let u,f,g=!1;C(n,["PgVarchar","SQLiteText"])?u=n.length:C(n,["MySqlVarChar","SingleStoreVarChar"])?u=n.length??P.INT16_UNSIGNED_MAX:C(n,["MySqlText","SingleStoreText"])&&(n.textType==="longtext"?u=P.INT32_UNSIGNED_MAX:n.textType==="mediumtext"?u=P.INT24_UNSIGNED_MAX:n.textType==="text"?u=P.INT16_UNSIGNED_MAX:u=P.INT8_UNSIGNED_MAX),C(n,["PgChar","MySqlChar","SingleStoreChar"])&&(u=n.length,g=!0),C(n,["PgBinaryVector"])&&(f=/^[01]+$/,u=n.dimensions);let A=r===!0||r!=null&&r.string?l.coerce.string():l.string();return A=f?A.regex(f):A,u&&g?A.length(u):u?A.max(u):A}function nr(n){return xo(n)?nd(n):rd(n)}function rr(n,l,r,u){const f={};for(const[g,A]of Object.entries(n)){if(!B(A,O)&&!B(A,D)&&!B(A,D.Aliased)&&typeof A=="object"){const R=xo(A)||od(A)?nr(A):A;f[g]=rr(R,l[g]??{},r,u);continue}const w=l[g];if(w!==void 0&&typeof w!="function"){f[g]=w;continue}const v=B(A,O)?A:void 0,T=v?or(v,u):ae(),y=typeof w=="function"?w(T):T;r.never(v)||(f[g]=y,v&&(r.nullable(v)&&(f[g]=f[g].nullable()),r.optional(v)&&(f[g]=f[g].optional())))}return de(f)}const Ld={never:n=>{var l,r;return((l=n==null?void 0:n.generated)==null?void 0:l.type)==="always"||((r=n==null?void 0:n.generatedIdentity)==null?void 0:r.type)==="always"},optional:n=>!n.notNull||n.notNull&&n.hasDefault,nullable:n=>!n.notNull},s=(n,l)=>{const r=nr(n);return rr(r,{},Ld)},Fd=i("blocks",{id:a("id").primaryKey().default(c`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull().unique(),hash:e("hash").notNull().unique(),parentHash:e("parent_hash").notNull(),timestamp:h("timestamp",{mode:"number"}).notNull(),transactionCount:t("transaction_count").notNull().default(0),validatorAddress:e("validator_address").notNull(),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),gasLimit:h("gas_limit",{mode:"number"}).notNull().default(0),size:t("size").notNull(),shardId:t("shard_id").notNull().default(0),stateRoot:e("state_root").notNull(),receiptsRoot:e("receipts_root").notNull(),executionClass:e("execution_class").notNull().default("standard"),latencyNs:h("latency_ns",{mode:"number"}).notNull().default(0),parallelBatchId:a("parallel_batch_id"),hashAlgorithm:e("hash_algorithm").notNull().default("blake3"),finalityStatus:e("finality_status").notNull().default("finalized"),finalityConfirmations:t("finality_confirmations").notNull().default(0),verificationCount:t("verification_count").notNull().default(0),requiredVerifications:t("required_verifications").notNull().default(0),finalizedAt:o("finalized_at"),totalBlockReward:e("total_block_reward").notNull().default("0"),rewardDistributed:_("reward_distributed").notNull().default(!1)}),Ed=i("transactions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),hash:e("hash").notNull().unique(),blockNumber:h("block_number",{mode:"number"}).notNull(),blockHash:e("block_hash").notNull(),from:e("from").notNull(),to:e("to"),value:e("value").notNull(),gas:h("gas",{mode:"number"}).notNull(),gasPrice:e("gas_price").notNull(),gasUsed:h("gas_used",{mode:"number"}),nonce:t("nonce").notNull(),timestamp:h("timestamp",{mode:"number"}).notNull(),status:e("status").notNull().default("pending"),input:e("input"),contractAddress:e("contract_address"),shardId:t("shard_id").notNull().default(0),executionClass:e("execution_class").notNull().default("standard"),latencyNs:h("latency_ns",{mode:"number"}).notNull().default(0),parallelBatchId:a("parallel_batch_id"),crossShardMessageId:a("cross_shard_message_id"),hashAlgorithm:e("hash_algorithm").notNull().default("blake3"),signature:e("signature"),signatureVerified:_("signature_verified").notNull().default(!1),signatureAlgorithm:e("signature_algorithm").notNull().default("secp256k1"),publicKey:e("public_key"),verifiedAt:o("verified_at")}),jd=i("accounts",{id:a("id").primaryKey().default(c`gen_random_uuid()`),address:e("address").notNull().unique(),balance:e("balance").notNull().default("0"),nonce:t("nonce").notNull().default(0),code:e("code"),isContract:_("is_contract").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Hd=i("validators",{id:a("id").primaryKey().default(c`gen_random_uuid()`),address:e("address").notNull().unique(),name:e("name").notNull(),stake:e("stake").notNull(),delegatedStake:e("delegated_stake").notNull().default("0"),commission:t("commission").notNull().default(500),status:e("status").notNull().default("active"),uptime:t("uptime").notNull().default(1e4),totalBlocks:t("total_blocks").notNull().default(0),votingPower:e("voting_power").notNull().default("0"),apy:t("apy").notNull().default(0),delegators:t("delegators").notNull().default(0),joinedAt:o("joined_at").notNull().defaultNow(),missedBlocks:t("missed_blocks").notNull().default(0),avgBlockTime:t("avg_block_time").notNull().default(0),rewardEarned:e("reward_earned").notNull().default("0"),slashCount:t("slash_count").notNull().default(0),lastActiveAt:o("last_active_at"),reputationScore:t("reputation_score").notNull().default(8500),performanceScore:t("performance_score").notNull().default(9e3),committeeSelectionCount:t("committee_selection_count").notNull().default(0),aiTrustScore:t("ai_trust_score").notNull().default(7500),behaviorScore:t("behavior_score").notNull().default(9500),adaptiveWeight:t("adaptive_weight").notNull().default(1e4)}),Qd=i("block_verifications",{id:a("id").primaryKey().default(c`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull(),blockHash:e("block_hash").notNull(),validatorAddress:e("validator_address").notNull(),verificationResult:e("verification_result").notNull().default("valid"),verificationSignature:e("verification_signature").notNull(),stateRootMatch:_("state_root_match").notNull().default(!0),receiptsRootMatch:_("receipts_root_match").notNull().default(!0),transactionsValid:_("transactions_valid").notNull().default(!0),verificationTimeMs:t("verification_time_ms").notNull().default(0),createdAt:o("created_at").notNull().defaultNow()}),Od=i("validator_block_rewards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull(),validatorAddress:e("validator_address").notNull(),rewardType:e("reward_type").notNull(),rewardAmount:e("reward_amount").notNull(),gasFeesEarned:e("gas_fees_earned").notNull().default("0"),participationRole:e("participation_role").notNull(),votePower:e("vote_power").notNull().default("0"),distributed:_("distributed").notNull().default(!1),distributedAt:o("distributed_at"),txHash:e("tx_hash"),createdAt:o("created_at").notNull().defaultNow()}),$d=i("block_finality_confirmations",{id:a("id").primaryKey().default(c`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull().unique(),blockHash:e("block_hash").notNull(),finalityStatus:e("finality_status").notNull().default("pending"),totalVerifications:t("total_verifications").notNull().default(0),requiredVerifications:t("required_verifications").notNull(),validVotes:t("valid_votes").notNull().default(0),invalidVotes:t("invalid_votes").notNull().default(0),abstainVotes:t("abstain_votes").notNull().default(0),totalRewardsDistributed:e("total_rewards_distributed").notNull().default("0"),proposerReward:e("proposer_reward").notNull().default("0"),verifierRewardsTotal:e("verifier_rewards_total").notNull().default("0"),consensusStartAt:o("consensus_start_at").notNull().defaultNow(),finalizedAt:o("finalized_at"),confirmationLatencyMs:t("confirmation_latency_ms"),createdAt:o("created_at").notNull().defaultNow()});s(Qd).omit({id:!0,createdAt:!0});s(Od).omit({id:!0,createdAt:!0});s($d).omit({id:!0,createdAt:!0});const Gd=i("smart_contracts",{id:a("id").primaryKey().default(c`gen_random_uuid()`),address:e("address").notNull().unique(),name:e("name").notNull(),creator:e("creator").notNull(),bytecode:e("bytecode").notNull(),abi:p("abi"),sourceCode:e("source_code"),deployedAt:o("deployed_at").notNull().defaultNow(),transactionCount:t("transaction_count").notNull().default(0),balance:e("balance").notNull().default("0"),verified:_("verified").notNull().default(!1)}),Zd=i("ai_models",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:e("name").notNull().unique(),band:e("band").notNull().default("operational"),status:e("status").notNull().default("active"),requestCount:t("request_count").notNull().default(0),successCount:t("success_count").notNull().default(0),failureCount:t("failure_count").notNull().default(0),avgResponseTime:t("avg_response_time").notNull().default(0),totalCost:e("total_cost").notNull().default("0"),lastUsed:o("last_used"),cacheHitRate:t("cache_hit_rate").notNull().default(0),accuracy:t("accuracy").notNull().default(0),uptime:t("uptime").notNull().default(1e4),feedbackLearningScore:t("feedback_learning_score").notNull().default(8e3),crossBandInteractions:t("cross_band_interactions").notNull().default(0),strategicDecisions:t("strategic_decisions").notNull().default(0),tacticalDecisions:t("tactical_decisions").notNull().default(0),operationalDecisions:t("operational_decisions").notNull().default(0),modelWeight:t("model_weight").notNull().default(3333),consensusContribution:t("consensus_contribution").notNull().default(0)}),Wd=i("ai_decisions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),band:e("band").notNull(),modelName:e("model_name").notNull(),provider:e("provider").notNull().default("unknown"),decision:e("decision").notNull(),impact:e("impact").notNull(),category:e("category").notNull(),shardId:t("shard_id"),validatorAddress:e("validator_address"),status:e("status").notNull().default("executed"),confidence:t("confidence"),executionTime:t("execution_time"),promptText:e("prompt_text"),responseText:e("response_text"),tokensUsed:t("tokens_used").default(0),costUsd:e("cost_usd").default("0"),isRealAi:_("is_real_ai").notNull().default(!0),actionApplied:e("action_applied"),blockchainTxHash:e("blockchain_tx_hash"),metadata:p("metadata"),createdAt:o("created_at").notNull().defaultNow(),executedAt:o("executed_at")}),Xd=i("ai_usage_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),provider:e("provider").notNull(),model:e("model").notNull(),band:e("band").notNull(),requestType:e("request_type").notNull(),promptTokens:t("prompt_tokens").notNull().default(0),completionTokens:t("completion_tokens").notNull().default(0),totalTokens:t("total_tokens").notNull().default(0),costUsd:e("cost_usd").notNull().default("0"),responseTimeMs:t("response_time_ms").notNull().default(0),success:_("success").notNull().default(!0),errorType:e("error_type"),errorMessage:e("error_message"),wasFailover:_("was_failover").notNull().default(!1),originalProvider:e("original_provider"),createdAt:o("created_at").notNull().defaultNow()}),Jd=i("ai_execution_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),decisionId:a("decision_id").notNull(),executionType:e("execution_type").notNull(),status:e("status").notNull().default("pending"),confidence:t("confidence").notNull(),impactLevel:e("impact_level").notNull(),beforeState:p("before_state").notNull(),afterState:p("after_state"),executionTimeMs:t("execution_time_ms").notNull().default(0),blockchainTxHash:e("blockchain_tx_hash"),rolledBack:_("rolled_back").notNull().default(!1),rollbackReason:e("rollback_reason"),rollbackAt:o("rollback_at"),metricsImprovement:p("metrics_improvement"),createdAt:o("created_at").notNull().defaultNow(),completedAt:o("completed_at")}),Yd=i("governance_prevalidations",{id:a("id").primaryKey().default(c`gen_random_uuid()`),proposalId:a("proposal_id").notNull(),proposalTitle:e("proposal_title").notNull(),proposalType:e("proposal_type").notNull(),aiConfidence:t("ai_confidence").notNull(),aiRecommendation:e("ai_recommendation").notNull(),aiReasoning:e("ai_reasoning").notNull(),riskLevel:e("risk_level").notNull(),riskFactors:p("risk_factors"),economicImpact:p("economic_impact"),securityImpact:p("security_impact"),autoDecision:_("auto_decision").notNull().default(!1),autoDecisionResult:e("auto_decision_result"),validatorNotified:_("validator_notified").notNull().default(!1),validatorVoteRequired:_("validator_vote_required").notNull().default(!0),similarProposals:p("similar_proposals"),analysisTimeMs:t("analysis_time_ms").notNull().default(0),provider:e("provider").notNull(),model:e("model").notNull(),tokensUsed:t("tokens_used").notNull().default(0),costUsd:e("cost_usd").notNull().default("0"),createdAt:o("created_at").notNull().defaultNow(),decidedAt:o("decided_at")}),ei=i("ai_training_jobs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:e("name").notNull(),model:e("model").notNull(),status:e("status").notNull().default("queued"),progress:t("progress").notNull().default(0),eta:e("eta"),dataPoints:e("data_points").notNull().default("0"),epochs:t("epochs").notNull().default(10),currentEpoch:t("current_epoch").notNull().default(0),learningRate:q("learning_rate").notNull().default(.001),batchSize:t("batch_size").notNull().default(32),accuracy:q("accuracy").notNull().default(0),loss:q("loss").notNull().default(0),validationAccuracy:q("validation_accuracy").notNull().default(0),validationLoss:q("validation_loss").notNull().default(0),datasetName:e("dataset_name"),datasetSize:e("dataset_size"),errorMessage:e("error_message"),retryCount:t("retry_count").notNull().default(0),startedAt:o("started_at"),pausedAt:o("paused_at"),completedAt:o("completed_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ti=i("ai_parameters",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configName:e("config_name").notNull().default("default"),isActive:_("is_active").notNull().default(!0),modelConfigs:p("model_configs").notNull().default([]),decisionParams:p("decision_params").notNull().default([]),strategicWeight:t("strategic_weight").notNull().default(50),tacticalWeight:t("tactical_weight").notNull().default(30),operationalWeight:t("operational_weight").notNull().default(20),autoExecuteThreshold:t("auto_execute_threshold").notNull().default(70),humanReviewThreshold:t("human_review_threshold").notNull().default(50),rejectionThreshold:t("rejection_threshold").notNull().default(30),strategicPerHour:t("strategic_per_hour").notNull().default(10),tacticalPerMinute:t("tactical_per_minute").notNull().default(100),operationalPerSecond:t("operational_per_second").notNull().default(1e3),allowEmergencyActions:_("allow_emergency_actions").notNull().default(!0),circuitBreaker:_("circuit_breaker").notNull().default(!0),consensusTimeout:t("consensus_timeout").notNull().default(5e3),retryAttempts:t("retry_attempts").notNull().default(3),backoffMultiplier:q("backoff_multiplier").notNull().default(1.5),cacheTtl:t("cache_ttl").notNull().default(300),createdBy:e("created_by"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ai=i("ai_training_metrics",{id:a("id").primaryKey().default(c`gen_random_uuid()`),jobId:a("job_id").notNull(),epoch:t("epoch").notNull(),trainLoss:q("train_loss").notNull().default(0),validationLoss:q("validation_loss").notNull().default(0),trainAccuracy:q("train_accuracy").notNull().default(0),validationAccuracy:q("validation_accuracy").notNull().default(0),learningRate:q("learning_rate").notNull().default(0),gradientNorm:q("gradient_norm").notNull().default(0),throughputSamplesPerSec:t("throughput_samples_per_sec").notNull().default(0),gpuMemoryUsedMb:t("gpu_memory_used_mb").notNull().default(0),epochDurationMs:t("epoch_duration_ms").notNull().default(0),createdAt:o("created_at").notNull().defaultNow()}),li=i("ai_model_deployments",{id:a("id").primaryKey().default(c`gen_random_uuid()`),modelName:e("model_name").notNull(),version:e("version").notNull(),status:e("status").notNull().default("pending"),environment:e("environment").notNull().default("production"),trainingJobId:a("training_job_id"),baseModel:e("base_model").notNull(),accuracy:q("accuracy").notNull().default(0),latencyMs:t("latency_ms").notNull().default(0),throughputRps:t("throughput_rps").notNull().default(0),memoryMb:t("memory_mb").notNull().default(0),gpuUtilization:t("gpu_utilization").notNull().default(0),healthScore:t("health_score").notNull().default(100),requestCount:h("request_count",{mode:"number"}).notNull().default(0),errorCount:t("error_count").notNull().default(0),trafficPercent:t("traffic_percent").notNull().default(100),isCanary:_("is_canary").notNull().default(!1),previousVersionId:a("previous_version_id"),rollbackCount:t("rollback_count").notNull().default(0),deployedBy:e("deployed_by"),deployedAt:o("deployed_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),oi=i("ai_training_datasets",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:e("name").notNull(),description:e("description"),records:h("records",{mode:"number"}).notNull().default(0),sizeBytes:h("size_bytes",{mode:"number"}).notNull().default(0),format:e("format").notNull().default("jsonl"),qualityScore:t("quality_score").notNull().default(0),completeness:t("completeness").notNull().default(0),consistency:t("consistency").notNull().default(0),duplicateRate:q("duplicate_rate").notNull().default(0),columns:p("columns"),sampleData:p("sample_data"),usedInJobs:t("used_in_jobs").notNull().default(0),lastUsedAt:o("last_used_at"),version:t("version").notNull().default(1),parentDatasetId:a("parent_dataset_id"),tags:e("tags").array(),createdBy:e("created_by"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ni=i("ai_training_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),jobId:a("job_id").notNull(),level:e("level").notNull().default("info"),message:e("message").notNull(),details:p("details"),epoch:t("epoch"),step:t("step"),createdAt:o("created_at").notNull().defaultNow()}),ri=i("shards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),shardId:t("shard_id").notNull().unique(),name:e("name").notNull(),status:e("status").notNull().default("active"),blockHeight:h("block_height",{mode:"number"}).notNull().default(0),transactionCount:t("transaction_count").notNull().default(0),validatorCount:t("validator_count").notNull().default(0),tps:t("tps").notNull().default(0),load:t("load").notNull().default(0),peakTps:t("peak_tps").notNull().default(0),avgBlockTime:t("avg_block_time").notNull().default(0),crossShardTxCount:t("cross_shard_tx_count").notNull().default(0),stateSize:e("state_size").notNull().default("0"),lastSyncedAt:o("last_synced_at"),mlOptimizationScore:t("ml_optimization_score").notNull().default(8500),predictedLoad:t("predicted_load").notNull().default(0),rebalanceCount:t("rebalance_count").notNull().default(0),aiRecommendation:e("ai_recommendation").notNull().default("stable"),profilingScore:t("profiling_score").notNull().default(9e3),capacityUtilization:t("capacity_utilization").notNull().default(5e3)}),ui=i("network_stats",{id:a("id").primaryKey().default("singleton"),currentBlockHeight:h("current_block_height",{mode:"number"}).notNull().default(0),tps:t("tps").notNull().default(0),peakTps:t("peak_tps").notNull().default(0),avgBlockTime:t("avg_block_time").notNull().default(0),blockTimeP99:t("block_time_p99").notNull().default(0),slaUptime:t("sla_uptime").notNull().default(9990),latency:t("latency").notNull().default(0),latencyP99:t("latency_p99").notNull().default(0),activeValidators:t("active_validators").notNull().default(0),totalValidators:t("total_validators").notNull().default(0),totalTransactions:h("total_transactions",{mode:"number"}).notNull().default(0),totalAccounts:t("total_accounts").notNull().default(0),marketCap:e("market_cap").notNull().default("0"),circulatingSupply:e("circulating_supply").notNull().default("0"),successRate:t("success_rate").notNull().default(9970),updatedAt:o("updated_at").notNull().defaultNow(),trendAnalysisScore:t("trend_analysis_score").notNull().default(8500),anomalyDetectionScore:t("anomaly_detection_score").notNull().default(9200),patternMatchingScore:t("pattern_matching_score").notNull().default(8800),timeseriesScore:t("timeseries_score").notNull().default(9e3),healingEventsCount:t("healing_events_count").notNull().default(0),anomaliesDetected:t("anomalies_detected").notNull().default(0),predictedFailureRisk:t("predicted_failure_risk").notNull().default(500),selfHealingStatus:e("self_healing_status").notNull().default("healthy")}),di=i("consensus_rounds",{id:a("id").primaryKey().default(c`gen_random_uuid()`),blockHeight:h("block_height",{mode:"number"}).notNull().unique(),proposerAddress:e("proposer_address").notNull(),currentPhase:t("current_phase").notNull().default(1),prevoteCount:t("prevote_count").notNull().default(0),precommitCount:t("precommit_count").notNull().default(0),totalValidators:t("total_validators").notNull().default(0),requiredQuorum:t("required_quorum").notNull().default(0),avgBlockTimeMs:t("avg_block_time_ms").notNull().default(0),status:e("status").notNull().default("in_progress"),startTime:h("start_time",{mode:"number"}).notNull(),completedTime:h("completed_time",{mode:"number"}),phasesJson:e("phases_json").notNull(),createdAt:o("created_at").notNull().defaultNow()}),ii=i("api_keys",{id:a("id").primaryKey().default(c`gen_random_uuid()`),label:e("label").notNull(),description:e("description"),hashedKey:e("hashed_key").notNull().unique(),keyPrefix:e("key_prefix").notNull().default(""),userId:a("user_id"),environment:e("environment").notNull().default("production"),scopes:e("scopes").array().notNull().default(c`ARRAY['read']::text[]`),expiresAt:o("expires_at"),rateLimitPerMinute:t("rate_limit_per_minute").notNull().default(60),rateLimitPerHour:t("rate_limit_per_hour").notNull().default(1e3),rateLimitPerDay:t("rate_limit_per_day").notNull().default(1e4),ipWhitelist:e("ip_whitelist").array().default(c`ARRAY[]::text[]`),allowedOrigins:e("allowed_origins").array().default(c`ARRAY[]::text[]`),totalRequests:h("total_requests",{mode:"number"}).notNull().default(0),requestsToday:t("requests_today").notNull().default(0),requestsThisMonth:t("requests_this_month").notNull().default(0),lastErrorAt:o("last_error_at"),errorCount:t("error_count").notNull().default(0),isActive:_("is_active").notNull().default(!0),requiresMfa:_("requires_mfa").notNull().default(!1),lastRotatedAt:o("last_rotated_at"),rotationCount:t("rotation_count").notNull().default(0),rotationScheduleDays:t("rotation_schedule_days"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),lastUsedAt:o("last_used_at"),revokedAt:o("revoked_at"),revokedBy:a("revoked_by"),revokeReason:e("revoke_reason")}),si=i("api_key_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),apiKeyId:a("api_key_id").notNull(),action:e("action").notNull().default("used"),endpoint:e("endpoint"),method:e("method"),statusCode:t("status_code"),responseTimeMs:t("response_time_ms").default(0),ipAddress:e("ip_address"),userAgent:e("user_agent"),origin:e("origin"),details:p("details"),requestBody:p("request_body"),errorMessage:e("error_message"),createdAt:o("created_at").notNull().defaultNow()}),ci=i("cross_shard_messages",{id:a("id").primaryKey().default(c`gen_random_uuid()`),messageId:e("message_id").notNull().unique(),fromShardId:t("from_shard_id").notNull(),toShardId:t("to_shard_id").notNull(),transactionHash:e("transaction_hash").notNull(),status:e("status").notNull().default("pending"),messageType:e("message_type").notNull(),payload:p("payload").notNull(),sentAt:o("sent_at").notNull().defaultNow(),confirmedAt:o("confirmed_at"),failedAt:o("failed_at"),retryCount:t("retry_count").notNull().default(0),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),routingPriority:t("routing_priority").notNull().default(5),peerReputation:t("peer_reputation").notNull().default(8e3),networkQuality:t("network_quality").notNull().default(9e3),routeOptimization:e("route_optimization").notNull().default("balanced")}),_i=i("wallet_balances",{id:a("id").primaryKey().default(c`gen_random_uuid()`),address:e("address").notNull().unique(),walletName:e("wallet_name"),ownerId:a("owner_id"),balance:e("balance").notNull().default("0"),stakedBalance:e("staked_balance").notNull().default("0"),unstakedBalance:e("unstaked_balance").notNull().default("0"),rewardsEarned:e("rewards_earned").notNull().default("0"),transactionCount:t("transaction_count").notNull().default(0),lastTransactionAt:o("last_transaction_at"),firstSeenAt:o("first_seen_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),fi=i("delegations",{id:a("id").primaryKey().default(c`gen_random_uuid()`),delegatorAddress:e("delegator_address").notNull(),validatorAddress:e("validator_address").notNull(),amount:e("amount").notNull(),shares:e("shares").notNull(),rewardsClaimed:e("rewards_claimed").notNull().default("0"),delegatedAt:o("delegated_at").notNull().defaultNow(),unbondingEndTime:o("unbonding_end_time"),status:e("status").notNull().default("bonded")}),mi=i("validator_votes",{id:a("id").primaryKey().default(c`gen_random_uuid()`),roundNumber:h("round_number",{mode:"number"}).notNull(),validatorAddress:e("validator_address").notNull(),voteType:e("vote_type").notNull(),votingPower:e("voting_power").notNull(),signature:e("signature").notNull(),timestamp:o("timestamp").notNull().defaultNow(),decision:e("decision").notNull(),reason:e("reason")}),pi=i("committee_snapshots",{id:a("id").primaryKey().default(c`gen_random_uuid()`),epochNumber:h("epoch_number",{mode:"number"}).notNull(),validatorAddress:e("validator_address").notNull(),votingPower:e("voting_power").notNull(),adaptiveWeight:t("adaptive_weight").notNull(),isLeader:_("is_leader").notNull().default(!1),committeeRole:e("committee_role").notNull().default("member"),createdAt:o("created_at").notNull().defaultNow()}),Ni=i("members",{id:a("id").primaryKey().default(c`gen_random_uuid()`),accountAddress:e("account_address").notNull().unique(),publicKey:e("public_key").notNull(),displayName:e("display_name"),username:e("username").unique(),legalName:e("legal_name"),entityType:e("entity_type").notNull().default("individual"),jurisdiction:e("jurisdiction"),registrationNumber:e("registration_number"),email:e("email").unique(),avatarUrl:e("avatar_url"),walletAddress:e("wallet_address"),googleId:e("google_id").unique(),memberTier:e("member_tier").notNull().default("basic_user"),memberStatus:e("member_status").notNull().default("pending"),kycLevel:e("kyc_level").notNull().default("none"),kycProvider:e("kyc_provider"),kycVerifiedAt:o("kyc_verified_at"),kycExpiryDate:o("kyc_expiry_date"),amlRiskScore:t("aml_risk_score").notNull().default(0),sanctionsCheckPassed:_("sanctions_check_passed").notNull().default(!1),pepStatus:_("pep_status").notNull().default(!1),encryptedEmail:e("encrypted_email"),encryptedPhone:e("encrypted_phone"),passwordHash:e("password_hash"),validatorId:a("validator_id"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),lastActivityAt:o("last_activity_at")}),gi=i("member_profiles",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),bio:e("bio"),avatarUrl:e("avatar_url"),website:e("website"),twitter:e("twitter"),telegram:e("telegram"),discord:e("discord"),github:e("github"),preferredLanguage:e("preferred_language").notNull().default("en"),preferredCurrency:e("preferred_currency").notNull().default("USD"),timezone:e("timezone").notNull().default("UTC"),emailNotifications:_("email_notifications").notNull().default(!0),smsNotifications:_("sms_notifications").notNull().default(!1),pushNotifications:_("push_notifications").notNull().default(!0),referralCode:e("referral_code").unique(),referredBy:e("referred_by"),referralCount:t("referral_count").notNull().default(0),referralRewardsEarned:e("referral_rewards_earned").notNull().default("0"),updatedAt:o("updated_at").notNull().defaultNow()}),yi=i("member_staking_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),stakingType:e("staking_type").notNull(),validatorAddress:e("validator_address"),amount:e("amount").notNull(),shares:e("shares").notNull().default("0"),stakedAt:o("staked_at").notNull().defaultNow(),lockPeriod:t("lock_period").notNull().default(0),unlockAt:o("unlock_at"),autoCompound:_("auto_compound").notNull().default(!1),tierBonus:t("tier_bonus").notNull().default(0),status:e("status").notNull().default("active"),accumulatedRewards:e("accumulated_rewards").notNull().default("0"),claimedRewards:e("claimed_rewards").notNull().default("0"),lastClaimAt:o("last_claim_at")}),hi=i("member_governance_profiles",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),votingPower:e("voting_power").notNull().default("0"),delegatedVotingPower:e("delegated_voting_power").notNull().default("0"),receivedVotingPower:e("received_voting_power").notNull().default("0"),proposalsCreated:t("proposals_created").notNull().default(0),proposalsPassed:t("proposals_passed").notNull().default(0),proposalsRejected:t("proposals_rejected").notNull().default(0),proposalsVoted:t("proposals_voted").notNull().default(0),totalVotesCast:t("total_votes_cast").notNull().default(0),votesCast:t("votes_cast").notNull().default(0),votesDelegated:t("votes_delegated").notNull().default(0),votesFor:t("votes_for").notNull().default(0),votesAgainst:t("votes_against").notNull().default(0),votesAbstain:t("votes_abstain").notNull().default(0),votingParticipationRate:t("voting_participation_rate").notNull().default(0),participationRate:t("participation_rate").notNull().default(0),proposalSuccessRate:t("proposal_success_rate").notNull().default(0),votingConsistency:t("voting_consistency").notNull().default(0),delegatedTo:e("delegated_to"),delegatedFrom:p("delegated_from").notNull().default([]),activeDelegations:t("active_delegations").notNull().default(0),receivedDelegations:t("received_delegations").notNull().default(0),maxDelegationsAllowed:t("max_delegations_allowed").notNull().default(100),daoMemberships:p("dao_memberships").notNull().default([]),committeePositions:p("committee_positions").notNull().default([]),reputationScore:t("reputation_score").notNull().default(5e3),governanceScore:t("governance_score").notNull().default(5e3),influenceScore:t("influence_score").notNull().default(0),contributionLevel:e("contribution_level").notNull().default("observer"),lastVoteAt:o("last_vote_at"),lastProposalAt:o("last_proposal_at")}),Ai=i("member_financial_profiles",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),totalBalance:e("total_balance").notNull().default("0"),availableBalance:e("available_balance").notNull().default("0"),lockedBalance:e("locked_balance").notNull().default("0"),stakedBalance:e("staked_balance").notNull().default("0"),totalTransactions:h("total_transactions",{mode:"number"}).notNull().default(0),totalSent:e("total_sent").notNull().default("0"),totalReceived:e("total_received").notNull().default("0"),totalFeesPaid:e("total_fees_paid").notNull().default("0"),validatorRewards:e("validator_rewards").notNull().default("0"),stakingRewards:e("staking_rewards").notNull().default("0"),delegationRewards:e("delegation_rewards").notNull().default("0"),referralRewards:e("referral_rewards").notNull().default("0"),totalSlashed:e("total_slashed").notNull().default("0"),slashCount:t("slash_count").notNull().default(0),taxReportingEnabled:_("tax_reporting_enabled").notNull().default(!1),taxJurisdiction:e("tax_jurisdiction"),firstTransactionAt:o("first_transaction_at"),lastTransactionAt:o("last_transaction_at"),updatedAt:o("updated_at").notNull().defaultNow()}),bi=i("member_security_profiles",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),twoFactorEnabled:_("two_factor_enabled").notNull().default(!1),twoFactorMethod:e("two_factor_method"),twoFactorBackupCodes:p("two_factor_backup_codes").notNull().default([]),securityKeys:p("security_keys").notNull().default([]),passkeyEnabled:_("passkey_enabled").notNull().default(!1),multiSigEnabled:_("multi_sig_enabled").notNull().default(!1),requiredConfirmations:t("required_confirmations").notNull().default(1),activeSessions:t("active_sessions").notNull().default(0),maxSessions:t("max_sessions").notNull().default(5),sessionTimeout:t("session_timeout").notNull().default(3600),ipWhitelist:p("ip_whitelist").notNull().default([]),ipBlacklist:p("ip_blacklist").notNull().default([]),allowedRegions:p("allowed_regions").notNull().default([]),countryRestrictions:p("country_restrictions").notNull().default([]),maxSessionDuration:t("max_session_duration").notNull().default(86400),failedLoginAttempts:t("failed_login_attempts").notNull().default(0),lastFailedLogin:o("last_failed_login"),lastSuccessfulLogin:o("last_successful_login"),lastPasswordChange:o("last_password_change"),lastKeyRotation:o("last_key_rotation"),nextKeyRotationDue:o("next_key_rotation_due"),riskScore:t("risk_score").notNull().default(0),fraudScore:t("fraud_score").notNull().default(0),suspiciousActivityCount:t("suspicious_activity_count").notNull().default(0),lastRiskAssessment:o("last_risk_assessment").notNull().defaultNow(),recoveryEmail:e("recovery_email"),recoveryPhone:e("recovery_phone"),recoveryQuestions:p("recovery_questions").notNull().default([]),accountLocked:_("account_locked").notNull().default(!1),lockReason:e("lock_reason"),lockedAt:o("locked_at"),updatedAt:o("updated_at").notNull().defaultNow()}),vi=i("member_performance_metrics",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),validatorAddress:e("validator_address"),currentUptime:t("current_uptime").notNull().default(0),currentTps:t("current_tps").notNull().default(0),currentLatencyMs:t("current_latency_ms").notNull().default(0),slaComplianceRate:t("sla_compliance_rate").notNull().default(0),downtimeIncidents:t("downtime_incidents").notNull().default(0),performanceGrade:e("performance_grade").notNull().default("B"),performanceScore:t("performance_score").notNull().default(5e3),performanceRank:t("performance_rank"),lastLoginAt:o("last_login_at"),metricsUpdatedAt:o("metrics_updated_at").notNull().defaultNow()}),wi=i("member_slash_events",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),validatorAddress:e("validator_address"),slashType:e("slash_type").notNull(),amount:e("amount").notNull(),reason:e("reason").notNull(),evidenceHash:e("evidence_hash"),appealStatus:e("appeal_status").notNull().default("none"),appealDeadline:o("appeal_deadline"),occurredAt:o("occurred_at").notNull().defaultNow()}),ki=i("member_audit_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),action:e("action").notNull(),resource:e("resource").notNull(),resourceId:e("resource_id"),oldValue:p("old_value"),newValue:p("new_value"),actor:e("actor").notNull(),actorType:e("actor_type").notNull().default("system"),ipAddress:e("ip_address"),userAgent:e("user_agent"),status:e("status").notNull().default("success"),errorMessage:e("error_message"),metadata:p("metadata"),createdAt:o("created_at").notNull().defaultNow()}),Si=i("email_verifications",{id:a("id").primaryKey().default(c`gen_random_uuid()`),email:e("email").notNull(),verificationCode:e("verification_code").notNull(),type:e("type").notNull(),expiresAt:o("expires_at").notNull(),verified:_("verified").notNull().default(!1),attempts:t("attempts").notNull().default(0),createdAt:o("created_at").notNull().defaultNow()});s(Si).omit({id:!0,verified:!0,attempts:!0,createdAt:!0});const Ti=i("admin_audit_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),operatorId:a("operator_id").notNull(),operatorIp:e("operator_ip"),operatorUserAgent:e("operator_user_agent"),sessionId:a("session_id"),actionType:e("action_type").notNull(),actionCategory:e("action_category").notNull(),resource:e("resource").notNull(),resourceId:e("resource_id"),previousState:p("previous_state"),newState:p("new_state"),reason:e("reason"),metadata:p("metadata"),status:e("status").notNull().default("success"),errorMessage:e("error_message"),riskLevel:e("risk_level").notNull().default("low"),requiresReview:_("requires_review").notNull().default(!1),reviewedBy:a("reviewed_by"),reviewedAt:o("reviewed_at"),createdAt:o("created_at").notNull().defaultNow()}),xi=i("security_events",{id:a("id").primaryKey().default(c`gen_random_uuid()`),eventType:e("event_type").notNull(),severity:e("severity").notNull().default("info"),targetType:e("target_type").notNull(),targetId:a("target_id"),targetAddress:e("target_address"),sourceIp:e("source_ip"),sourceUserAgent:e("source_user_agent"),sourceGeo:p("source_geo"),description:e("description").notNull(),evidence:p("evidence"),metadata:p("metadata"),status:e("status").notNull().default("open"),resolvedBy:a("resolved_by"),resolvedAt:o("resolved_at"),resolution:e("resolution"),occurredAt:o("occurred_at").notNull().defaultNow(),detectedAt:o("detected_at").notNull().defaultNow()}),Pi=i("compliance_reports",{id:a("id").primaryKey().default(c`gen_random_uuid()`),reportType:e("report_type").notNull(),reportPeriod:e("report_period").notNull(),periodStart:o("period_start").notNull(),periodEnd:o("period_end").notNull(),jurisdiction:e("jurisdiction").notNull(),regulatoryBody:e("regulatory_body"),summary:p("summary").notNull(),details:p("details"),attachments:p("attachments").notNull().default([]),status:e("status").notNull().default("draft"),generatedBy:a("generated_by").notNull(),reviewedBy:a("reviewed_by"),reviewedAt:o("reviewed_at"),approvedBy:a("approved_by"),approvedAt:o("approved_at"),submittedAt:o("submitted_at"),reviewNotes:e("review_notes"),rejectionReason:e("rejection_reason"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ii=i("validator_applications",{id:a("id").primaryKey().default(c`gen_random_uuid()`),applicantMemberId:a("applicant_member_id").notNull(),applicantAddress:e("applicant_address").notNull(),applicantName:e("applicant_name").notNull(),applicationType:e("application_type").notNull(),requestedTier:e("requested_tier").notNull(),proposedCommission:t("proposed_commission").notNull().default(500),proposedStake:e("proposed_stake").notNull(),stakeSource:e("stake_source").notNull(),hardwareSpecs:p("hardware_specs").notNull(),networkEndpoints:p("network_endpoints").notNull(),geographicLocation:p("geographic_location").notNull(),documents:p("documents").notNull().default([]),status:e("status").notNull().default("pending"),assignedTo:a("assigned_to"),reviewNotes:e("review_notes"),rejectionReason:e("rejection_reason"),approvalConditions:p("approval_conditions"),conditionsMet:_("conditions_met").notNull().default(!1),submittedAt:o("submitted_at").notNull().defaultNow(),reviewStartedAt:o("review_started_at"),decidedAt:o("decided_at"),decidedBy:a("decided_by"),activatedAt:o("activated_at"),validatorId:a("validator_id")}),Ci=i("operator_sessions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),operatorId:a("operator_id").notNull(),sessionToken:e("session_token").notNull().unique(),ipAddress:e("ip_address").notNull(),userAgent:e("user_agent"),geoLocation:p("geo_location"),twoFactorVerified:_("two_factor_verified").notNull().default(!1),twoFactorMethod:e("two_factor_method"),isActive:_("is_active").notNull().default(!0),lastActivityAt:o("last_activity_at").notNull().defaultNow(),expiresAt:o("expires_at").notNull(),terminatedAt:o("terminated_at"),terminationReason:e("termination_reason"),createdAt:o("created_at").notNull().defaultNow()}),qi=i("member_documents",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),documentType:e("document_type").notNull(),documentName:e("document_name").notNull(),encryptedFileHash:e("encrypted_file_hash").notNull(),encryptedStoragePath:e("encrypted_storage_path").notNull(),mimeType:e("mime_type").notNull(),fileSize:t("file_size").notNull(),verificationStatus:e("verification_status").notNull().default("pending"),verifiedBy:a("verified_by"),verifiedAt:o("verified_at"),rejectionReason:e("rejection_reason"),expiryDate:o("expiry_date"),isExpired:_("is_expired").notNull().default(!1),accessLog:p("access_log").notNull().default([]),uploadedAt:o("uploaded_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ri=i("restart_sessions",{id:a("id").primaryKey().default("singleton"),isRestarting:_("is_restarting").notNull().default(!1),restartInitiatedAt:o("restart_initiated_at"),expectedRestartTime:t("expected_restart_time").notNull().default(6e4),lastHealthCheck:o("last_health_check"),isHealthy:_("is_healthy").notNull().default(!1),sessionId:a("session_id"),phase:a("phase").notNull().default("idle"),phaseStartTime:o("phase_start_time"),phaseMessage:e("phase_message"),progressPercentage:t("progress_percentage").notNull().default(0),initiatingTime:o("initiating_time"),shuttingDownTime:o("shutting_down_time"),restartingTime:o("restarting_time"),reconnectingTime:o("reconnecting_time"),validatingTime:o("validating_time"),completedTime:o("completed_time"),failedTime:o("failed_time"),failureReason:e("failure_reason"),postRestartTps:t("post_restart_tps"),postRestartBlockHeight:t("post_restart_block_height"),postRestartValidators:t("post_restart_validators"),updatedAt:o("updated_at").notNull().defaultNow()}),Di=i("member_notes",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),operatorId:a("operator_id").notNull(),noteType:e("note_type").notNull().default("general"),title:e("title").notNull(),content:e("content").notNull(),priority:e("priority").notNull().default("normal"),isPrivate:_("is_private").notNull().default(!1),isPinned:_("is_pinned").notNull().default(!1),requiresFollowUp:_("requires_follow_up").notNull().default(!1),followUpDate:o("follow_up_date"),followUpCompleted:_("follow_up_completed").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ui=i("ip_blocklist",{id:a("id").primaryKey().default(c`gen_random_uuid()`),ipAddress:e("ip_address").notNull(),ipRange:e("ip_range"),reason:e("reason").notNull(),blockType:e("block_type").notNull().default("permanent"),severity:e("severity").notNull().default("medium"),relatedSecurityEventId:a("related_security_event_id"),relatedMemberId:a("related_member_id"),expiresAt:o("expires_at"),isActive:_("is_active").notNull().default(!0),blockedBy:a("blocked_by").notNull(),unblockedBy:a("unblocked_by"),unblockedAt:o("unblocked_at"),unblockReason:e("unblock_reason"),hitCount:t("hit_count").notNull().default(0),lastHitAt:o("last_hit_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Bi=i("system_health_snapshots",{id:a("id").primaryKey().default(c`gen_random_uuid()`),tps:t("tps").notNull().default(0),blockHeight:h("block_height",{mode:"number"}).notNull().default(0),avgBlockTime:t("avg_block_time").notNull().default(0),latency:t("latency").notNull().default(0),activeValidators:t("active_validators").notNull().default(0),totalValidators:t("total_validators").notNull().default(0),validatorUptime:t("validator_uptime").notNull().default(1e4),cpuUsage:t("cpu_usage").notNull().default(0),memoryUsage:t("memory_usage").notNull().default(0),diskUsage:t("disk_usage").notNull().default(0),networkBandwidth:t("network_bandwidth").notNull().default(0),peerCount:t("peer_count").notNull().default(0),pendingTxCount:t("pending_tx_count").notNull().default(0),mempoolSize:t("mempool_size").notNull().default(0),overallHealthScore:t("overall_health_score").notNull().default(1e4),networkHealthScore:t("network_health_score").notNull().default(1e4),consensusHealthScore:t("consensus_health_score").notNull().default(1e4),storageHealthScore:t("storage_health_score").notNull().default(1e4),status:e("status").notNull().default("healthy"),alerts:p("alerts").notNull().default([]),snapshotAt:o("snapshot_at").notNull().defaultNow()}),Vi=i("alert_queue",{id:a("id").primaryKey().default(c`gen_random_uuid()`),alertType:e("alert_type").notNull(),severity:e("severity").notNull().default("medium"),title:e("title").notNull(),message:e("message").notNull(),sourceType:e("source_type").notNull(),sourceId:a("source_id"),targetType:e("target_type"),targetId:a("target_id"),status:e("status").notNull().default("active"),acknowledgedBy:a("acknowledged_by"),acknowledgedAt:o("acknowledged_at"),resolvedBy:a("resolved_by"),resolvedAt:o("resolved_at"),resolution:e("resolution"),priority:t("priority").notNull().default(50),requiresImmediateAction:_("requires_immediate_action").notNull().default(!1),escalationLevel:t("escalation_level").notNull().default(0),escalatedAt:o("escalated_at"),autoEscalateAfter:o("auto_escalate_after"),metadata:p("metadata").notNull().default({}),actionsTaken:p("actions_taken").notNull().default([]),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ki=i("validator_performance_history",{id:a("id").primaryKey().default(c`gen_random_uuid()`),validatorAddress:e("validator_address").notNull(),uptime:t("uptime").notNull().default(1e4),blocksProduced:t("blocks_produced").notNull().default(0),blocksMissed:t("blocks_missed").notNull().default(0),avgBlockTime:t("avg_block_time").notNull().default(0),totalStake:e("total_stake").notNull().default("0"),delegatedStake:e("delegated_stake").notNull().default("0"),delegatorCount:t("delegator_count").notNull().default(0),rewardsEarned:e("rewards_earned").notNull().default("0"),commissionsEarned:e("commissions_earned").notNull().default("0"),latency:t("latency").notNull().default(0),peerCount:t("peer_count").notNull().default(0),aiTrustScore:t("ai_trust_score").notNull().default(7500),behaviorScore:t("behavior_score").notNull().default(9500),reputationScore:t("reputation_score").notNull().default(8500),slashEvents:t("slash_events").notNull().default(0),totalSlashed:e("total_slashed").notNull().default("0"),periodStart:o("period_start").notNull(),periodEnd:o("period_end").notNull(),periodType:e("period_type").notNull().default("hourly"),createdAt:o("created_at").notNull().defaultNow()}),zi=i("report_schedules",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:e("name").notNull(),description:e("description"),reportType:e("report_type").notNull(),scheduleType:e("schedule_type").notNull().default("manual"),cronExpression:e("cron_expression"),timezone:e("timezone").notNull().default("UTC"),parameters:p("parameters").notNull().default({}),jurisdiction:e("jurisdiction").notNull().default("global"),outputFormat:e("output_format").notNull().default("pdf"),deliveryMethod:e("delivery_method").notNull().default("download"),deliveryConfig:p("delivery_config").notNull().default({}),isActive:_("is_active").notNull().default(!0),lastRunAt:o("last_run_at"),lastRunStatus:e("last_run_status"),lastRunReportId:a("last_run_report_id"),nextRunAt:o("next_run_at"),totalRuns:t("total_runs").notNull().default(0),successfulRuns:t("successful_runs").notNull().default(0),failedRuns:t("failed_runs").notNull().default(0),createdBy:a("created_by").notNull(),updatedBy:a("updated_by"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Mi=i("hardware_verification_checklists",{id:a("id").primaryKey().default(c`gen_random_uuid()`),validatorApplicationId:a("validator_application_id").notNull(),validatorAddress:e("validator_address"),cpuSpecsVerified:_("cpu_specs_verified").notNull().default(!1),cpuNotes:e("cpu_notes"),memorySpecsVerified:_("memory_specs_verified").notNull().default(!1),memoryNotes:e("memory_notes"),storageSpecsVerified:_("storage_specs_verified").notNull().default(!1),storageNotes:e("storage_notes"),networkSpecsVerified:_("network_specs_verified").notNull().default(!1),networkNotes:e("network_notes"),bandwidthTestResult:t("bandwidth_test_result"),latencyTestResult:t("latency_test_result"),securityConfigVerified:_("security_config_verified").notNull().default(!1),securityNotes:e("security_notes"),firewallConfigured:_("firewall_configured").notNull().default(!1),sslCertificateValid:_("ssl_certificate_valid").notNull().default(!1),uptimeGuaranteeVerified:_("uptime_guarantee_verified").notNull().default(!1),uptimeNotes:e("uptime_notes"),redundancyConfigured:_("redundancy_configured").notNull().default(!1),geographicLocationVerified:_("geographic_location_verified").notNull().default(!1),geographicNotes:e("geographic_notes"),overallStatus:e("overall_status").notNull().default("pending"),overallScore:t("overall_score"),reviewedBy:a("reviewed_by"),reviewedAt:o("reviewed_at"),reviewNotes:e("review_notes"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Li=i("deployed_tokens",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:e("name").notNull(),symbol:e("symbol").notNull(),contractAddress:e("contract_address").notNull().unique(),standard:e("standard").notNull(),totalSupply:e("total_supply").notNull(),decimals:t("decimals").notNull().default(18),initialSupply:e("initial_supply"),maxSupply:e("max_supply"),mintable:_("mintable").notNull().default(!1),burnable:_("burnable").notNull().default(!0),pausable:_("pausable").notNull().default(!1),baseUri:e("base_uri"),maxTokens:t("max_tokens"),royaltyPercentage:t("royalty_percentage").default(0),royaltyRecipient:e("royalty_recipient"),tokenTypes:p("token_types"),aiOptimizationEnabled:_("ai_optimization_enabled").notNull().default(!0),aiBurnOptimization:_("ai_burn_optimization").notNull().default(!1),aiPriceOracle:_("ai_price_oracle").notNull().default(!1),aiSupplyManagement:_("ai_supply_management").notNull().default(!1),quantumResistant:_("quantum_resistant").notNull().default(!0),mevProtection:_("mev_protection").notNull().default(!0),zkPrivacy:_("zk_privacy").notNull().default(!1),deployerAddress:e("deployer_address").notNull(),deploymentTxHash:e("deployment_tx_hash").notNull(),deployedAt:o("deployed_at").notNull().defaultNow(),holders:t("holders").notNull().default(0),transactionCount:t("transaction_count").notNull().default(0),volume24h:e("volume_24h").notNull().default("0"),verified:_("verified").notNull().default(!1),status:e("status").notNull().default("active"),deploymentSource:e("deployment_source").notNull().default("token-system"),deploymentMode:e("deployment_mode").notNull().default("simulation"),blockNumber:t("block_number"),securityScore:t("security_score"),updatedAt:o("updated_at").notNull().defaultNow()});s(Fd).omit({id:!0});s(Ed).omit({id:!0});s(jd).omit({id:!0,createdAt:!0,updatedAt:!0});s(Hd).omit({id:!0,joinedAt:!0,lastActiveAt:!0});s(Gd).omit({id:!0,deployedAt:!0});s(Zd).omit({id:!0,lastUsed:!0});const Fi=s(Wd).omit({id:!0,createdAt:!0,executedAt:!0});s(Xd).omit({id:!0,createdAt:!0});s(Jd).omit({id:!0,createdAt:!0,completedAt:!0,rollbackAt:!0});s(Yd).omit({id:!0,createdAt:!0,decidedAt:!0});s(ei).omit({id:!0,createdAt:!0,updatedAt:!0,startedAt:!0,pausedAt:!0,completedAt:!0});s(ai).omit({id:!0,createdAt:!0});s(li).omit({id:!0,createdAt:!0,updatedAt:!0,deployedAt:!0});s(oi).omit({id:!0,createdAt:!0,updatedAt:!0,lastUsedAt:!0});s(ni).omit({id:!0,createdAt:!0});s(ti).omit({id:!0,createdAt:!0,updatedAt:!0});const Ei=s(ri).omit({id:!0,lastSyncedAt:!0});s(ui).omit({id:!0,updatedAt:!0});const ji=s(di).omit({id:!0,createdAt:!0});s(ii).omit({id:!0,createdAt:!0,updatedAt:!0,lastUsedAt:!0,revokedAt:!0,revokedBy:!0,revokeReason:!0,lastRotatedAt:!0,lastErrorAt:!0,totalRequests:!0,requestsToday:!0,requestsThisMonth:!0,errorCount:!0});s(si).omit({id:!0,createdAt:!0});const Hi=s(ci).omit({id:!0,sentAt:!0,confirmedAt:!0,failedAt:!0}),Qi=s(_i).omit({id:!0,firstSeenAt:!0,updatedAt:!0,lastTransactionAt:!0});s(fi).omit({id:!0,delegatedAt:!0});s(mi).omit({id:!0,timestamp:!0});s(pi).omit({id:!0,createdAt:!0});s(Ni).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivityAt:!0});s(gi).omit({id:!0,updatedAt:!0});s(yi).omit({id:!0,stakedAt:!0,lastClaimAt:!0});s(hi).omit({id:!0,lastVoteAt:!0,lastProposalAt:!0});s(Ai).omit({id:!0,updatedAt:!0,firstTransactionAt:!0,lastTransactionAt:!0});s(bi).omit({id:!0,updatedAt:!0,lastFailedLogin:!0,lastKeyRotation:!0,nextKeyRotationDue:!0,lastRiskAssessment:!0});s(vi).omit({id:!0,metricsUpdatedAt:!0});s(wi).omit({id:!0,occurredAt:!0});s(ki).omit({id:!0,createdAt:!0});s(Ri).omit({updatedAt:!0});s(Ti).omit({id:!0,createdAt:!0,reviewedAt:!0});s(xi).omit({id:!0,occurredAt:!0,detectedAt:!0,resolvedAt:!0});s(Pi).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0,approvedAt:!0,submittedAt:!0});s(Ii).omit({id:!0,submittedAt:!0,reviewStartedAt:!0,decidedAt:!0,activatedAt:!0});s(Ci).omit({id:!0,createdAt:!0,lastActivityAt:!0,terminatedAt:!0});s(qi).omit({id:!0,uploadedAt:!0,updatedAt:!0,verifiedAt:!0});s(Di).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ui).omit({id:!0,createdAt:!0,updatedAt:!0,lastHitAt:!0,unblockedAt:!0});s(Bi).omit({id:!0,snapshotAt:!0});s(Vi).omit({id:!0,createdAt:!0,updatedAt:!0,acknowledgedAt:!0,resolvedAt:!0,escalatedAt:!0});s(Ki).omit({id:!0,createdAt:!0});s(zi).omit({id:!0,createdAt:!0,updatedAt:!0,lastRunAt:!0,nextRunAt:!0});s(Mi).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0});s(Li).omit({id:!0,deployedAt:!0,updatedAt:!0});const Oi=Fi.extend({id:x(),band:x().optional(),modelName:x().optional(),decision:x().optional(),impact:x().optional(),category:x().optional(),createdAt:x().or(M()).optional(),executedAt:x().or(M()).optional()}).partial(),$i=Hi.extend({id:x(),sentAt:x().or(M()),confirmedAt:x().or(M()).optional(),failedAt:x().or(M()).optional()}),Gi=Qi.extend({id:x(),firstSeenAt:x().or(M()).optional(),updatedAt:x().or(M()).optional(),lastTransactionAt:x().or(M()).nullish()}),Zi=ji.extend({id:x(),createdAt:x().or(M())}),Wi=Ei.extend({id:x(),lastSyncedAt:x().or(M()).nullish()}),t_=F(Oi),a_=F($i);F(Gi);F(Zi);const l_=F(Wi),Xi=i("staking_pools",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:e("name").notNull(),symbol:e("symbol").notNull(),poolType:e("pool_type").notNull().default("public"),tier:e("tier").notNull().default("bronze"),status:e("status").notNull().default("active"),minStake:e("min_stake").notNull().default("1000000000000000000"),maxStake:e("max_stake"),maxTotalStake:e("max_total_stake"),validatorId:a("validator_id"),validatorAddress:e("validator_address"),validatorName:e("validator_name"),lockPeriod:e("lock_period").notNull().default("30days"),lockPeriodDays:t("lock_period_days").notNull().default(30),rewardType:e("reward_type").notNull().default("fixed"),rewardFrequency:e("reward_frequency").notNull().default("daily"),baseApy:t("base_apy").notNull().default(1200),maxApy:t("max_apy").notNull().default(2500),apyBoost:t("apy_boost").notNull().default(0),entryFee:t("entry_fee").notNull().default(0),exitFee:t("exit_fee").notNull().default(50),performanceFee:t("performance_fee").notNull().default(1e3),earlyWithdrawalPenalty:t("early_withdrawal_penalty").notNull().default(500),autoCompoundEnabled:_("auto_compound_enabled").notNull().default(!0),compoundFrequencyHours:t("compound_frequency_hours").notNull().default(24),totalStaked:e("total_staked").notNull().default("0"),totalRewards:e("total_rewards").notNull().default("0"),totalStakers:t("total_stakers").notNull().default(0),totalValidators:t("total_validators").notNull().default(0),currentApy:t("current_apy").notNull().default(1200),description:e("description"),logoUrl:e("logo_url"),websiteUrl:e("website_url"),termsUrl:e("terms_url"),auditReportUrl:e("audit_report_url"),whitelistEnabled:_("whitelist_enabled").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),lastRewardUpdate:o("last_reward_update")}),Ji=i("staking_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),stakerAddress:e("staker_address").notNull(),stakedAmount:e("staked_amount").notNull(),tier:e("tier").notNull().default("bronze"),rewardsEarned:e("rewards_earned").notNull().default("0"),rewardsClaimed:e("rewards_claimed").notNull().default("0"),pendingRewards:e("pending_rewards").notNull().default("0"),autoCompound:_("auto_compound").notNull().default(!1),lastCompoundAt:o("last_compound_at"),lockPeriod:e("lock_period").notNull(),unlockAt:o("unlock_at"),delegatedValidatorId:a("delegated_validator_id"),status:e("status").notNull().default("active"),stakedAt:o("staked_at").notNull().defaultNow(),lastActionAt:o("last_action_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Yi=i("staking_delegations",{id:a("id").primaryKey().default(c`gen_random_uuid()`),delegatorAddress:e("delegator_address").notNull(),validatorId:a("validator_id").notNull(),poolId:a("pool_id"),amount:e("amount").notNull(),shares:e("shares").notNull().default("0"),status:e("status").notNull().default("active"),unbondingStartAt:o("unbonding_start_at"),unbondingEndAt:o("unbonding_end_at"),redelegatingToValidatorId:a("redelegating_to_validator_id"),redelegationCompleteAt:o("redelegation_complete_at"),rewardsEarned:e("rewards_earned").notNull().default("0"),rewardsClaimed:e("rewards_claimed").notNull().default("0"),pendingRewards:e("pending_rewards").notNull().default("0"),slashedAmount:e("slashed_amount").notNull().default("0"),slashCount:t("slash_count").notNull().default(0),delegatedAt:o("delegated_at").notNull().defaultNow(),lastActionAt:o("last_action_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),es=i("unbonding_requests",{id:a("id").primaryKey().default(c`gen_random_uuid()`),delegationId:a("delegation_id").notNull(),delegatorAddress:e("delegator_address").notNull(),validatorId:a("validator_id").notNull(),amount:e("amount").notNull(),startedAt:o("started_at").notNull().defaultNow(),completesAt:o("completes_at").notNull(),status:e("status").notNull().default("pending"),completedAt:o("completed_at"),createdAt:o("created_at").notNull().defaultNow()}),ts=i("reward_cycles",{id:a("id").primaryKey().default(c`gen_random_uuid()`),cycleNumber:t("cycle_number").notNull().unique(),poolId:a("pool_id"),startedAt:o("started_at").notNull(),endedAt:o("ended_at"),durationHours:t("duration_hours").notNull().default(24),totalRewards:e("total_rewards").notNull().default("0"),distributedRewards:e("distributed_rewards").notNull().default("0"),treasurySplit:e("treasury_split").notNull().default("0"),validatorFees:e("validator_fees").notNull().default("0"),totalStakersRewarded:t("total_stakers_rewarded").notNull().default(0),averageRewardPerStaker:e("average_reward_per_staker").notNull().default("0"),status:e("status").notNull().default("active"),createdAt:o("created_at").notNull().defaultNow()}),as=i("reward_events",{id:a("id").primaryKey().default(c`gen_random_uuid()`),cycleId:a("cycle_id").notNull(),recipientAddress:e("recipient_address").notNull(),poolId:a("pool_id"),validatorId:a("validator_id"),rewardType:e("reward_type").notNull(),amount:e("amount").notNull(),tierMultiplier:t("tier_multiplier").notNull().default(1e4),status:e("status").notNull().default("pending"),distributedAt:o("distributed_at"),claimedAt:o("claimed_at"),createdAt:o("created_at").notNull().defaultNow()}),ls=i("slashing_events",{id:a("id").primaryKey().default(c`gen_random_uuid()`),validatorId:a("validator_id").notNull(),reason:e("reason").notNull(),severity:e("severity").notNull(),slashPercentage:t("slash_percentage").notNull(),totalSlashed:e("total_slashed").notNull(),affectedDelegators:t("affected_delegators").notNull().default(0),evidence:p("evidence"),blockNumber:h("block_number",{mode:"number"}),status:e("status").notNull().default("executed"),occurredAt:o("occurred_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()}),os=i("pool_whitelist",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),address:e("address").notNull(),addedBy:e("added_by").notNull(),addedAt:o("added_at").notNull().defaultNow()}),ns=i("staking_stats",{id:a("id").primaryKey().default("singleton"),totalValueLocked:e("total_value_locked").notNull().default("0"),totalRewardsDistributed:e("total_rewards_distributed").notNull().default("0"),totalStakers:t("total_stakers").notNull().default(0),totalPools:t("total_pools").notNull().default(0),averageApy:t("average_apy").notNull().default(0),highestApy:t("highest_apy").notNull().default(0),lowestApy:t("lowest_apy").notNull().default(0),bronzeStakers:t("bronze_stakers").notNull().default(0),silverStakers:t("silver_stakers").notNull().default(0),goldStakers:t("gold_stakers").notNull().default(0),platinumStakers:t("platinum_stakers").notNull().default(0),diamondStakers:t("diamond_stakers").notNull().default(0),currentRewardCycle:t("current_reward_cycle").notNull().default(0),lastRewardDistribution:o("last_reward_distribution"),updatedAt:o("updated_at").notNull().defaultNow()});s(Xi).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ji).omit({id:!0,createdAt:!0,updatedAt:!0});s(Yi).omit({id:!0,createdAt:!0,updatedAt:!0});s(es).omit({id:!0,createdAt:!0});s(ts).omit({id:!0,createdAt:!0});s(as).omit({id:!0,createdAt:!0});s(ls).omit({id:!0,createdAt:!0});s(os).omit({id:!0,addedAt:!0});s(ns).omit({updatedAt:!0});const rs=i("staking_tier_config",{id:a("id").primaryKey(),tier:e("tier").notNull().unique(),displayName:e("display_name").notNull(),minApy:t("min_apy").notNull(),maxApy:t("max_apy").notNull(),apyMultiplier:t("apy_multiplier").notNull().default(1e4),minLockDays:t("min_lock_days").notNull(),maxLockDays:t("max_lock_days").notNull(),minStakeWei:e("min_stake_wei").notNull(),maxStakeWei:e("max_stake_wei"),earlyAdopterBonus:t("early_adopter_bonus").notNull().default(0),loyaltyBonus:t("loyalty_bonus").notNull().default(0),feeDiscount:t("fee_discount").notNull().default(0),priorityRewards:_("priority_rewards").notNull().default(!1),governanceWeight:t("governance_weight").notNull().default(1),color:e("color").notNull().default("#CD7F32"),iconUrl:e("icon_url"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),us=i("pool_validator_assignments",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),validatorId:a("validator_id").notNull(),allocationWeight:t("allocation_weight").notNull().default(1e4),status:e("status").notNull().default("active"),totalDelegated:e("total_delegated").notNull().default("0"),rewardsGenerated:e("rewards_generated").notNull().default("0"),assignedAt:o("assigned_at").notNull().defaultNow(),lastRewardAt:o("last_reward_at")}),ds=i("staking_audit_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),action:e("action").notNull(),actorAddress:e("actor_address").notNull(),actorType:e("actor_type").notNull().default("user"),targetType:e("target_type").notNull(),targetId:a("target_id").notNull(),previousValue:p("previous_value"),newValue:p("new_value"),amount:e("amount"),txHash:e("tx_hash"),blockNumber:h("block_number",{mode:"number"}),ipAddress:e("ip_address"),userAgent:e("user_agent"),requestId:e("request_id"),status:e("status").notNull().default("success"),errorMessage:e("error_message"),createdAt:o("created_at").notNull().defaultNow()}),is=i("staking_snapshots",{id:a("id").primaryKey().default(c`gen_random_uuid()`),snapshotType:e("snapshot_type").notNull(),snapshotAt:o("snapshot_at").notNull(),epochNumber:t("epoch_number"),totalValueLocked:e("total_value_locked").notNull(),totalStakers:t("total_stakers").notNull(),totalPools:t("total_pools").notNull(),totalValidators:t("total_validators").notNull(),averageApy:t("average_apy").notNull(),weightedApy:t("weighted_apy").notNull(),rewardsDistributed:e("rewards_distributed").notNull(),newStakes:e("new_stakes").notNull(),withdrawals:e("withdrawals").notNull(),poolMetrics:p("pool_metrics"),tierDistribution:p("tier_distribution"),validatorMetrics:p("validator_metrics"),createdAt:o("created_at").notNull().defaultNow()}),ss=i("staking_ai_assessments",{id:a("id").primaryKey().default(c`gen_random_uuid()`),assessmentType:e("assessment_type").notNull(),targetType:e("target_type").notNull(),targetId:a("target_id").notNull(),aiModel:e("ai_model").notNull(),modelVersion:e("model_version"),riskScore:t("risk_score").notNull(),riskLevel:e("risk_level").notNull(),confidenceScore:t("confidence_score").notNull(),predictedApy:t("predicted_apy"),predictedRisk:p("predicted_risk"),analysisFactors:p("analysis_factors"),recommendations:p("recommendations"),validUntil:o("valid_until").notNull(),isActive:_("is_active").notNull().default(!0),assessedAt:o("assessed_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()});s(rs).omit({createdAt:!0,updatedAt:!0});s(us).omit({id:!0,assignedAt:!0});s(ds).omit({id:!0,createdAt:!0});s(is).omit({id:!0,createdAt:!0});s(ss).omit({id:!0,createdAt:!0});const cs=de({number:K(),label:x(),time:x(),status:No(["completed","active","pending"])}),o_=de({currentPhase:K(),phases:F(cs),proposer:x(),blockHeight:K(),prevoteCount:K(),precommitCount:K(),totalValidators:K(),participatingValidators:K().optional(),participationRate:K().optional(),requiredQuorum:K(),avgBlockTimeMs:K(),startTime:K(),consensusType:x().optional(),consensusDescription:x().optional()}),_s=i("dex_pools",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:e("name").notNull(),symbol:e("symbol").notNull(),contractAddress:e("contract_address").notNull().unique(),poolType:e("pool_type").notNull().default("standard"),feeTier:t("fee_tier").notNull().default(300),status:e("status").notNull().default("active"),token0Address:e("token0_address").notNull(),token0Symbol:e("token0_symbol").notNull(),token0Decimals:t("token0_decimals").notNull().default(18),token1Address:e("token1_address").notNull(),token1Symbol:e("token1_symbol").notNull(),token1Decimals:t("token1_decimals").notNull().default(18),reserve0:e("reserve0").notNull().default("0"),reserve1:e("reserve1").notNull().default("0"),tickSpacing:t("tick_spacing"),currentTick:t("current_tick"),sqrtPriceX96:e("sqrt_price_x96"),amplificationParameter:t("amplification_parameter"),token0Weight:t("token0_weight"),token1Weight:t("token1_weight"),price0:e("price0").notNull().default("0"),price1:e("price1").notNull().default("0"),priceUsd0:e("price_usd_0").notNull().default("0"),priceUsd1:e("price_usd_1").notNull().default("0"),lpTokenSupply:e("lp_token_supply").notNull().default("0"),lpTokenDecimals:t("lp_token_decimals").notNull().default(18),volume24h:e("volume_24h").notNull().default("0"),volume7d:e("volume_7d").notNull().default("0"),volumeAllTime:e("volume_all_time").notNull().default("0"),fees24h:e("fees_24h").notNull().default("0"),fees7d:e("fees_7d").notNull().default("0"),feesAllTime:e("fees_all_time").notNull().default("0"),tvlUsd:e("tvl_usd").notNull().default("0"),swapCount24h:t("swap_count_24h").notNull().default(0),swapCountAllTime:t("swap_count_all_time").notNull().default(0),lpCount:t("lp_count").notNull().default(0),feeApy:t("fee_apy").notNull().default(0),rewardApy:t("reward_apy").notNull().default(0),totalApy:t("total_apy").notNull().default(0),aiPriceOracle:_("ai_price_oracle").notNull().default(!0),aiRouteOptimization:_("ai_route_optimization").notNull().default(!0),aiMevProtection:_("ai_mev_protection").notNull().default(!0),aiRiskScore:t("ai_risk_score").notNull().default(0),mevProtectionEnabled:_("mev_protection_enabled").notNull().default(!0),flashloanGuardEnabled:_("flashloan_guard_enabled").notNull().default(!0),circuitBreakerEnabled:_("circuit_breaker_enabled").notNull().default(!0),creatorAddress:e("creator_address").notNull(),deploymentTxHash:e("deployment_tx_hash"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),lastSwapAt:o("last_swap_at")}),fs=i("dex_pool_assets",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),tokenAddress:e("token_address").notNull(),tokenSymbol:e("token_symbol").notNull(),tokenDecimals:t("token_decimals").notNull().default(18),reserve:e("reserve").notNull().default("0"),weight:t("weight").notNull().default(0),priceUsd:e("price_usd").notNull().default("0"),assetIndex:t("asset_index").notNull().default(0),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ms=i("dex_pool_ticks",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),tickIndex:t("tick_index").notNull(),liquidityGross:e("liquidity_gross").notNull().default("0"),liquidityNet:e("liquidity_net").notNull().default("0"),feeGrowthOutside0:e("fee_growth_outside_0").notNull().default("0"),feeGrowthOutside1:e("fee_growth_outside_1").notNull().default("0"),secondsOutside:h("seconds_outside",{mode:"number"}).notNull().default(0),initialized:_("initialized").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ps=i("dex_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),positionNftId:e("position_nft_id"),poolId:a("pool_id").notNull(),ownerAddress:e("owner_address").notNull(),isConcentrated:_("is_concentrated").notNull().default(!1),lpTokenAmount:e("lp_token_amount").notNull().default("0"),tickLower:t("tick_lower"),tickUpper:t("tick_upper"),liquidity:e("liquidity").notNull().default("0"),amount0:e("amount0").notNull().default("0"),amount1:e("amount1").notNull().default("0"),valueUsd:e("value_usd").notNull().default("0"),unclaimedFees0:e("unclaimed_fees_0").notNull().default("0"),unclaimedFees1:e("unclaimed_fees_1").notNull().default("0"),totalFeesEarned0:e("total_fees_earned_0").notNull().default("0"),totalFeesEarned1:e("total_fees_earned_1").notNull().default("0"),feeGrowthInside0LastX128:e("fee_growth_inside_0_last_x128"),feeGrowthInside1LastX128:e("fee_growth_inside_1_last_x128"),status:e("status").notNull().default("active"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),closedAt:o("closed_at")}),Ns=i("dex_swaps",{id:a("id").primaryKey().default(c`gen_random_uuid()`),txHash:e("tx_hash").notNull(),poolId:a("pool_id").notNull(),traderAddress:e("trader_address").notNull(),tokenInAddress:e("token_in_address").notNull(),tokenInSymbol:e("token_in_symbol").notNull(),tokenOutAddress:e("token_out_address").notNull(),tokenOutSymbol:e("token_out_symbol").notNull(),amountIn:e("amount_in").notNull(),amountOut:e("amount_out").notNull(),amountInUsd:e("amount_in_usd").notNull().default("0"),amountOutUsd:e("amount_out_usd").notNull().default("0"),priceImpact:t("price_impact").notNull().default(0),effectivePrice:e("effective_price").notNull(),feeAmount:e("fee_amount").notNull().default("0"),feeUsd:e("fee_usd").notNull().default("0"),slippageTolerance:t("slippage_tolerance").notNull().default(50),actualSlippage:t("actual_slippage").notNull().default(0),mevProtected:_("mev_protected").notNull().default(!1),isPrivate:_("is_private").notNull().default(!1),routePath:p("route_path"),isMultiHop:_("is_multi_hop").notNull().default(!1),aiOptimizedRoute:_("ai_optimized_route").notNull().default(!1),aiPredictedPrice:e("ai_predicted_price"),aiConfidence:t("ai_confidence"),status:e("status").notNull().default("pending"),failureReason:e("failure_reason"),blockNumber:h("block_number",{mode:"number"}),blockTimestamp:h("block_timestamp",{mode:"number"}),gasUsed:h("gas_used",{mode:"number"}),gasPrice:e("gas_price"),createdAt:o("created_at").notNull().defaultNow(),completedAt:o("completed_at")}),gs=i("dex_price_history",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),interval:e("interval").notNull(),periodStart:o("period_start").notNull(),periodEnd:o("period_end").notNull(),open:e("open").notNull(),high:e("high").notNull(),low:e("low").notNull(),close:e("close").notNull(),volume:e("volume").notNull().default("0"),volumeUsd:e("volume_usd").notNull().default("0"),tradeCount:t("trade_count").notNull().default(0),twap:e("twap").notNull(),createdAt:o("created_at").notNull().defaultNow()}),ys=i("dex_twap_oracle",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),observationIndex:t("observation_index").notNull(),blockTimestamp:h("block_timestamp",{mode:"number"}).notNull(),tickCumulative:e("tick_cumulative").notNull(),secondsPerLiquidityCumulativeX128:e("seconds_per_liquidity_cumulative_x128").notNull(),price0CumulativeX128:e("price0_cumulative_x128").notNull(),price1CumulativeX128:e("price1_cumulative_x128").notNull(),initialized:_("initialized").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow()}),hs=i("dex_circuit_breakers",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull().unique(),status:e("status").notNull().default("normal"),priceDeviationThreshold:t("price_deviation_threshold").notNull().default(1e3),volumeSpikeThreshold:t("volume_spike_threshold").notNull().default(5e4),liquidityDropThreshold:t("liquidity_drop_threshold").notNull().default(3e3),currentPriceDeviation:t("current_price_deviation").notNull().default(0),currentVolumeSpike:t("current_volume_spike").notNull().default(0),currentLiquidityDrop:t("current_liquidity_drop").notNull().default(0),lastTriggeredAt:o("last_triggered_at"),triggerCount24h:t("trigger_count_24h").notNull().default(0),triggerCountAllTime:t("trigger_count_all_time").notNull().default(0),cooldownEndsAt:o("cooldown_ends_at"),cooldownDurationMinutes:t("cooldown_duration_minutes").notNull().default(15),aiRiskLevel:e("ai_risk_level").notNull().default("low"),aiRecommendation:e("ai_recommendation"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),As=i("dex_mev_events",{id:a("id").primaryKey().default(c`gen_random_uuid()`),eventType:e("event_type").notNull(),severity:e("severity").notNull().default("low"),victimTxHash:e("victim_tx_hash"),attackerTxHash:e("attacker_tx_hash"),poolId:a("pool_id"),victimAddress:e("victim_address"),attackerAddress:e("attacker_address"),estimatedLossUsd:e("estimated_loss_usd").notNull().default("0"),preventedLossUsd:e("prevented_loss_usd").notNull().default("0"),detectionMethod:e("detection_method").notNull(),aiConfidence:t("ai_confidence").notNull().default(0),status:e("status").notNull().default("detected"),mitigationAction:e("mitigation_action"),blockNumber:h("block_number",{mode:"number"}),createdAt:o("created_at").notNull().defaultNow(),resolvedAt:o("resolved_at")}),bs=i("dex_liquidity_rewards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),rewardTokenAddress:e("reward_token_address").notNull(),rewardTokenSymbol:e("reward_token_symbol").notNull(),rewardRate:e("reward_rate").notNull(),totalRewards:e("total_rewards").notNull(),distributedRewards:e("distributed_rewards").notNull().default("0"),startTime:o("start_time").notNull(),endTime:o("end_time").notNull(),isActive:_("is_active").notNull().default(!0),boostMultiplier:t("boost_multiplier").notNull().default(1e4),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),vs=i("dex_user_analytics",{id:a("id").primaryKey().default(c`gen_random_uuid()`),userAddress:e("user_address").notNull().unique(),totalSwaps:t("total_swaps").notNull().default(0),totalVolumeUsd:e("total_volume_usd").notNull().default("0"),totalFeePaid:e("total_fee_paid").notNull().default("0"),totalPositions:t("total_positions").notNull().default(0),activePositions:t("active_positions").notNull().default(0),totalLiquidityProvidedUsd:e("total_liquidity_provided_usd").notNull().default("0"),totalFeesEarnedUsd:e("total_fees_earned_usd").notNull().default("0"),realizedPnlUsd:e("realized_pnl_usd").notNull().default("0"),unrealizedPnlUsd:e("unrealized_pnl_usd").notNull().default("0"),firstTradeAt:o("first_trade_at"),lastTradeAt:o("last_trade_at"),traderTier:e("trader_tier").notNull().default("bronze"),feeDiscount:t("fee_discount").notNull().default(0),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()});s(_s).omit({id:!0,createdAt:!0,updatedAt:!0,lastSwapAt:!0});s(fs).omit({id:!0,createdAt:!0,updatedAt:!0});s(ms).omit({id:!0,createdAt:!0,updatedAt:!0});s(ps).omit({id:!0,createdAt:!0,updatedAt:!0,closedAt:!0});s(Ns).omit({id:!0,createdAt:!0,completedAt:!0});s(gs).omit({id:!0,createdAt:!0});s(ys).omit({id:!0,createdAt:!0});s(hs).omit({id:!0,createdAt:!0,updatedAt:!0});s(As).omit({id:!0,createdAt:!0,resolvedAt:!0});s(bs).omit({id:!0,createdAt:!0,updatedAt:!0});s(vs).omit({id:!0,createdAt:!0,updatedAt:!0});const ws=i("lending_markets",{id:a("id").primaryKey().default(c`gen_random_uuid()`),assetAddress:e("asset_address").notNull().unique(),assetSymbol:e("asset_symbol").notNull(),assetName:e("asset_name").notNull(),assetDecimals:t("asset_decimals").notNull().default(18),priceFeedId:e("price_feed_id").notNull(),totalSupply:e("total_supply").notNull().default("0"),totalBorrowed:e("total_borrowed").notNull().default("0"),totalReserves:e("total_reserves").notNull().default("0"),availableLiquidity:e("available_liquidity").notNull().default("0"),supplyRate:t("supply_rate").notNull().default(0),borrowRateVariable:t("borrow_rate_variable").notNull().default(0),borrowRateStable:t("borrow_rate_stable").notNull().default(0),utilizationRate:t("utilization_rate").notNull().default(0),exchangeRate:e("exchange_rate").notNull().default("1000000000000000000"),collateralFactor:t("collateral_factor").notNull().default(7500),liquidationThreshold:t("liquidation_threshold").notNull().default(8e3),liquidationPenalty:t("liquidation_penalty").notNull().default(500),reserveFactor:t("reserve_factor").notNull().default(1e3),supplyCap:e("supply_cap"),borrowCap:e("borrow_cap"),interestRateModel:e("interest_rate_model").notNull().default("jump_rate"),baseRate:t("base_rate").notNull().default(200),optimalUtilization:t("optimal_utilization").notNull().default(8e3),slope1:t("slope_1").notNull().default(400),slope2:t("slope_2").notNull().default(6e3),canBeCollateral:_("can_be_collateral").notNull().default(!0),canBeBorrowed:_("can_be_borrowed").notNull().default(!0),status:e("status").notNull().default("active"),totalSuppliers:t("total_suppliers").notNull().default(0),totalBorrowers:t("total_borrowers").notNull().default(0),lastInterestUpdate:o("last_interest_update").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ks=i("lending_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),userAddress:e("user_address").notNull().unique(),totalCollateralValueUsd:e("total_collateral_value_usd").notNull().default("0"),totalBorrowedValueUsd:e("total_borrowed_value_usd").notNull().default("0"),availableBorrowUsd:e("available_borrow_usd").notNull().default("0"),liquidationThresholdUsd:e("liquidation_threshold_usd").notNull().default("0"),healthFactor:t("health_factor").notNull().default(1e6),healthStatus:e("health_status").notNull().default("healthy"),netApy:t("net_apy").notNull().default(0),totalInterestEarned:e("total_interest_earned").notNull().default("0"),totalInterestOwed:e("total_interest_owed").notNull().default("0"),suppliedAssetCount:t("supplied_asset_count").notNull().default(0),borrowedAssetCount:t("borrowed_asset_count").notNull().default(0),lastActivityAt:o("last_activity_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ss=i("lending_supplies",{id:a("id").primaryKey().default(c`gen_random_uuid()`),positionId:a("position_id").notNull(),marketId:a("market_id").notNull(),userAddress:e("user_address").notNull(),assetAddress:e("asset_address").notNull(),suppliedAmount:e("supplied_amount").notNull().default("0"),suppliedShares:e("supplied_shares").notNull().default("0"),suppliedValueUsd:e("supplied_value_usd").notNull().default("0"),isCollateral:_("is_collateral").notNull().default(!0),supplyApy:t("supply_apy").notNull().default(0),interestEarned:e("interest_earned").notNull().default("0"),lastUpdateAt:o("last_update_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()}),Ts=i("lending_borrows",{id:a("id").primaryKey().default(c`gen_random_uuid()`),positionId:a("position_id").notNull(),marketId:a("market_id").notNull(),userAddress:e("user_address").notNull(),assetAddress:e("asset_address").notNull(),borrowedAmount:e("borrowed_amount").notNull().default("0"),borrowedShares:e("borrowed_shares").notNull().default("0"),borrowedValueUsd:e("borrowed_value_usd").notNull().default("0"),rateMode:e("rate_mode").notNull().default("variable"),borrowApy:t("borrow_apy").notNull().default(0),stableRate:t("stable_rate"),accruedInterest:e("accrued_interest").notNull().default("0"),lastUpdateAt:o("last_update_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()}),xs=i("lending_liquidations",{id:a("id").primaryKey().default(c`gen_random_uuid()`),liquidatorAddress:e("liquidator_address").notNull(),borrowerAddress:e("borrower_address").notNull(),positionId:a("position_id").notNull(),collateralAsset:e("collateral_asset").notNull(),collateralSymbol:e("collateral_symbol").notNull(),debtAsset:e("debt_asset").notNull(),debtSymbol:e("debt_symbol").notNull(),debtRepaid:e("debt_repaid").notNull(),collateralSeized:e("collateral_seized").notNull(),liquidationBonus:e("liquidation_bonus").notNull(),protocolFee:e("protocol_fee").notNull().default("0"),debtRepaidUsd:e("debt_repaid_usd").notNull(),collateralSeizedUsd:e("collateral_seized_usd").notNull(),healthFactorBefore:t("health_factor_before").notNull(),healthFactorAfter:t("health_factor_after").notNull(),closeFactorUsed:t("close_factor_used").notNull(),status:e("status").notNull().default("completed"),txHash:e("tx_hash"),aiRiskAssessment:e("ai_risk_assessment"),aiRecommendation:e("ai_recommendation"),executedAt:o("executed_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()}),Ps=i("lending_rate_history",{id:a("id").primaryKey().default(c`gen_random_uuid()`),marketId:a("market_id").notNull(),assetSymbol:e("asset_symbol").notNull(),supplyRate:t("supply_rate").notNull(),borrowRateVariable:t("borrow_rate_variable").notNull(),borrowRateStable:t("borrow_rate_stable").notNull(),utilizationRate:t("utilization_rate").notNull(),totalSupply:e("total_supply").notNull(),totalBorrowed:e("total_borrowed").notNull(),blockNumber:h("block_number",{mode:"number"}),recordedAt:o("recorded_at").notNull().defaultNow()}),Is=i("lending_transactions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),txType:e("tx_type").notNull(),userAddress:e("user_address").notNull(),positionId:a("position_id"),marketId:a("market_id").notNull(),assetAddress:e("asset_address").notNull(),assetSymbol:e("asset_symbol").notNull(),amount:e("amount").notNull(),shares:e("shares").notNull().default("0"),amountUsd:e("amount_usd").notNull(),rateMode:e("rate_mode"),interestRate:t("interest_rate"),exchangeRate:e("exchange_rate"),healthFactorAfter:t("health_factor_after"),status:e("status").notNull().default("completed"),txHash:e("tx_hash"),blockNumber:h("block_number",{mode:"number"}),createdAt:o("created_at").notNull().defaultNow()}),Cs=i("lending_protocol_stats",{id:a("id").primaryKey().default(c`gen_random_uuid()`),totalValueLockedUsd:e("total_value_locked_usd").notNull().default("0"),totalBorrowedUsd:e("total_borrowed_usd").notNull().default("0"),totalReservesUsd:e("total_reserves_usd").notNull().default("0"),activeMarkets:t("active_markets").notNull().default(0),totalMarkets:t("total_markets").notNull().default(0),totalSuppliers:t("total_suppliers").notNull().default(0),totalBorrowers:t("total_borrowers").notNull().default(0),uniqueUsers:t("unique_users").notNull().default(0),volume24hSupply:e("volume_24h_supply").notNull().default("0"),volume24hBorrow:e("volume_24h_borrow").notNull().default("0"),volume24hRepay:e("volume_24h_repay").notNull().default("0"),liquidations24h:t("liquidations_24h").notNull().default(0),liquidationVolume24hUsd:e("liquidation_volume_24h_usd").notNull().default("0"),protocolRevenueUsd:e("protocol_revenue_usd").notNull().default("0"),avgSupplyRate:t("avg_supply_rate").notNull().default(0),avgBorrowRate:t("avg_borrow_rate").notNull().default(0),avgUtilization:t("avg_utilization").notNull().default(0),atRiskPositions:t("at_risk_positions").notNull().default(0),liquidatablePositions:t("liquidatable_positions").notNull().default(0),snapshotAt:o("snapshot_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()});s(ws).omit({id:!0,createdAt:!0,updatedAt:!0,lastInterestUpdate:!0});s(ks).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivityAt:!0});s(Ss).omit({id:!0,createdAt:!0,lastUpdateAt:!0});s(Ts).omit({id:!0,createdAt:!0,lastUpdateAt:!0});s(xs).omit({id:!0,createdAt:!0,executedAt:!0});s(Ps).omit({id:!0,recordedAt:!0});s(Is).omit({id:!0,createdAt:!0});s(Cs).omit({id:!0,createdAt:!0,snapshotAt:!0});const qs=i("yield_vaults",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:e("name").notNull(),symbol:e("symbol").notNull(),description:e("description"),contractAddress:e("contract_address").notNull().unique(),underlyingAsset:e("underlying_asset").notNull(),underlyingSymbol:e("underlying_symbol").notNull(),underlyingDecimals:t("underlying_decimals").notNull().default(18),vaultType:e("vault_type").notNull().default("auto_compound"),strategyType:e("strategy_type").notNull().default("yield_aggregator"),riskLevel:e("risk_level").notNull().default("medium"),totalDeposited:e("total_deposited").notNull().default("0"),totalShares:e("total_shares").notNull().default("0"),sharePrice:e("share_price").notNull().default("1000000000000000000"),tvlUsd:e("tvl_usd").notNull().default("0"),allTimeHighTvl:e("all_time_high_tvl").notNull().default("0"),baseApy:t("base_apy").notNull().default(0),boostApy:t("boost_apy").notNull().default(0),rewardApy:t("reward_apy").notNull().default(0),totalApy:t("total_apy").notNull().default(0),apySource:e("apy_source").notNull().default("combined"),dailyApy:t("daily_apy").notNull().default(0),weeklyApy:t("weekly_apy").notNull().default(0),monthlyApy:t("monthly_apy").notNull().default(0),depositFee:t("deposit_fee").notNull().default(0),withdrawalFee:t("withdrawal_fee").notNull().default(10),performanceFee:t("performance_fee").notNull().default(1e3),managementFee:t("management_fee").notNull().default(200),depositCap:e("deposit_cap"),minDeposit:e("min_deposit").notNull().default("0"),maxDeposit:e("max_deposit"),dexPoolId:a("dex_pool_id"),lendingMarketId:a("lending_market_id"),aiOptimized:_("ai_optimized").notNull().default(!0),aiStrategyScore:t("ai_strategy_score").notNull().default(8e3),aiRiskScore:t("ai_risk_score").notNull().default(5e3),status:e("status").notNull().default("active"),isEmergencyWithdrawEnabled:_("is_emergency_withdraw_enabled").notNull().default(!1),totalDepositors:t("total_depositors").notNull().default(0),deposits24h:e("deposits_24h").notNull().default("0"),withdrawals24h:e("withdrawals_24h").notNull().default("0"),harvestCount:t("harvest_count").notNull().default(0),lastHarvestAt:o("last_harvest_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Rs=i("yield_strategies",{id:a("id").primaryKey().default(c`gen_random_uuid()`),vaultId:a("vault_id").notNull(),name:e("name").notNull(),description:e("description"),contractAddress:e("contract_address").notNull(),strategyType:e("strategy_type").notNull(),protocol:e("protocol").notNull(),allocationPercent:t("allocation_percent").notNull().default(1e4),currentValue:e("current_value").notNull().default("0"),currentApy:t("current_apy").notNull().default(0),historicalApy:t("historical_apy").notNull().default(0),profitGenerated:e("profit_generated").notNull().default("0"),lossIncurred:e("loss_incurred").notNull().default("0"),maxLeverage:t("max_leverage").notNull().default(1e4),liquidationThreshold:t("liquidation_threshold").notNull().default(8e3),stopLossThreshold:t("stop_loss_threshold").notNull().default(500),isActive:_("is_active").notNull().default(!0),lastExecutionAt:o("last_execution_at"),executionCount:t("execution_count").notNull().default(0),failureCount:t("failure_count").notNull().default(0),aiOptimized:_("ai_optimized").notNull().default(!0),aiConfidenceScore:t("ai_confidence_score").notNull().default(8e3),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ds=i("yield_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),vaultId:a("vault_id").notNull(),userAddress:e("user_address").notNull(),depositedAmount:e("deposited_amount").notNull().default("0"),shares:e("shares").notNull().default("0"),currentValue:e("current_value").notNull().default("0"),currentValueUsd:e("current_value_usd").notNull().default("0"),totalProfit:e("total_profit").notNull().default("0"),totalProfitUsd:e("total_profit_usd").notNull().default("0"),unrealizedProfit:e("unrealized_profit").notNull().default("0"),realizedProfit:e("realized_profit").notNull().default("0"),pendingRewards:e("pending_rewards").notNull().default("0"),claimedRewards:e("claimed_rewards").notNull().default("0"),boostMultiplier:t("boost_multiplier").notNull().default(1e4),boostEndTime:o("boost_end_time"),isLocked:_("is_locked").notNull().default(!1),lockEndTime:o("lock_end_time"),lockDurationDays:t("lock_duration_days").notNull().default(0),depositCount:t("deposit_count").notNull().default(0),withdrawCount:t("withdraw_count").notNull().default(0),lastDepositAt:o("last_deposit_at"),lastWithdrawAt:o("last_withdraw_at"),status:e("status").notNull().default("active"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Us=i("yield_harvests",{id:a("id").primaryKey().default(c`gen_random_uuid()`),vaultId:a("vault_id").notNull(),strategyId:a("strategy_id"),harvestType:e("harvest_type").notNull(),harvestedAmount:e("harvested_amount").notNull().default("0"),harvestedValueUsd:e("harvested_value_usd").notNull().default("0"),compoundedAmount:e("compounded_amount").notNull().default("0"),newSharePrice:e("new_share_price").notNull(),oldSharePrice:e("old_share_price").notNull(),performanceFeeAmount:e("performance_fee_amount").notNull().default("0"),callerReward:e("caller_reward").notNull().default("0"),txHash:e("tx_hash"),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),executorAddress:e("executor_address"),aiTriggered:_("ai_triggered").notNull().default(!1),aiOptimalityScore:t("ai_optimality_score"),executedAt:o("executed_at").notNull().defaultNow()}),Bs=i("yield_rewards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),vaultId:a("vault_id").notNull(),rewardToken:e("reward_token").notNull(),rewardSymbol:e("reward_symbol").notNull(),rewardDecimals:t("reward_decimals").notNull().default(18),rewardPerSecond:e("reward_per_second").notNull().default("0"),rewardPerBlock:e("reward_per_block").notNull().default("0"),totalAllocated:e("total_allocated").notNull().default("0"),totalDistributed:e("total_distributed").notNull().default("0"),startTime:o("start_time").notNull(),endTime:o("end_time"),isActive:_("is_active").notNull().default(!0),createdAt:o("created_at").notNull().defaultNow()}),Vs=i("yield_transactions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),vaultId:a("vault_id").notNull(),positionId:a("position_id"),userAddress:e("user_address").notNull(),txType:e("tx_type").notNull(),amount:e("amount").notNull().default("0"),shares:e("shares").notNull().default("0"),valueUsd:e("value_usd").notNull().default("0"),sharePriceAtTx:e("share_price_at_tx").notNull(),feeAmount:e("fee_amount").notNull().default("0"),feeType:e("fee_type"),txHash:e("tx_hash"),blockNumber:h("block_number",{mode:"number"}),status:e("status").notNull().default("pending"),createdAt:o("created_at").notNull().defaultNow()}),Ks=i("yield_protocol_stats",{id:a("id").primaryKey().default(c`gen_random_uuid()`),totalTvlUsd:e("total_tvl_usd").notNull().default("0"),tvlChange24h:e("tvl_change_24h").notNull().default("0"),tvlChange7d:e("tvl_change_7d").notNull().default("0"),totalVaults:t("total_vaults").notNull().default(0),activeVaults:t("active_vaults").notNull().default(0),totalUsers:t("total_users").notNull().default(0),activeUsers24h:t("active_users_24h").notNull().default(0),totalDeposits24h:e("total_deposits_24h").notNull().default("0"),totalWithdrawals24h:e("total_withdrawals_24h").notNull().default("0"),avgVaultApy:t("avg_vault_apy").notNull().default(0),topVaultApy:t("top_vault_apy").notNull().default(0),totalProfitGenerated:e("total_profit_generated").notNull().default("0"),totalFeesCollected:e("total_fees_collected").notNull().default("0"),feesCollected24h:e("fees_collected_24h").notNull().default("0"),totalHarvests24h:t("total_harvests_24h").notNull().default(0),avgHarvestAmount:e("avg_harvest_amount").notNull().default("0"),aiOptimizedVaults:t("ai_optimized_vaults").notNull().default(0),aiSuggestedRebalances:t("ai_suggested_rebalances").notNull().default(0),snapshotAt:o("snapshot_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()});s(qs).omit({id:!0,createdAt:!0,updatedAt:!0});s(Rs).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ds).omit({id:!0,createdAt:!0,updatedAt:!0});s(Us).omit({id:!0,executedAt:!0});s(Bs).omit({id:!0,createdAt:!0});s(Vs).omit({id:!0,createdAt:!0});s(Ks).omit({id:!0,createdAt:!0,snapshotAt:!0});const J=i("liquid_staking_pools",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:a("name",{length:100}).notNull(),symbol:a("symbol",{length:20}).notNull(),description:e("description"),contractAddress:a("contract_address",{length:66}).notNull().unique(),lstTokenAddress:a("lst_token_address",{length:66}).notNull(),lstTokenSymbol:a("lst_token_symbol",{length:20}).notNull(),lstTokenDecimals:t("lst_token_decimals").notNull().default(18),underlyingAsset:a("underlying_asset",{length:66}).notNull(),underlyingSymbol:a("underlying_symbol",{length:20}).notNull(),underlyingDecimals:t("underlying_decimals").notNull().default(18),exchangeRate:e("exchange_rate").notNull().default("1000000000000000000"),exchangeRatePrevious:e("exchange_rate_previous").notNull().default("1000000000000000000"),lastRebaseAt:o("last_rebase_at").defaultNow(),rebaseIntervalSeconds:t("rebase_interval_seconds").notNull().default(86400),totalStaked:e("total_staked").notNull().default("0"),totalStakedUsd:e("total_staked_usd").notNull().default("0"),totalLstMinted:e("total_lst_minted").notNull().default("0"),totalRewardsGenerated:e("total_rewards_generated").notNull().default("0"),validatorCount:t("validator_count").notNull().default(0),minValidatorsPerBasket:t("min_validators_per_basket").notNull().default(5),maxValidatorAllocation:t("max_validator_allocation").notNull().default(2e3),currentApy:t("current_apy").notNull().default(0),avgApy7d:t("avg_apy_7d").notNull().default(0),avgApy30d:t("avg_apy_30d").notNull().default(0),mintFee:t("mint_fee").notNull().default(10),redeemFee:t("redeem_fee").notNull().default(10),performanceFee:t("performance_fee").notNull().default(1e3),protocolFee:t("protocol_fee").notNull().default(100),minMintAmount:e("min_mint_amount").notNull().default("1000000000000000000"),maxMintAmount:e("max_mint_amount"),stakingCap:e("staking_cap"),status:a("status",{length:20}).notNull().default("active"),isPaused:_("is_paused").notNull().default(!1),aiOptimized:_("ai_optimized").notNull().default(!1),totalStakers:t("total_stakers").notNull().default(0),mints24h:e("mints_24h").notNull().default("0"),redeems24h:e("redeems_24h").notNull().default("0"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),zs=i("validator_baskets",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),name:a("name",{length:100}).notNull(),description:e("description"),validatorAddresses:e("validator_addresses").array().notNull(),validatorWeights:t("validator_weights").array().notNull(),totalValidators:t("total_validators").notNull().default(0),totalAllocated:e("total_allocated").notNull().default("0"),allocationPercentage:t("allocation_percentage").notNull().default(0),avgValidatorScore:t("avg_validator_score").notNull().default(0),avgUptime:t("avg_uptime").notNull().default(1e4),avgCommission:t("avg_commission").notNull().default(500),riskScore:t("risk_score").notNull().default(5e3),diversificationScore:t("diversification_score").notNull().default(0),isActive:_("is_active").notNull().default(!0),lastRebalanceAt:o("last_rebalance_at"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),ur=i("lst_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),userAddress:a("user_address",{length:66}).notNull(),lstBalance:e("lst_balance").notNull().default("0"),lstBalanceUsd:e("lst_balance_usd").notNull().default("0"),underlyingValue:e("underlying_value").notNull().default("0"),underlyingValueUsd:e("underlying_value_usd").notNull().default("0"),totalMinted:e("total_minted").notNull().default("0"),totalRedeemed:e("total_redeemed").notNull().default("0"),avgMintPrice:e("avg_mint_price").notNull().default("1000000000000000000"),accumulatedRewards:e("accumulated_rewards").notNull().default("0"),claimedRewards:e("claimed_rewards").notNull().default("0"),pendingRewards:e("pending_rewards").notNull().default("0"),mintCount:t("mint_count").notNull().default(0),redeemCount:t("redeem_count").notNull().default(0),lastMintAt:o("last_mint_at"),lastRedeemAt:o("last_redeem_at"),status:a("status",{length:20}).notNull().default("active"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Ms=i("lst_transactions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),positionId:a("position_id").references(()=>ur.id),userAddress:a("user_address",{length:66}).notNull(),txType:a("tx_type",{length:20}).notNull(),txHash:a("tx_hash",{length:66}),underlyingAmount:e("underlying_amount").notNull(),lstAmount:e("lst_amount").notNull(),exchangeRateAtTx:e("exchange_rate_at_tx").notNull(),valueUsd:e("value_usd").notNull().default("0"),feeAmount:e("fee_amount").notNull().default("0"),feeType:a("fee_type",{length:20}),status:a("status",{length:20}).notNull().default("pending"),failureReason:e("failure_reason"),createdAt:o("created_at").defaultNow().notNull(),completedAt:o("completed_at")}),Ls=i("rebase_history",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),previousRate:e("previous_rate").notNull(),newRate:e("new_rate").notNull(),rateChange:e("rate_change").notNull(),rateChangePercent:t("rate_change_percent").notNull(),rewardsDistributed:e("rewards_distributed").notNull().default("0"),rewardsFromValidators:e("rewards_from_validators").notNull().default("0"),rewardsFromMev:e("rewards_from_mev").notNull().default("0"),slashingPenalty:e("slashing_penalty").notNull().default("0"),slashedValidators:t("slashed_validators").notNull().default(0),totalStakedAtRebase:e("total_staked_at_rebase").notNull(),totalLstAtRebase:e("total_lst_at_rebase").notNull(),aiOptimized:_("ai_optimized").notNull().default(!1),aiOptimizationScore:t("ai_optimization_score"),executedAt:o("executed_at").defaultNow().notNull()}),Fs=i("lst_protocol_stats",{id:a("id").primaryKey().default(c`gen_random_uuid()`),totalStakedAcrossPools:e("total_staked_across_pools").notNull().default("0"),totalStakedUsd:e("total_staked_usd").notNull().default("0"),totalLstMinted:e("total_lst_minted").notNull().default("0"),totalPools:t("total_pools").notNull().default(0),activePools:t("active_pools").notNull().default(0),totalStakers:t("total_stakers").notNull().default(0),activeStakers24h:t("active_stakers_24h").notNull().default(0),totalMinted24h:e("total_minted_24h").notNull().default("0"),totalRedeemed24h:e("total_redeemed_24h").notNull().default("0"),totalRewardsDistributed:e("total_rewards_distributed").notNull().default("0"),rewardsDistributed24h:e("rewards_distributed_24h").notNull().default("0"),avgPoolApy:t("avg_pool_apy").notNull().default(0),topPoolApy:t("top_pool_apy").notNull().default(0),totalValidatorsUsed:t("total_validators_used").notNull().default(0),avgValidatorScore:t("avg_validator_score").notNull().default(0),snapshotAt:o("snapshot_at").defaultNow().notNull(),createdAt:o("created_at").defaultNow().notNull()});s(J).omit({id:!0,createdAt:!0,updatedAt:!0});s(zs).omit({id:!0,createdAt:!0,updatedAt:!0});s(ur).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ms).omit({id:!0,createdAt:!0});s(Ls).omit({id:!0,executedAt:!0});s(Fs).omit({id:!0,snapshotAt:!0,createdAt:!0});const j=i("nft_collections",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:a("name",{length:100}).notNull(),symbol:a("symbol",{length:20}).notNull(),description:e("description"),contractAddress:a("contract_address",{length:66}).notNull().unique(),tokenStandard:a("token_standard",{length:20}).notNull().default("TBC-721"),creatorAddress:a("creator_address",{length:66}).notNull(),creatorName:a("creator_name",{length:100}),verified:_("verified").notNull().default(!1),imageUrl:e("image_url"),bannerUrl:e("banner_url"),website:e("website"),twitter:e("twitter"),discord:e("discord"),royaltyFee:t("royalty_fee").notNull().default(250),royaltyRecipient:a("royalty_recipient",{length:66}),totalItems:t("total_items").notNull().default(0),listedItems:t("listed_items").notNull().default(0),owners:t("owners").notNull().default(0),floorPrice:e("floor_price").notNull().default("0"),floorPriceUsd:e("floor_price_usd").notNull().default("0"),volume24h:e("volume_24h").notNull().default("0"),volume24hUsd:e("volume_24h_usd").notNull().default("0"),volumeTotal:e("volume_total").notNull().default("0"),volumeTotalUsd:e("volume_total_usd").notNull().default("0"),avgPrice24h:e("avg_price_24h").notNull().default("0"),salesCount24h:t("sales_count_24h").notNull().default(0),salesCountTotal:t("sales_count_total").notNull().default(0),marketCap:e("market_cap").notNull().default("0"),marketCapUsd:e("market_cap_usd").notNull().default("0"),status:a("status",{length:20}).notNull().default("active"),featured:_("featured").notNull().default(!1),aiRarityScore:t("ai_rarity_score"),aiTrendScore:t("ai_trend_score"),category:a("category",{length:50}),tags:e("tags").array(),externalUrl:e("external_url"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),G=i("nft_items",{id:a("id").primaryKey().default(c`gen_random_uuid()`),collectionId:a("collection_id").notNull().references(()=>j.id),tokenId:e("token_id").notNull(),tokenUri:e("token_uri"),name:a("name",{length:200}),description:e("description"),imageUrl:e("image_url"),animationUrl:e("animation_url"),externalUrl:e("external_url"),attributes:p("attributes"),ownerAddress:a("owner_address",{length:66}).notNull(),creatorAddress:a("creator_address",{length:66}),totalSupply:t("total_supply").notNull().default(1),availableSupply:t("available_supply").notNull().default(1),rarityRank:t("rarity_rank"),rarityScore:t("rarity_score"),rarityTier:a("rarity_tier",{length:20}),lastSalePrice:e("last_sale_price"),lastSalePriceUsd:e("last_sale_price_usd"),lastSaleAt:o("last_sale_at"),estimatedValue:e("estimated_value"),estimatedValueUsd:e("estimated_value_usd"),status:a("status",{length:20}).notNull().default("active"),isListed:_("is_listed").notNull().default(!1),mintTxHash:a("mint_tx_hash",{length:66}),mintedAt:o("minted_at"),mintPrice:e("mint_price"),aiAnalyzed:_("ai_analyzed").notNull().default(!1),aiContentScore:t("ai_content_score"),aiAuthenticityScore:t("ai_authenticity_score"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),ye=i("marketplace_listings",{id:a("id").primaryKey().default(c`gen_random_uuid()`),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").notNull().references(()=>G.id),sellerAddress:a("seller_address",{length:66}).notNull(),listingType:a("listing_type",{length:20}).notNull().default("fixed"),price:e("price").notNull(),priceUsd:e("price_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),startingPrice:e("starting_price"),reservePrice:e("reserve_price"),buyNowPrice:e("buy_now_price"),currentBid:e("current_bid"),currentBidder:a("current_bidder",{length:66}),bidCount:t("bid_count").notNull().default(0),endingPrice:e("ending_price"),priceDropInterval:t("price_drop_interval"),quantity:t("quantity").notNull().default(1),remainingQuantity:t("remaining_quantity").notNull().default(1),startsAt:o("starts_at").notNull(),expiresAt:o("expires_at"),status:a("status",{length:20}).notNull().default("active"),txHash:a("tx_hash",{length:66}),aiRecommendedPrice:e("ai_recommended_price"),aiPriceConfidence:t("ai_price_confidence"),signature:e("signature"),nonce:t("nonce"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),dr=i("marketplace_bids",{id:a("id").primaryKey().default(c`gen_random_uuid()`),listingId:a("listing_id").notNull().references(()=>ye.id),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").notNull().references(()=>G.id),bidderAddress:a("bidder_address",{length:66}).notNull(),bidAmount:e("bid_amount").notNull(),bidAmountUsd:e("bid_amount_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),quantity:t("quantity").notNull().default(1),expiresAt:o("expires_at"),status:a("status",{length:20}).notNull().default("active"),txHash:a("tx_hash",{length:66}),escrowAmount:e("escrow_amount").notNull().default("0"),escrowReleased:_("escrow_released").notNull().default(!1),signature:e("signature"),nonce:t("nonce"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Es=i("marketplace_sales",{id:a("id").primaryKey().default(c`gen_random_uuid()`),listingId:a("listing_id").references(()=>ye.id),bidId:a("bid_id").references(()=>dr.id),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").notNull().references(()=>G.id),sellerAddress:a("seller_address",{length:66}).notNull(),buyerAddress:a("buyer_address",{length:66}).notNull(),saleType:a("sale_type",{length:20}).notNull(),salePrice:e("sale_price").notNull(),salePriceUsd:e("sale_price_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),quantity:t("quantity").notNull().default(1),platformFee:e("platform_fee").notNull().default("0"),platformFeePercent:t("platform_fee_percent").notNull().default(250),royaltyFee:e("royalty_fee").notNull().default("0"),royaltyFeePercent:t("royalty_fee_percent").notNull().default(0),royaltyRecipient:a("royalty_recipient",{length:66}),sellerProceeds:e("seller_proceeds").notNull(),txHash:a("tx_hash",{length:66}).notNull(),blockNumber:h("block_number",{mode:"number"}),soldAt:o("sold_at").defaultNow().notNull(),settledAt:o("settled_at"),createdAt:o("created_at").defaultNow().notNull()}),js=i("nft_offers",{id:a("id").primaryKey().default(c`gen_random_uuid()`),offerType:a("offer_type",{length:20}).notNull(),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").references(()=>G.id),offererAddress:a("offerer_address",{length:66}).notNull(),offerAmount:e("offer_amount").notNull(),offerAmountUsd:e("offer_amount_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),quantity:t("quantity").notNull().default(1),expiresAt:o("expires_at"),status:a("status",{length:20}).notNull().default("active"),escrowAmount:e("escrow_amount").notNull().default("0"),escrowTxHash:a("escrow_tx_hash",{length:66}),signature:e("signature"),nonce:t("nonce"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Hs=i("nft_activity_log",{id:a("id").primaryKey().default(c`gen_random_uuid()`),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").references(()=>G.id),eventType:a("event_type",{length:30}).notNull(),fromAddress:a("from_address",{length:66}),toAddress:a("to_address",{length:66}),price:e("price"),priceUsd:e("price_usd"),currency:a("currency",{length:20}),quantity:t("quantity").notNull().default(1),txHash:a("tx_hash",{length:66}),blockNumber:h("block_number",{mode:"number"}),listingId:a("listing_id"),bidId:a("bid_id"),saleId:a("sale_id"),offerId:a("offer_id"),createdAt:o("created_at").defaultNow().notNull()}),Qs=i("nft_marketplace_stats",{id:a("id").primaryKey().default(c`gen_random_uuid()`),volume24h:e("volume_24h").notNull().default("0"),volume24hUsd:e("volume_24h_usd").notNull().default("0"),volume7d:e("volume_7d").notNull().default("0"),volume7dUsd:e("volume_7d_usd").notNull().default("0"),volumeTotal:e("volume_total").notNull().default("0"),volumeTotalUsd:e("volume_total_usd").notNull().default("0"),salesCount24h:t("sales_count_24h").notNull().default(0),salesCount7d:t("sales_count_7d").notNull().default(0),salesCountTotal:t("sales_count_total").notNull().default(0),totalCollections:t("total_collections").notNull().default(0),activeCollections:t("active_collections").notNull().default(0),verifiedCollections:t("verified_collections").notNull().default(0),totalItems:t("total_items").notNull().default(0),listedItems:t("listed_items").notNull().default(0),activeListings:t("active_listings").notNull().default(0),auctionListings:t("auction_listings").notNull().default(0),totalUsers:t("total_users").notNull().default(0),activeTraders24h:t("active_traders_24h").notNull().default(0),totalPlatformFees:e("total_platform_fees").notNull().default("0"),platformFees24h:e("platform_fees_24h").notNull().default("0"),totalRoyalties:e("total_royalties").notNull().default("0"),royalties24h:e("royalties_24h").notNull().default("0"),avgFloorPrice:e("avg_floor_price").notNull().default("0"),avgFloorPriceUsd:e("avg_floor_price_usd").notNull().default("0"),snapshotAt:o("snapshot_at").defaultNow().notNull(),createdAt:o("created_at").defaultNow().notNull()});s(j).omit({id:!0,createdAt:!0,updatedAt:!0});s(G).omit({id:!0,createdAt:!0,updatedAt:!0});s(ye).omit({id:!0,createdAt:!0,updatedAt:!0});s(dr).omit({id:!0,createdAt:!0,updatedAt:!0});s(Es).omit({id:!0,createdAt:!0});s(js).omit({id:!0,createdAt:!0,updatedAt:!0});s(Hs).omit({id:!0,createdAt:!0});s(Qs).omit({id:!0,snapshotAt:!0,createdAt:!0});const Z=i("launchpad_projects",{id:a("id",{length:66}).primaryKey(),name:a("name",{length:255}).notNull(),symbol:a("symbol",{length:20}).notNull(),description:e("description"),imageUrl:e("image_url"),bannerUrl:e("banner_url"),websiteUrl:e("website_url"),twitterUrl:e("twitter_url"),discordUrl:e("discord_url"),creatorAddress:a("creator_address",{length:66}).notNull(),totalSupply:N("total_supply",{precision:40,scale:0}).notNull().default("10000"),mintPrice:N("mint_price",{precision:40,scale:0}).notNull().default("0"),maxPerWallet:t("max_per_wallet").notNull().default(10),royaltyBps:t("royalty_bps").notNull().default(500),status:a("status",{length:20}).notNull().default("draft"),featured:_("featured").notNull().default(!1),verified:_("verified").notNull().default(!1),aiScore:q("ai_score"),aiAnalysis:p("ai_analysis"),contractAddress:a("contract_address",{length:66}),category:a("category",{length:50}),tags:e("tags").array(),totalRaised:N("total_raised",{precision:40,scale:0}).notNull().default("0"),totalMinted:t("total_minted").notNull().default(0),uniqueMinters:t("unique_minters").notNull().default(0),launchDate:o("launch_date"),endDate:o("end_date"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),he=i("launch_rounds",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>Z.id),roundNumber:t("round_number").notNull().default(1),name:a("name",{length:100}).notNull(),roundType:a("round_type",{length:30}).notNull().default("public"),startTime:o("start_time").notNull(),endTime:o("end_time").notNull(),price:N("price",{precision:40,scale:0}).notNull(),allocation:t("allocation").notNull(),maxPerWallet:t("max_per_wallet").notNull().default(5),minPerWallet:t("min_per_wallet").notNull().default(1),totalMinted:t("total_minted").notNull().default(0),uniqueParticipants:t("unique_participants").notNull().default(0),totalRaised:N("total_raised",{precision:40,scale:0}).notNull().default("0"),whitelistRequired:_("whitelist_required").notNull().default(!1),status:a("status",{length:20}).notNull().default("pending"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Os=i("whitelist_entries",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>Z.id),roundId:a("round_id",{length:66}).references(()=>he.id),walletAddress:a("wallet_address",{length:66}).notNull(),allocation:t("allocation").notNull().default(1),used:t("used").notNull().default(0),tier:a("tier",{length:30}),proofData:p("proof_data"),addedBy:a("added_by",{length:66}),addedAt:o("added_at").defaultNow().notNull(),expiresAt:o("expires_at")}),$s=i("launch_allocations",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>Z.id),roundId:a("round_id",{length:66}).notNull().references(()=>he.id),walletAddress:a("wallet_address",{length:66}).notNull(),quantity:t("quantity").notNull(),pricePerUnit:N("price_per_unit",{precision:40,scale:0}).notNull(),totalPaid:N("total_paid",{precision:40,scale:0}).notNull(),txHash:a("tx_hash",{length:130}),tokenIds:e("token_ids").array(),status:a("status",{length:20}).notNull().default("pending"),mintedAt:o("minted_at"),createdAt:o("created_at").defaultNow().notNull()}),Gs=i("vesting_schedules",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>Z.id),walletAddress:a("wallet_address",{length:66}).notNull(),totalAmount:N("total_amount",{precision:40,scale:0}).notNull(),releasedAmount:N("released_amount",{precision:40,scale:0}).notNull().default("0"),vestingType:a("vesting_type",{length:30}).notNull().default("linear"),startTime:o("start_time").notNull(),cliffDuration:t("cliff_duration").notNull().default(0),vestingDuration:t("vesting_duration").notNull(),releaseInterval:t("release_interval").notNull().default(86400),lastClaimTime:o("last_claim_time"),nextClaimTime:o("next_claim_time"),status:a("status",{length:20}).notNull().default("active"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Zs=i("launchpad_stats",{id:a("id",{length:66}).primaryKey(),totalProjects:t("total_projects").notNull().default(0),activeProjects:t("active_projects").notNull().default(0),completedProjects:t("completed_projects").notNull().default(0),totalRaised:N("total_raised",{precision:40,scale:0}).notNull().default("0"),totalRaisedUsd:N("total_raised_usd",{precision:40,scale:2}).notNull().default("0"),totalMinted:t("total_minted").notNull().default(0),uniqueParticipants:t("unique_participants").notNull().default(0),avgFundingRate:q("avg_funding_rate").default(0),featuredCount:t("featured_count").notNull().default(0),snapshotAt:o("snapshot_at").defaultNow().notNull(),createdAt:o("created_at").defaultNow().notNull()}),Ws=i("launchpad_activity",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>Z.id),roundId:a("round_id",{length:66}),walletAddress:a("wallet_address",{length:66}),eventType:a("event_type",{length:30}).notNull(),quantity:t("quantity"),amount:N("amount",{precision:40,scale:0}),txHash:a("tx_hash",{length:130}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull()});s(Z).omit({id:!0,createdAt:!0,updatedAt:!0});s(he).omit({id:!0,createdAt:!0,updatedAt:!0});s(Os).omit({id:!0,addedAt:!0});s($s).omit({id:!0,createdAt:!0});s(Gs).omit({id:!0,createdAt:!0,updatedAt:!0});s(Zs).omit({id:!0,snapshotAt:!0,createdAt:!0});s(Ws).omit({id:!0,createdAt:!0});const Xs=i("gamefi_projects",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),name:a("name",{length:100}).notNull(),slug:a("slug",{length:100}).notNull().unique(),description:e("description"),shortDescription:a("short_description",{length:256}),imageUrl:a("image_url",{length:512}),bannerUrl:a("banner_url",{length:512}),website:a("website",{length:256}),developer:a("developer",{length:100}),developerAddress:a("developer_address",{length:66}),category:a("category",{length:50}).notNull().default("arcade"),genre:a("genre",{length:50}),status:a("status",{length:20}).notNull().default("active"),featured:_("featured").default(!1),verified:_("verified").default(!1),contractAddress:a("contract_address",{length:66}),chainId:t("chain_id").default(1),tokenSymbol:a("token_symbol",{length:20}),nftContractAddress:a("nft_contract_address",{length:66}),totalPlayers:t("total_players").default(0),activePlayers24h:t("active_players_24h").default(0),totalVolume:N("total_volume",{precision:40,scale:0}).default("0"),dailyVolume:N("daily_volume",{precision:40,scale:0}).default("0"),totalRewardsDistributed:N("total_rewards_distributed",{precision:40,scale:0}).default("0"),aiScore:q("ai_score"),socialScore:t("social_score").default(0),rating:q("rating").default(0),ratingCount:t("rating_count").default(0),playToEarnEnabled:_("play_to_earn_enabled").default(!0),stakingEnabled:_("staking_enabled").default(!1),tournamentEnabled:_("tournament_enabled").default(!1),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Js=i("game_assets",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),tokenId:a("token_id",{length:100}).notNull(),name:a("name",{length:100}).notNull(),description:e("description"),imageUrl:a("image_url",{length:512}),assetType:a("asset_type",{length:50}).notNull().default("item"),rarity:a("rarity",{length:20}).notNull().default("common"),ownerAddress:a("owner_address",{length:66}),mintedAt:o("minted_at"),lastTransferAt:o("last_transfer_at"),price:N("price",{precision:40,scale:0}),isListed:_("is_listed").default(!1),isStaked:_("is_staked").default(!1),stakingRewards:N("staking_rewards",{precision:40,scale:0}).default("0"),attributes:p("attributes"),boosts:p("boosts"),usageCount:t("usage_count").default(0),winRate:q("win_rate"),earnedRewards:N("earned_rewards",{precision:40,scale:0}).default("0"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Ys=i("game_rewards",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),walletAddress:a("wallet_address",{length:66}).notNull(),rewardType:a("reward_type",{length:50}).notNull().default("gameplay"),amount:N("amount",{precision:40,scale:0}).notNull(),tokenSymbol:a("token_symbol",{length:20}).default("TBURN"),reason:a("reason",{length:256}),txHash:a("tx_hash",{length:130}),status:a("status",{length:20}).notNull().default("pending"),metadata:p("metadata"),expiresAt:o("expires_at"),claimedAt:o("claimed_at"),createdAt:o("created_at").defaultNow().notNull()}),ec=i("game_leaderboards",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),leaderboardType:a("leaderboard_type",{length:50}).notNull().default("global"),periodStart:o("period_start"),periodEnd:o("period_end"),walletAddress:a("wallet_address",{length:66}).notNull(),playerName:a("player_name",{length:50}),rank:t("rank").notNull(),score:N("score",{precision:40,scale:0}).notNull(),wins:t("wins").default(0),losses:t("losses").default(0),gamesPlayed:t("games_played").default(0),winStreak:t("win_streak").default(0),bestWinStreak:t("best_win_streak").default(0),totalEarned:N("total_earned",{precision:40,scale:0}).default("0"),rewardClaimed:_("reward_claimed").default(!1),rewardAmount:N("reward_amount",{precision:40,scale:0}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),tc=i("game_tournaments",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),name:a("name",{length:100}).notNull(),description:e("description"),imageUrl:a("image_url",{length:512}),tournamentType:a("tournament_type",{length:50}).notNull().default("single_elimination"),status:a("status",{length:20}).notNull().default("upcoming"),entryFee:N("entry_fee",{precision:40,scale:0}).default("0"),prizePool:N("prize_pool",{precision:40,scale:0}).notNull(),prizeDistribution:p("prize_distribution"),maxParticipants:t("max_participants").default(64),currentParticipants:t("current_participants").default(0),minParticipants:t("min_participants").default(2),requiresNft:_("requires_nft").default(!1),requiredNftContract:a("required_nft_contract",{length:66}),registrationStart:o("registration_start"),registrationEnd:o("registration_end"),startTime:o("start_time"),endTime:o("end_time"),rules:e("rules"),metadata:p("metadata"),winnerId:a("winner_id",{length:66}),runnerUpId:a("runner_up_id",{length:66}),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),ac=i("tournament_participants",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),tournamentId:a("tournament_id",{length:64}).notNull(),walletAddress:a("wallet_address",{length:66}).notNull(),playerName:a("player_name",{length:50}),teamName:a("team_name",{length:100}),status:a("status",{length:20}).notNull().default("registered"),seed:t("seed"),bracket:a("bracket",{length:50}),round:t("round").default(0),wins:t("wins").default(0),losses:t("losses").default(0),score:N("score",{precision:40,scale:0}).default("0"),placement:t("placement"),prizeWon:N("prize_won",{precision:40,scale:0}),prizeClaimed:_("prize_claimed").default(!1),entryPaid:_("entry_paid").default(!1),entryTxHash:a("entry_tx_hash",{length:130}),registeredAt:o("registered_at").defaultNow().notNull(),checkInAt:o("check_in_at"),eliminatedAt:o("eliminated_at")}),lc=i("achievement_badges",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}),name:a("name",{length:100}).notNull(),description:e("description"),imageUrl:a("image_url",{length:512}),category:a("category",{length:50}).notNull().default("gameplay"),rarity:a("rarity",{length:20}).notNull().default("common"),points:t("points").default(10),requirement:p("requirement"),isGlobal:_("is_global").default(!1),isHidden:_("is_hidden").default(!1),totalUnlocks:t("total_unlocks").default(0),rewardAmount:N("reward_amount",{precision:40,scale:0}),rewardTokenSymbol:a("reward_token_symbol",{length:20}),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),oc=i("player_achievements",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),badgeId:a("badge_id",{length:64}).notNull(),walletAddress:a("wallet_address",{length:66}).notNull(),projectId:a("project_id",{length:64}),progress:t("progress").default(0),isCompleted:_("is_completed").default(!1),rewardClaimed:_("reward_claimed").default(!1),claimTxHash:a("claim_tx_hash",{length:130}),unlockedAt:o("unlocked_at"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),nc=i("gamefi_activity",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}),walletAddress:a("wallet_address",{length:66}),eventType:a("event_type",{length:50}).notNull(),amount:N("amount",{precision:40,scale:0}),assetId:a("asset_id",{length:64}),tournamentId:a("tournament_id",{length:64}),badgeId:a("badge_id",{length:64}),txHash:a("tx_hash",{length:130}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull()}),rc=i("gamefi_stats",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),snapshotAt:o("snapshot_at").defaultNow().notNull(),totalProjects:t("total_projects").default(0),activeProjects:t("active_projects").default(0),totalPlayers:t("total_players").default(0),activePlayers24h:t("active_players_24h").default(0),totalVolume:N("total_volume",{precision:40,scale:0}).default("0"),dailyVolume:N("daily_volume",{precision:40,scale:0}).default("0"),totalRewardsDistributed:N("total_rewards_distributed",{precision:40,scale:0}).default("0"),dailyRewards:N("daily_rewards",{precision:40,scale:0}).default("0"),activeTournaments:t("active_tournaments").default(0),totalTournamentPrize:N("total_tournament_prize",{precision:40,scale:0}).default("0"),totalAssets:t("total_assets").default(0),totalAchievements:t("total_achievements").default(0),createdAt:o("created_at").defaultNow().notNull()});s(Xs).omit({id:!0,createdAt:!0,updatedAt:!0});s(Js).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ys).omit({id:!0,createdAt:!0});s(ec).omit({id:!0,createdAt:!0,updatedAt:!0});s(tc).omit({id:!0,createdAt:!0,updatedAt:!0});s(ac).omit({id:!0,registeredAt:!0});s(lc).omit({id:!0,createdAt:!0,updatedAt:!0});s(oc).omit({id:!0,createdAt:!0,updatedAt:!0});s(nc).omit({id:!0,createdAt:!0});s(rc).omit({id:!0,snapshotAt:!0,createdAt:!0});const uc=i("bridge_chains",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),chainId:t("chain_id").notNull().unique(),name:a("name",{length:100}).notNull(),symbol:a("symbol",{length:20}).notNull(),networkType:a("network_type",{length:30}).notNull().default("mainnet"),rpcUrl:a("rpc_url",{length:512}),explorerUrl:a("explorer_url",{length:512}),iconUrl:a("icon_url",{length:512}),nativeCurrency:a("native_currency",{length:20}).notNull(),nativeDecimals:t("native_decimals").default(18),status:a("status",{length:20}).notNull().default("active"),avgBlockTime:t("avg_block_time").default(12e3),confirmationsRequired:t("confirmations_required").default(12),maxGasPrice:N("max_gas_price",{precision:40,scale:0}),bridgeContractAddress:a("bridge_contract_address",{length:66}),tokenFactoryAddress:a("token_factory_address",{length:66}),totalLiquidity:N("total_liquidity",{precision:40,scale:0}).default("0"),volume24h:N("volume_24h",{precision:40,scale:0}).default("0"),volumeTotal:N("volume_total",{precision:40,scale:0}).default("0"),txCount24h:t("tx_count_24h").default(0),txCountTotal:t("tx_count_total").default(0),avgTransferTime:t("avg_transfer_time").default(6e4),successRate:t("success_rate").default(9900),aiRiskScore:t("ai_risk_score").default(100),isEvm:_("is_evm").default(!0),supportsEip1559:_("supports_eip1559").default(!0),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),dc=i("bridge_routes",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),sourceChainId:t("source_chain_id").notNull(),destinationChainId:t("destination_chain_id").notNull(),tokenAddress:a("token_address",{length:66}).notNull(),tokenSymbol:a("token_symbol",{length:20}).notNull(),tokenDecimals:t("token_decimals").default(18),wrappedTokenAddress:a("wrapped_token_address",{length:66}),routeType:a("route_type",{length:30}).notNull().default("lock_mint"),status:a("status",{length:20}).notNull().default("active"),minAmount:N("min_amount",{precision:40,scale:0}).notNull().default("1000000000000000000"),maxAmount:N("max_amount",{precision:40,scale:0}).notNull().default("1000000000000000000000000"),dailyLimit:N("daily_limit",{precision:40,scale:0}).default("10000000000000000000000000"),dailyUsed:N("daily_used",{precision:40,scale:0}).default("0"),baseFee:N("base_fee",{precision:40,scale:0}).default("0"),feePercent:t("fee_percent").default(30),estimatedTime:t("estimated_time").default(18e4),avgTime:t("avg_time").default(12e4),successRate:t("success_rate").default(9950),volume24h:N("volume_24h",{precision:40,scale:0}).default("0"),volumeTotal:N("volume_total",{precision:40,scale:0}).default("0"),txCount24h:t("tx_count_24h").default(0),txCountTotal:t("tx_count_total").default(0),liquidityAvailable:N("liquidity_available",{precision:40,scale:0}).default("0"),aiOptimized:_("ai_optimized").default(!0),aiPriority:t("ai_priority").default(50),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),ic=i("bridge_transfers",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),routeId:a("route_id",{length:64}),sourceChainId:t("source_chain_id").notNull(),destinationChainId:t("destination_chain_id").notNull(),senderAddress:a("sender_address",{length:66}).notNull(),recipientAddress:a("recipient_address",{length:66}).notNull(),tokenAddress:a("token_address",{length:66}).notNull(),tokenSymbol:a("token_symbol",{length:20}).notNull(),amount:N("amount",{precision:40,scale:0}).notNull(),amountReceived:N("amount_received",{precision:40,scale:0}),feeAmount:N("fee_amount",{precision:40,scale:0}).default("0"),feeToken:a("fee_token",{length:20}),status:a("status",{length:30}).notNull().default("pending"),sourceTxHash:a("source_tx_hash",{length:130}),destinationTxHash:a("destination_tx_hash",{length:130}),sourceBlockNumber:h("source_block_number",{mode:"number"}),destinationBlockNumber:h("destination_block_number",{mode:"number"}),confirmations:t("confirmations").default(0),requiredConfirmations:t("required_confirmations").default(12),estimatedArrival:o("estimated_arrival"),actualArrival:o("actual_arrival"),errorMessage:e("error_message"),retryCount:t("retry_count").default(0),aiVerified:_("ai_verified").default(!1),aiRiskScore:t("ai_risk_score"),aiRiskFactors:p("ai_risk_factors"),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),sc=i("bridge_liquidity_pools",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),chainId:t("chain_id").notNull(),tokenAddress:a("token_address",{length:66}).notNull(),tokenSymbol:a("token_symbol",{length:20}).notNull(),tokenDecimals:t("token_decimals").default(18),poolAddress:a("pool_address",{length:66}),totalLiquidity:N("total_liquidity",{precision:40,scale:0}).notNull().default("0"),availableLiquidity:N("available_liquidity",{precision:40,scale:0}).notNull().default("0"),lockedLiquidity:N("locked_liquidity",{precision:40,scale:0}).default("0"),utilizationRate:t("utilization_rate").default(0),minLiquidity:N("min_liquidity",{precision:40,scale:0}).default("0"),targetLiquidity:N("target_liquidity",{precision:40,scale:0}).default("0"),lpTokenAddress:a("lp_token_address",{length:66}),lpTokenSupply:N("lp_token_supply",{precision:40,scale:0}).default("0"),lpApy:t("lp_apy").default(0),totalFeesEarned:N("total_fees_earned",{precision:40,scale:0}).default("0"),fees24h:N("fees_24h",{precision:40,scale:0}).default("0"),volume24h:N("volume_24h",{precision:40,scale:0}).default("0"),txCount24h:t("tx_count_24h").default(0),providerCount:t("provider_count").default(0),status:a("status",{length:20}).notNull().default("active"),rebalanceThreshold:t("rebalance_threshold").default(8e3),lastRebalanceAt:o("last_rebalance_at"),aiManagedRebalance:_("ai_managed_rebalance").default(!0),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),cc=i("bridge_liquidity_providers",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id",{length:64}).notNull(),providerAddress:a("provider_address",{length:66}).notNull(),depositedAmount:N("deposited_amount",{precision:40,scale:0}).notNull().default("0"),lpTokenBalance:N("lp_token_balance",{precision:40,scale:0}).notNull().default("0"),sharePercent:t("share_percent").default(0),pendingRewards:N("pending_rewards",{precision:40,scale:0}).default("0"),claimedRewards:N("claimed_rewards",{precision:40,scale:0}).default("0"),totalEarned:N("total_earned",{precision:40,scale:0}).default("0"),depositTxHash:a("deposit_tx_hash",{length:130}),lastClaimAt:o("last_claim_at"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),_c=i("bridge_validators",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),address:a("address",{length:66}).notNull().unique(),name:a("name",{length:100}),operatorAddress:a("operator_address",{length:66}),status:a("status",{length:20}).notNull().default("active"),stake:N("stake",{precision:40,scale:0}).notNull().default("0"),minStake:N("min_stake",{precision:40,scale:0}).default("100000000000000000000000"),commission:t("commission").default(500),uptime:t("uptime").default(1e4),attestationsProcessed:t("attestations_processed").default(0),attestationsValid:t("attestations_valid").default(0),attestationsFailed:t("attestations_failed").default(0),slashCount:t("slash_count").default(0),slashedAmount:N("slashed_amount",{precision:40,scale:0}).default("0"),rewardsEarned:N("rewards_earned",{precision:40,scale:0}).default("0"),rewardsClaimed:N("rewards_claimed",{precision:40,scale:0}).default("0"),supportedChains:p("supported_chains"),avgResponseTime:t("avg_response_time").default(0),lastActiveAt:o("last_active_at"),aiTrustScore:t("ai_trust_score").default(8e3),reputationScore:t("reputation_score").default(8500),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),fc=i("bridge_fee_configs",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),routeId:a("route_id",{length:64}),sourceChainId:t("source_chain_id"),destinationChainId:t("destination_chain_id"),tokenSymbol:a("token_symbol",{length:20}),feeType:a("fee_type",{length:30}).notNull().default("dynamic"),baseFee:N("base_fee",{precision:40,scale:0}).default("0"),percentFee:t("percent_fee").default(30),minFee:N("min_fee",{precision:40,scale:0}).default("0"),maxFee:N("max_fee",{precision:40,scale:0}),gasMultiplier:t("gas_multiplier").default(150),tierThresholds:p("tier_thresholds"),tierDiscounts:p("tier_discounts"),aiAdjustment:t("ai_adjustment").default(0),isActive:_("is_active").default(!0),validFrom:o("valid_from"),validTo:o("valid_to"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),mc=i("bridge_security_events",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),eventType:a("event_type",{length:50}).notNull(),severity:a("severity",{length:20}).notNull().default("medium"),sourceChainId:t("source_chain_id"),destinationChainId:t("destination_chain_id"),transferId:a("transfer_id",{length:64}),validatorId:a("validator_id",{length:64}),walletAddress:a("wallet_address",{length:66}),txHash:a("tx_hash",{length:130}),amount:N("amount",{precision:40,scale:0}),description:e("description"),aiDetected:_("ai_detected").default(!1),aiConfidence:t("ai_confidence"),aiRecommendation:e("ai_recommendation"),status:a("status",{length:20}).notNull().default("active"),resolvedAt:o("resolved_at"),resolvedBy:a("resolved_by",{length:66}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull()}),pc=i("bridge_analytics",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),snapshotAt:o("snapshot_at").defaultNow().notNull(),totalChains:t("total_chains").default(0),activeChains:t("active_chains").default(0),totalRoutes:t("total_routes").default(0),activeRoutes:t("active_routes").default(0),totalValidators:t("total_validators").default(0),activeValidators:t("active_validators").default(0),totalLiquidity:N("total_liquidity",{precision:40,scale:0}).default("0"),totalVolume:N("total_volume",{precision:40,scale:0}).default("0"),volume24h:N("volume_24h",{precision:40,scale:0}).default("0"),volume7d:N("volume_7d",{precision:40,scale:0}).default("0"),transferCount24h:t("transfer_count_24h").default(0),transferCountTotal:t("transfer_count_total").default(0),uniqueUsers24h:t("unique_users_24h").default(0),uniqueUsersTotal:t("unique_users_total").default(0),avgTransferTime:t("avg_transfer_time").default(0),successRate:t("success_rate").default(9900),totalFees:N("total_fees",{precision:40,scale:0}).default("0"),fees24h:N("fees_24h",{precision:40,scale:0}).default("0"),securityEventsCount:t("security_events_count").default(0),aiInterventions:t("ai_interventions").default(0),topSourceChain:t("top_source_chain"),topDestinationChain:t("top_destination_chain"),topToken:a("top_token",{length:20}),createdAt:o("created_at").defaultNow().notNull()}),Nc=i("bridge_activity",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),eventType:a("event_type",{length:50}).notNull(),chainId:t("chain_id"),transferId:a("transfer_id",{length:64}),validatorId:a("validator_id",{length:64}),poolId:a("pool_id",{length:64}),walletAddress:a("wallet_address",{length:66}),amount:N("amount",{precision:40,scale:0}),tokenSymbol:a("token_symbol",{length:20}),txHash:a("tx_hash",{length:130}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull()});s(uc).omit({id:!0,createdAt:!0,updatedAt:!0});s(dc).omit({id:!0,createdAt:!0,updatedAt:!0});s(ic).omit({id:!0,createdAt:!0,updatedAt:!0});s(sc).omit({id:!0,createdAt:!0,updatedAt:!0});s(cc).omit({id:!0,createdAt:!0,updatedAt:!0});s(_c).omit({id:!0,createdAt:!0,updatedAt:!0});s(fc).omit({id:!0,createdAt:!0,updatedAt:!0});s(mc).omit({id:!0,createdAt:!0});s(pc).omit({id:!0,snapshotAt:!0,createdAt:!0});s(Nc).omit({id:!0,createdAt:!0});const gc=i("community_posts",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),authorId:t("author_id").notNull(),authorAddress:a("author_address",{length:66}).notNull(),authorUsername:a("author_username",{length:100}),title:a("title",{length:256}).notNull(),titleKo:a("title_ko",{length:500}),content:e("content").notNull(),contentKo:e("content_ko"),category:a("category",{length:50}).notNull().default("general"),tags:e("tags").array().default([]),status:a("status",{length:20}).notNull().default("active"),isPinned:_("is_pinned").default(!1),isHot:_("is_hot").default(!1),isLocked:_("is_locked").default(!1),likes:t("likes").default(0),views:t("views").default(0),commentCount:t("comment_count").default(0),lastActivityAt:o("last_activity_at").defaultNow(),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),yc=i("community_comments",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),postId:a("post_id",{length:64}).notNull(),authorId:t("author_id").notNull(),authorAddress:a("author_address",{length:66}).notNull(),authorUsername:a("author_username",{length:100}),content:e("content").notNull(),parentCommentId:a("parent_comment_id",{length:64}),likes:t("likes").default(0),isEdited:_("is_edited").default(!1),status:a("status",{length:20}).notNull().default("active"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),hc=i("community_events",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),title:a("title",{length:256}).notNull(),titleKo:a("title_ko",{length:256}),description:e("description").notNull(),descriptionKo:e("description_ko"),eventType:a("event_type",{length:30}).notNull().default("meetup"),startDate:o("start_date").notNull(),endDate:o("end_date").notNull(),location:a("location",{length:256}),isOnline:_("is_online").default(!0),meetingUrl:a("meeting_url",{length:512}),participants:t("participants").default(0),maxParticipants:t("max_participants"),rewards:a("rewards",{length:100}),status:a("status",{length:20}).notNull().default("upcoming"),organizerId:t("organizer_id"),coverImage:a("cover_image",{length:512}),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Ac=i("community_announcements",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),title:a("title",{length:256}).notNull(),titleKo:a("title_ko",{length:256}),content:e("content").notNull(),contentKo:e("content_ko"),announcementType:a("announcement_type",{length:30}).notNull().default("news"),isImportant:_("is_important").default(!1),isPinned:_("is_pinned").default(!1),expiresAt:o("expires_at"),authorId:t("author_id"),views:t("views").default(0),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),bc=i("community_badges",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),name:a("name",{length:100}).notNull(),description:e("description").notNull(),icon:a("icon",{length:50}).notNull(),rarity:a("rarity",{length:20}).notNull().default("common"),category:a("category",{length:50}).notNull().default("general"),requirement:e("requirement"),requirementValue:t("requirement_value"),isAutoAwarded:_("is_auto_awarded").default(!1),pointsValue:t("points_value").default(10),totalAwarded:t("total_awarded").default(0),createdAt:o("created_at").defaultNow().notNull()}),vc=i("community_user_badges",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),userId:t("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),badgeId:a("badge_id",{length:64}).notNull(),progress:t("progress").default(0),isCompleted:_("is_completed").default(!1),earnedAt:o("earned_at"),createdAt:o("created_at").defaultNow().notNull()}),wc=i("community_activity",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),userId:t("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),username:a("username",{length:100}),activityType:a("activity_type",{length:30}).notNull(),action:a("action",{length:100}).notNull(),targetId:a("target_id",{length:64}),targetTitle:a("target_title",{length:256}),amount:a("amount",{length:100}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull()}),kc=i("community_reputation",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),userId:t("user_id").notNull().unique(),userAddress:a("user_address",{length:66}).notNull(),reputation:t("reputation").default(0),level:t("level").default(1),contributions:t("contributions").default(0),postsCount:t("posts_count").default(0),commentsCount:t("comments_count").default(0),likesReceived:t("likes_received").default(0),likesGiven:t("likes_given").default(0),proposalsCreated:t("proposals_created").default(0),proposalsVoted:t("proposals_voted").default(0),eventsAttended:t("events_attended").default(0),badgesEarned:t("badges_earned").default(0),lastActivityAt:o("last_activity_at").defaultNow(),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()});s(gc).omit({id:!0,likes:!0,views:!0,commentCount:!0,lastActivityAt:!0,createdAt:!0,updatedAt:!0});s(yc).omit({id:!0,likes:!0,isEdited:!0,createdAt:!0,updatedAt:!0});s(hc).omit({id:!0,participants:!0,createdAt:!0,updatedAt:!0});s(Ac).omit({id:!0,views:!0,createdAt:!0,updatedAt:!0});s(bc).omit({id:!0,totalAwarded:!0,createdAt:!0});s(vc).omit({id:!0,createdAt:!0});s(wc).omit({id:!0,createdAt:!0});s(kc).omit({id:!0,createdAt:!0,updatedAt:!0});const Sc=i("community_post_reactions",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),postId:a("post_id",{length:64}).notNull(),userId:t("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),reactionType:a("reaction_type",{length:10}).notNull(),createdAt:o("created_at").defaultNow().notNull()}),Tc=i("community_comment_reactions",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),commentId:a("comment_id",{length:64}).notNull(),userId:t("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),reactionType:a("reaction_type",{length:10}).notNull(),createdAt:o("created_at").defaultNow().notNull()}),xc=i("community_event_registrations",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),eventId:a("event_id",{length:64}).notNull(),userId:t("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),username:a("username",{length:100}),status:a("status",{length:20}).notNull().default("registered"),registeredAt:o("registered_at").defaultNow().notNull(),attendedAt:o("attended_at"),cancelledAt:o("cancelled_at")});s(Sc).omit({id:!0,createdAt:!0});s(Tc).omit({id:!0,createdAt:!0});s(xc).omit({id:!0,registeredAt:!0,attendedAt:!0,cancelledAt:!0});const Pc=i("shard_configurations",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),currentShardCount:t("current_shard_count").notNull().default(5),minShards:t("min_shards").notNull().default(5),maxShards:t("max_shards").notNull().default(64),validatorsPerShard:t("validators_per_shard").notNull().default(25),tpsPerShard:t("tps_per_shard").notNull().default(1e4),crossShardLatencyMs:t("cross_shard_latency_ms").notNull().default(50),rebalanceThreshold:q("rebalance_threshold").notNull().default(.3),scalingMode:a("scaling_mode",{length:20}).notNull().default("automatic"),cooldownMinutes:t("cooldown_minutes").notNull().default(5),version:t("version").notNull().default(1),isActive:_("is_active").notNull().default(!0),healthStatus:a("health_status",{length:20}).notNull().default("healthy"),lastHealthCheck:o("last_health_check").defaultNow(),changedBy:a("changed_by",{length:100}),changeReason:e("change_reason"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Ic=i("shard_config_history",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),configId:a("config_id",{length:64}).notNull(),version:t("version").notNull(),configSnapshot:p("config_snapshot").notNull(),changedBy:a("changed_by",{length:100}).notNull(),changeReason:e("change_reason"),changeType:a("change_type",{length:30}).notNull().default("update"),previousShardCount:t("previous_shard_count"),newShardCount:t("new_shard_count"),affectedShards:p("affected_shards").default([]),estimatedDowntime:t("estimated_downtime_seconds").default(0),rollbackable:_("rollbackable").notNull().default(!0),rolledBackAt:o("rolled_back_at"),rolledBackBy:a("rolled_back_by",{length:100}),createdAt:o("created_at").defaultNow().notNull()}),Cc=i("shard_scaling_events",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),eventType:a("event_type",{length:30}).notNull(),status:a("status",{length:20}).notNull().default("pending"),fromShards:t("from_shards").notNull(),toShards:t("to_shards").notNull(),triggerReason:e("trigger_reason"),triggeredBy:a("triggered_by",{length:100}).notNull(),affectedValidators:t("affected_validators").default(0),estimatedDuration:t("estimated_duration_seconds").default(0),actualDuration:t("actual_duration_seconds"),success:_("success"),errorMessage:e("error_message"),startedAt:o("started_at").defaultNow().notNull(),completedAt:o("completed_at")}),qc=i("shard_config_audit_logs",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),action:a("action",{length:50}).notNull(),actor:a("actor",{length:100}).notNull(),severity:a("severity",{length:20}).notNull().default("info"),oldValue:p("old_value"),newValue:p("new_value"),details:p("details").default({}),status:a("status",{length:20}).notNull().default("success"),errorMessage:e("error_message"),ipAddress:a("ip_address",{length:45}),userAgent:e("user_agent"),createdAt:o("created_at").defaultNow().notNull()});s(Pc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ic).omit({id:!0,createdAt:!0});s(Cc).omit({id:!0,startedAt:!0,completedAt:!0});s(qc).omit({id:!0,createdAt:!0});const Rc=i("wallet_performance_history",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:e("wallet_address").notNull(),timeframe:e("timeframe").notNull().default("1D"),balanceEmber:e("balance_ember").notNull().default("0"),balanceUsd:e("balance_usd").notNull().default("0"),pnl24h:e("pnl_24h").notNull().default("0"),pnl7d:e("pnl_7d").notNull().default("0"),pnlPercentage24h:t("pnl_percentage_24h").notNull().default(0),pnlPercentage7d:t("pnl_percentage_7d").notNull().default(0),epoch:h("epoch",{mode:"number"}).notNull().default(0),source:e("source").notNull().default("node"),snapshotAt:o("snapshot_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()}),Dc=i("wallet_action_log",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:e("wallet_address").notNull(),actionType:e("action_type").notNull(),status:e("status").notNull().default("pending"),amount:e("amount").notNull().default("0"),amountUsd:e("amount_usd").notNull().default("0"),toAddress:e("to_address"),fromAddress:e("from_address"),txHash:e("tx_hash"),blockNumber:h("block_number",{mode:"number"}),gasUsed:h("gas_used",{mode:"number"}),gasPrice:e("gas_price"),fee:e("fee").default("0"),tokenPair:e("token_pair"),swapRate:e("swap_rate"),slippage:t("slippage"),metadata:p("metadata"),errorMessage:e("error_message"),initiatedAt:o("initiated_at").notNull().defaultNow(),confirmedAt:o("confirmed_at"),failedAt:o("failed_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Uc=i("wallet_streaming_checkpoint",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:e("wallet_address").notNull().unique(),lastEventId:e("last_event_id").notNull().default("0"),lastBlockNumber:h("last_block_number",{mode:"number"}).notNull().default(0),lastEventTimestamp:o("last_event_timestamp").notNull().defaultNow(),streamType:e("stream_type").notNull().default("all"),isActive:_("is_active").notNull().default(!0),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()});s(Rc).omit({id:!0,createdAt:!0});s(Dc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Uc).omit({id:!0,createdAt:!0,updatedAt:!0});const Bc=i("testnet_wallets",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),address:a("address",{length:66}).notNull().unique(),balance:N("balance",{precision:40,scale:0}).notNull().default("0"),nonce:t("nonce").notNull().default(0),txCount:t("tx_count").notNull().default(0),firstSeenAt:o("first_seen_at").defaultNow().notNull(),lastActiveAt:o("last_active_at").defaultNow().notNull(),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Vc=i("testnet_transactions",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),hash:a("hash",{length:130}).notNull().unique(),blockNumber:h("block_number",{mode:"number"}).notNull(),fromAddress:a("from_address",{length:66}).notNull(),toAddress:a("to_address",{length:66}).notNull(),value:N("value",{precision:40,scale:0}).notNull().default("0"),gasPrice:N("gas_price",{precision:40,scale:0}).notNull().default("100"),gasUsed:t("gas_used").notNull().default(21e3),gasLimit:t("gas_limit").notNull().default(21e3),nonce:t("nonce").notNull().default(0),status:a("status",{length:20}).notNull().default("confirmed"),txType:a("tx_type",{length:30}).notNull().default("transfer"),input:e("input").default("0x"),createdAt:o("created_at").defaultNow().notNull()}),Kc=i("testnet_blocks",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),number:h("number",{mode:"number"}).notNull().unique(),hash:a("hash",{length:130}).notNull().unique(),parentHash:a("parent_hash",{length:130}).notNull(),timestamp:o("timestamp").defaultNow().notNull(),transactionCount:t("transaction_count").notNull().default(0),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),gasLimit:h("gas_limit",{mode:"number"}).notNull().default(15e6),validator:a("validator",{length:66}).notNull(),size:t("size").notNull().default(0),createdAt:o("created_at").defaultNow().notNull()}),zc=i("testnet_faucet_requests",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),walletAddress:a("wallet_address",{length:66}).notNull(),amount:N("amount",{precision:40,scale:0}).notNull().default("1000000000000000000000"),txHash:a("tx_hash",{length:130}),status:a("status",{length:20}).notNull().default("pending"),ipAddress:a("ip_address",{length:45}),userAgent:e("user_agent"),createdAt:o("created_at").defaultNow().notNull(),completedAt:o("completed_at")});s(Bc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Vc).omit({id:!0,createdAt:!0});s(Kc).omit({id:!0,createdAt:!0});s(zc).omit({id:!0,createdAt:!0});const Mc=i("genesis_config",{id:a("id").primaryKey().default(c`gen_random_uuid()`),chainId:t("chain_id").notNull().default(8888),chainName:e("chain_name").notNull().default("TBURN Mainnet"),networkVersion:e("network_version").notNull().default("v8.0"),genesisTimestamp:h("genesis_timestamp",{mode:"number"}),genesisBlockHash:e("genesis_block_hash"),initialDifficulty:e("initial_difficulty").notNull().default("1"),blockTimeMs:t("block_time_ms").notNull().default(100),totalSupply:e("total_supply").notNull().default("10000000000000000000000000000"),decimals:t("decimals").notNull().default(18),tokenSymbol:e("token_symbol").notNull().default("TBURN"),tokenName:e("token_name").notNull().default("TBURN Token"),initialPrice:e("initial_price").notNull().default("0.50"),minValidatorStake:e("min_validator_stake").notNull().default("100000000000000000000000"),maxValidatorCount:t("max_validator_count").notNull().default(125),initialValidatorCount:t("initial_validator_count").notNull().default(21),stakingRewardRate:t("staking_reward_rate").notNull().default(1250),consensusType:e("consensus_type").notNull().default("ai_committee_bft"),committeeSize:t("committee_size").notNull().default(21),blockProducerCount:t("block_producer_count").notNull().default(7),quorumThreshold:t("quorum_threshold").notNull().default(6700),initialShardCount:t("initial_shard_count").notNull().default(8),maxShardCount:t("max_shard_count").notNull().default(128),status:e("status").notNull().default("draft"),isExecuted:_("is_executed").notNull().default(!1),executedAt:o("executed_at"),executedBy:e("executed_by"),executionTxHash:e("execution_tx_hash"),preflightChecks:p("preflight_checks"),preflightPassedAt:o("preflight_passed_at"),requiredSignatures:t("required_signatures").notNull().default(3),totalSigners:t("total_signers").notNull().default(5),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),createdBy:e("created_by"),lastModifiedBy:e("last_modified_by")}),Lc=i("genesis_validators",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configId:a("config_id").notNull(),address:e("address").notNull(),name:e("name").notNull(),description:e("description"),website:e("website"),contactEmail:e("contact_email"),initialStake:e("initial_stake").notNull(),selfDelegation:e("self_delegation").notNull().default("0"),commission:t("commission").notNull().default(500),nodePublicKey:e("node_public_key").notNull(),nodeEndpoint:e("node_endpoint"),p2pPort:t("p2p_port").notNull().default(30303),rpcPort:t("rpc_port").notNull().default(8545),tier:e("tier").notNull().default("genesis"),priority:t("priority").notNull().default(0),isVerified:_("is_verified").notNull().default(!1),verifiedAt:o("verified_at"),verifiedBy:e("verified_by"),kycStatus:e("kyc_status").notNull().default("pending"),kycDocumentId:e("kyc_document_id"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Fc=i("genesis_distribution",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configId:a("config_id").notNull(),category:e("category").notNull(),subcategory:e("subcategory"),recipientName:e("recipient_name").notNull(),recipientAddress:e("recipient_address").notNull(),recipientType:e("recipient_type").notNull().default("wallet"),amount:e("amount").notNull(),percentage:t("percentage").notNull(),hasVesting:_("has_vesting").notNull().default(!1),vestingStartDate:o("vesting_start_date"),vestingEndDate:o("vesting_end_date"),vestingCliffMonths:t("vesting_cliff_months").default(0),vestingDurationMonths:t("vesting_duration_months").default(0),vestingSchedule:p("vesting_schedule"),isLocked:_("is_locked").notNull().default(!1),lockDurationDays:t("lock_duration_days").default(0),unlockDate:o("unlock_date"),status:e("status").notNull().default("pending"),distributedAt:o("distributed_at"),distributionTxHash:e("distribution_tx_hash"),verificationProof:e("verification_proof"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ec=i("genesis_approvals",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configId:a("config_id").notNull(),signerAddress:e("signer_address").notNull(),signerName:e("signer_name").notNull(),signerRole:e("signer_role").notNull(),signerOrder:t("signer_order").notNull().default(0),status:e("status").notNull().default("pending"),approvedAt:o("approved_at"),rejectedAt:o("rejected_at"),rejectionReason:e("rejection_reason"),signature:e("signature"),signatureType:e("signature_type").notNull().default("eip712"),signedMessage:e("signed_message"),signedAt:o("signed_at"),hardwareWalletType:e("hardware_wallet_type"),derivationPath:e("derivation_path"),isVerified:_("is_verified").notNull().default(!1),verifiedAt:o("verified_at"),verificationHash:e("verification_hash"),comments:e("comments"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),jc=i("genesis_execution_log",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configId:a("config_id").notNull(),logType:e("log_type").notNull(),severity:e("severity").notNull().default("info"),action:e("action").notNull(),description:e("description").notNull(),details:p("details"),actorAddress:e("actor_address"),actorName:e("actor_name"),actorRole:e("actor_role"),referenceType:e("reference_type"),referenceId:e("reference_id"),txHash:e("tx_hash"),blockNumber:h("block_number",{mode:"number"}),logHash:e("log_hash"),previousLogHash:e("previous_log_hash"),ipAddress:e("ip_address"),userAgent:e("user_agent"),sessionId:e("session_id"),createdAt:o("created_at").notNull().defaultNow()}),Hc=i("genesis_preflight_checks",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configId:a("config_id").notNull(),checkName:e("check_name").notNull(),checkCategory:e("check_category").notNull(),checkDescription:e("check_description").notNull(),status:e("status").notNull().default("pending"),result:p("result"),errorMessage:e("error_message"),warningMessage:e("warning_message"),expectedValue:e("expected_value"),actualValue:e("actual_value"),tolerance:e("tolerance"),isCritical:_("is_critical").notNull().default(!1),isRequired:_("is_required").notNull().default(!0),priority:t("priority").notNull().default(0),executedAt:o("executed_at"),executionDurationMs:t("execution_duration_ms"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Qc=i("newsletter_subscribers",{id:a("id").primaryKey().default(c`gen_random_uuid()`),email:a("email",{length:255}).notNull().unique(),status:a("status",{length:50}).notNull().default("active"),source:a("source",{length:100}).default("footer"),ipAddress:a("ip_address",{length:45}),subscribedAt:o("subscribed_at").notNull().defaultNow(),unsubscribedAt:o("unsubscribed_at")});s(Qc).omit({id:!0,subscribedAt:!0,unsubscribedAt:!0});s(Mc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Lc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Fc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ec).omit({id:!0,createdAt:!0,updatedAt:!0});s(jc).omit({id:!0,createdAt:!0});s(Hc).omit({id:!0,createdAt:!0,updatedAt:!0});const Oc=i("user_mining_rewards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:e("wallet_address").notNull(),amount:e("amount").notNull(),source:e("source").notNull(),epoch:t("epoch").notNull(),blockNumber:t("block_number"),txHash:e("tx_hash"),claimed:_("claimed").notNull().default(!1),claimedAt:o("claimed_at"),metadata:p("metadata").notNull().default({}),createdAt:o("created_at").notNull().defaultNow()}),$c=i("user_staking_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:e("wallet_address").notNull(),validatorId:e("validator_id").notNull(),validatorName:e("validator_name"),stakedAmount:e("staked_amount").notNull(),shares:e("shares").notNull().default("0"),currentValue:e("current_value").notNull(),currentApy:e("current_apy").notNull().default("0"),pendingRewards:e("pending_rewards").notNull().default("0"),totalRewardsEarned:e("total_rewards_earned").notNull().default("0"),status:e("status").notNull().default("active"),lockPeriodDays:t("lock_period_days").default(0),unlockDate:o("unlock_date"),stakedAt:o("staked_at").notNull().defaultNow(),lastRewardAt:o("last_reward_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Gc=i("user_staking_rewards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:e("wallet_address").notNull(),positionId:e("position_id"),validatorId:e("validator_id"),amount:e("amount").notNull(),rewardType:e("reward_type").notNull(),epoch:t("epoch").notNull(),apy:e("apy"),txHash:e("tx_hash"),claimed:_("claimed").notNull().default(!1),claimedAt:o("claimed_at"),autoCompounded:_("auto_compounded").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow()}),Zc=i("user_event_participation",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:e("wallet_address").notNull(),eventId:e("event_id").notNull(),eventName:e("event_name").notNull(),eventType:e("event_type").notNull(),eventDescription:e("event_description"),status:e("status").notNull().default("pending"),eligibilityReason:e("eligibility_reason"),rewardAmount:e("reward_amount"),rewardToken:e("reward_token").default("TB"),rewardTxHash:e("reward_tx_hash"),eventStartDate:o("event_start_date"),eventEndDate:o("event_end_date"),claimDeadline:o("claim_deadline"),awardedAt:o("awarded_at"),claimedAt:o("claimed_at"),metadata:p("metadata").notNull().default({}),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Wc=i("user_activity_log",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:e("wallet_address").notNull(),activityType:e("activity_type").notNull(),category:e("category").notNull(),title:e("title").notNull(),description:e("description"),amount:e("amount"),token:e("token").default("TB"),txHash:e("tx_hash"),referenceId:e("reference_id"),referenceType:e("reference_type"),metadata:p("metadata").notNull().default({}),createdAt:o("created_at").notNull().defaultNow()});s(Oc).omit({id:!0,createdAt:!0});s($c).omit({id:!0,createdAt:!0,updatedAt:!0});s(Gc).omit({id:!0,createdAt:!0});s(Zc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Wc).omit({id:!0,createdAt:!0});const Xc=i("bug_bounty_reports",{id:a("id").primaryKey().default(c`gen_random_uuid()`),reporterEmail:e("reporter_email"),reporterWallet:e("reporter_wallet"),reporterName:e("reporter_name"),title:e("title").notNull(),description:e("description").notNull(),reproductionSteps:e("reproduction_steps"),assetTarget:e("asset_target").notNull().default("smart_contracts"),reportedSeverity:e("reported_severity").notNull().default("medium"),confirmedSeverity:e("confirmed_severity"),status:e("status").notNull().default("pending"),rewardUsd:N("reward_usd"),rewardTokenAmount:e("reward_token_amount"),rewardTxHash:e("reward_tx_hash"),adminNotes:e("admin_notes"),assignedTo:e("assigned_to"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),reviewedAt:o("reviewed_at"),paidAt:o("paid_at")});s(Xc).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0,paidAt:!0});export{t_ as a,o_ as b,a_ as c,l_ as s,e_ as u};
