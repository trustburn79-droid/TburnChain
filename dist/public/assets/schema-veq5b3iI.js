var _r=Object.defineProperty;var fr=(n,l,r)=>l in n?_r(n,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[l]=r;var d=(n,l,r)=>fr(n,typeof l!="symbol"?l+"":l,r);import{cI as mr,cJ as pr,cK as Nr,cL as gr,cM as yr,cN as hr,cO as Ar,cP as it,cQ as br,cR as vr,cS as wr,cT as kr,cU as Sr,cV as Tr,cW as xr,cX as Pr,cY as Ir,cZ as vt,c_ as Cr,c$ as qr,d0 as Rr,d1 as Dr,d2 as Ur,d3 as Br,d4 as Kr,d5 as Vr,d6 as zr,d7 as Mr,d8 as Lr,d9 as Fr,da as Er,db as jr,dc as Hr,dd as Qr,de as Or,df as $r,dg as Gr,dh as Zr,di as Wr,dj as Xr,dk as Jr,dl as Yr,dm as tu,dn as eu,dp as au,dq as lu,dr as ou,ds as nu,dt as ru,cH as at,cA as F,du as uu,cF as mo,dv as du,dw as po,cE as M,dx as iu,dy as su,dz as cu,dA as wt,dB as No,dC as _u,dD as fu,dE as mu,dF as pu,dG as Nu,dH as gu,dI as yu,dJ as hu,dK as Au,dL as bu,dM as vu,dN as wu,dO as ku,dP as Su,dQ as Tu,dR as xu,dS as Pu,dT as go,dU as Iu,cD as V,cB as dt,dV as Cu,dW as qu,dX as Ru,dY as Du,dZ as Uu,d_ as Bu,d$ as Ku,e0 as Vu,e1 as zu,e2 as yo,e3 as Mu,e4 as Lu,e5 as Fu,cC as x,e6 as Eu,e7 as ju,e8 as Hu,e9 as pt,ea as Qu,eb as Ou,ec as $u,am as Gu,p as Zu,r as et}from"./index-BmV5YA9a.js";const Wu=Object.freeze(Object.defineProperty({__proto__:null,BRAND:mr,DIRTY:pr,EMPTY_PATH:Nr,INVALID:gr,NEVER:yr,OK:hr,ParseStatus:Ar,Schema:it,ZodAny:br,ZodArray:vr,ZodBigInt:wr,ZodBoolean:kr,ZodBranded:Sr,ZodCatch:Tr,ZodDate:xr,ZodDefault:Pr,ZodDiscriminatedUnion:Ir,ZodEffects:vt,ZodEnum:Cr,ZodError:qr,get ZodFirstPartyTypeKind(){return Rr},ZodFunction:Dr,ZodIntersection:Ur,ZodIssueCode:Br,ZodLazy:Kr,ZodLiteral:Vr,ZodMap:zr,ZodNaN:Mr,ZodNativeEnum:Lr,ZodNever:Fr,ZodNull:Er,ZodNullable:jr,ZodNumber:Hr,ZodObject:Qr,ZodOptional:Or,ZodParsedType:$r,ZodPipeline:Gr,ZodPromise:Zr,ZodReadonly:Wr,ZodRecord:Xr,ZodSchema:it,ZodSet:Jr,ZodString:Yr,ZodSymbol:tu,ZodTransformer:vt,ZodTuple:eu,ZodType:it,ZodUndefined:au,ZodUnion:lu,ZodUnknown:ou,ZodVoid:nu,addIssueToContext:ru,any:at,array:F,bigint:uu,boolean:mo,coerce:du,custom:po,date:M,datetimeRegex:iu,defaultErrorMap:su,discriminatedUnion:cu,effect:wt,enum:No,function:_u,getErrorMap:fu,getParsedType:mu,instanceof:pu,intersection:Nu,isAborted:gu,isAsync:yu,isDirty:hu,isValid:Au,late:bu,lazy:vu,literal:wu,makeIssue:ku,map:Su,nan:Tu,nativeEnum:xu,never:Pu,null:go,nullable:Iu,number:V,object:dt,get objectUtil(){return Cu},oboolean:qu,onumber:Ru,optional:Du,ostring:Uu,pipeline:Bu,preprocess:Ku,promise:Vu,quotelessJson:zu,record:yo,set:Mu,setErrorMap:Lu,strictObject:Fu,string:x,symbol:Eu,transformer:wt,tuple:ju,undefined:Hu,union:pt,unknown:Qu,get util(){return Ou},void:$u},Symbol.toStringTag,{value:"Module"}));function t_({channel:n,schema:l,queryKey:r,updateMode:u="snapshot",onMessage:f,enabled:g=!0}){const{lastMessage:A,isConnected:w}=Gu(),v=Zu(),T=et.useRef(""),y=et.useRef(!0);return et.useEffect(()=>(y.current=!0,()=>{y.current=!1}),[n,r,u]),et.useEffect(()=>{if(!(!g||!A||!w)&&y.current)try{const R=JSON.parse(A.data);if(R.type!==n)return;const S=`${R.type}-${R.timestamp}-${JSON.stringify(R.data)}`;if(S===T.current)return;T.current=S;const I=l.safeParse(R.data);if(!I.success){console.error(`[WebSocket] Schema validation failed for channel '${n}':`,I.error);return}const L=I.data,W=Array.isArray(r)?r:[r];switch(u){case"snapshot":const ir=v.getQueryData(W),sr=JSON.stringify(L),cr=JSON.stringify(ir);if(sr===cr)return;v.setQueryData(W,L);break;case"update":v.setQueryData(W,Y=>{if(!Array.isArray(Y))return[L];const At=L;if(At.id){const bt=Y.findIndex(tt=>tt.id===At.id);if(bt>=0){const tt=[...Y];return tt[bt]=L,tt}}return[L,...Y]});break;case"replace":v.setQueryData(W,L);break}f==null||f(L),console.log(`[WebSocket] Updated cache for ${n}:`,{queryKey:W,mode:u,timestamp:R.timestamp})}catch(R){console.error(`[WebSocket] Error processing message for channel '${n}':`,R)}},[A,n,l,r,u,f,g,w,v]),{isConnected:w}}const m=Symbol.for("drizzle:entityKind");function B(n,l){if(!n||typeof n!="object")return!1;if(n instanceof l)return!0;if(!Object.prototype.hasOwnProperty.call(l,m))throw new Error(`Class "${l.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(n).constructor;if(r)for(;r;){if(m in r&&r[m]===l[m])return!0;r=Object.getPrototypeOf(r)}return!1}var qt;qt=m;class O{constructor(l,r){d(this,"name");d(this,"keyAsName");d(this,"primary");d(this,"notNull");d(this,"default");d(this,"defaultFn");d(this,"onUpdateFn");d(this,"hasDefault");d(this,"isUnique");d(this,"uniqueName");d(this,"uniqueType");d(this,"dataType");d(this,"columnType");d(this,"enumValues");d(this,"generated");d(this,"generatedIdentity");d(this,"config");this.table=l,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(l){return l}mapToDriverValue(l){return l}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}d(O,qt,"Column");var Rt;Rt=m;class ho{constructor(l,r,u){d(this,"config");d(this,"$default",this.$defaultFn);d(this,"$onUpdate",this.$onUpdateFn);this.config={name:l,keyAsName:l==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:u,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(l){return this.config.default=l,this.config.hasDefault=!0,this}$defaultFn(l){return this.config.defaultFn=l,this.config.hasDefault=!0,this}$onUpdateFn(l){return this.config.onUpdateFn=l,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(l){this.config.name===""&&(this.config.name=l)}}d(ho,Rt,"ColumnBuilder");const H=Symbol.for("drizzle:Name");var Dt;Dt=m;class Ao{constructor(l,r){d(this,"reference");d(this,"_onUpdate","no action");d(this,"_onDelete","no action");this.reference=()=>{const{name:u,columns:f,foreignColumns:g}=l();return{name:u,columns:f,foreignTable:g[0].table,foreignColumns:g}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(l){return this._onUpdate=l===void 0?"no action":l,this}onDelete(l){return this._onDelete=l===void 0?"no action":l,this}build(l){return new bo(l,this)}}d(Ao,Dt,"PgForeignKeyBuilder");var Ut;Ut=m;class bo{constructor(l,r){d(this,"reference");d(this,"onUpdate");d(this,"onDelete");this.table=l,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:l,columns:r,foreignColumns:u}=this.reference(),f=r.map(w=>w.name),g=u.map(w=>w.name),A=[this.table[H],...f,u[0].table[H],...g];return l??`${A.join("_")}_fk`}}d(bo,Ut,"PgForeignKey");function Xu(n,...l){return n(...l)}function Ju(n,l){return`${n[H]}_${l.join("_")}_unique`}function kt(n,l,r){for(let u=l;u<n.length;u++){const f=n[u];if(f==="\\"){u++;continue}if(f==='"')return[n.slice(l,u).replace(/\\/g,""),u+1];if(!r&&(f===","||f==="}"))return[n.slice(l,u).replace(/\\/g,""),u]}return[n.slice(l).replace(/\\/g,""),n.length]}function vo(n,l=0){const r=[];let u=l,f=!1;for(;u<n.length;){const g=n[u];if(g===","){(f||u===l)&&r.push(""),f=!0,u++;continue}if(f=!1,g==="\\"){u+=2;continue}if(g==='"'){const[v,T]=kt(n,u+1,!0);r.push(v),u=T;continue}if(g==="}")return[r,u+1];if(g==="{"){const[v,T]=vo(n,u+1);r.push(v),u=T;continue}const[A,w]=kt(n,u,!1);r.push(A),u=w}return[r,u]}function Yu(n){const[l]=vo(n,1);return l}function wo(n){return`{${n.map(l=>Array.isArray(l)?wo(l):typeof l=="string"?`"${l.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${l}`).join(",")}}`}var Bt,Kt;class k extends(Kt=ho,Bt=m,Kt){constructor(){super(...arguments);d(this,"foreignKeyConfigs",[])}array(r){return new So(this.config.name,this,r)}references(r,u={}){return this.foreignKeyConfigs.push({ref:r,actions:u}),this}unique(r,u){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=u==null?void 0:u.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,u){return this.foreignKeyConfigs.map(({ref:f,actions:g})=>Xu((A,w)=>{const v=new Ao(()=>{const T=A();return{columns:[r],foreignColumns:[T]}});return w.onUpdate&&v.onUpdate(w.onUpdate),w.onDelete&&v.onDelete(w.onDelete),v.build(u)},f,g))}buildExtraConfigColumn(r){return new ko(r,this.config)}}d(k,Bt,"PgColumnBuilder");var Vt,zt;class b extends(zt=O,Vt=m,zt){constructor(l,r){r.uniqueName||(r.uniqueName=Ju(l,[r.name])),super(l,r),this.table=l}}d(b,Vt,"PgColumn");var Mt,Lt;class ko extends(Lt=b,Mt=m,Lt){constructor(){super(...arguments);d(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});d(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}d(ko,Mt,"ExtraConfigColumn");var Ft,Et;class So extends(Et=k,Ft=m,Et){constructor(l,r,u){super(l,"array","PgArray"),this.config.baseBuilder=r,this.config.size=u}build(l){const r=this.config.baseBuilder.build(l);return new ft(l,this.config,r)}}d(So,Ft,"PgArrayBuilder");var jt,Ht;const ut=class ut extends(Ht=b,jt=m,Ht){constructor(r,u,f,g){super(r,u);d(this,"size");this.baseColumn=f,this.range=g,this.size=u.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=Yu(r)),r.map(u=>this.baseColumn.mapFromDriverValue(u))}mapToDriverValue(r,u=!1){const f=r.map(g=>g===null?null:B(this.baseColumn,ut)?this.baseColumn.mapToDriverValue(g,!0):this.baseColumn.mapToDriverValue(g));return u?f:wo(f)}};d(ut,jt,"PgArray");let ft=ut;const St=Symbol.for("drizzle:isPgEnum");function td(n){return!!n&&typeof n=="function"&&St in n&&n[St]===!0}var Qt;Qt=m;class Nt{constructor(l,r,u,f=!1){this._={brand:"Subquery",sql:l,selectedFields:r,alias:u,isWith:f}}}d(Nt,Qt,"Subquery");const ed={startActiveSpan(n,l){return l()}},Q=Symbol.for("drizzle:ViewBaseConfig"),st=Symbol.for("drizzle:Schema"),Tt=Symbol.for("drizzle:Columns"),xt=Symbol.for("drizzle:ExtraConfigColumns"),ct=Symbol.for("drizzle:OriginalName"),_t=Symbol.for("drizzle:BaseName"),lt=Symbol.for("drizzle:IsAlias"),Pt=Symbol.for("drizzle:ExtraConfigBuilder"),To=Symbol.for("drizzle:IsDrizzleTable");var Ot,$t,Gt,Zt,Wt,Xt,Jt,Yt,te,ee;ee=m,te=H,Yt=ct,Jt=st,Xt=Tt,Wt=xt,Zt=_t,Gt=lt,$t=To,Ot=Pt;class K{constructor(l,r,u){d(this,te);d(this,Yt);d(this,Jt);d(this,Xt);d(this,Wt);d(this,Zt);d(this,Gt,!1);d(this,$t,!0);d(this,Ot);this[H]=this[ct]=l,this[st]=r,this[_t]=u}}d(K,ee,"Table"),d(K,"Symbol",{Name:H,Schema:st,OriginalName:ct,Columns:Tt,ExtraConfigColumns:xt,BaseName:_t,IsAlias:lt,ExtraConfigBuilder:Pt});function xo(n){return typeof n=="object"&&n!==null&&To in n}function ad(n){return n!=null&&typeof n.getSQL=="function"}function ld(n){var r;const l={sql:"",params:[]};for(const u of n)l.sql+=u.sql,l.params.push(...u.params),(r=u.typings)!=null&&r.length&&(l.typings||(l.typings=[]),l.typings.push(...u.typings));return l}var ae;ae=m;class z{constructor(l){d(this,"value");this.value=Array.isArray(l)?l:[l]}getSQL(){return new D([this])}}d(z,ae,"StringChunk");var le;le=m;const E=class E{constructor(l){d(this,"decoder",Po);d(this,"shouldInlineParams",!1);this.queryChunks=l}append(l){return this.queryChunks.push(...l.queryChunks),this}toQuery(l){return ed.startActiveSpan("drizzle.buildSQL",r=>{const u=this.buildQueryFromSourceParams(this.queryChunks,l);return r==null||r.setAttributes({"drizzle.query.text":u.sql,"drizzle.query.params":JSON.stringify(u.params)}),u})}buildQueryFromSourceParams(l,r){const u=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:f,escapeName:g,escapeParam:A,prepareTyping:w,inlineParams:v,paramStartIndex:T}=u;return ld(l.map(y=>{var R;if(B(y,z))return{sql:y.value.join(""),params:[]};if(B(y,ot))return{sql:g(y.value),params:[]};if(y===void 0)return{sql:"",params:[]};if(Array.isArray(y)){const S=[new z("(")];for(const[I,L]of y.entries())S.push(L),I<y.length-1&&S.push(new z(", "));return S.push(new z(")")),this.buildQueryFromSourceParams(S,u)}if(B(y,E))return this.buildQueryFromSourceParams(y.queryChunks,{...u,inlineParams:v||y.shouldInlineParams});if(B(y,K)){const S=y[K.Symbol.Schema],I=y[K.Symbol.Name];return{sql:S===void 0||y[lt]?g(I):g(S)+"."+g(I),params:[]}}if(B(y,O)){const S=f.getColumnCasing(y);if(r.invokeSource==="indexes")return{sql:g(S),params:[]};const I=y.table[K.Symbol.Schema];return{sql:y.table[lt]||I===void 0?g(y.table[K.Symbol.Name])+"."+g(S):g(I)+"."+g(y.table[K.Symbol.Name])+"."+g(S),params:[]}}if(B(y,qo)){const S=y[Q].schema,I=y[Q].name;return{sql:S===void 0||y[Q].isAlias?g(I):g(S)+"."+g(I),params:[]}}if(B(y,gt)){if(B(y.value,nt))return{sql:A(T.value++,y),params:[y],typings:["none"]};const S=y.value===null?null:y.encoder.mapToDriverValue(y.value);if(B(S,E))return this.buildQueryFromSourceParams([S],u);if(v)return{sql:this.mapInlineParam(S,u),params:[]};let I=["none"];return w&&(I=[w(y.encoder)]),{sql:A(T.value++,S),params:[S],typings:I}}return B(y,nt)?{sql:A(T.value++,y),params:[y],typings:["none"]}:B(y,E.Aliased)&&y.fieldAlias!==void 0?{sql:g(y.fieldAlias),params:[]}:B(y,Nt)?y._.isWith?{sql:g(y._.alias),params:[]}:this.buildQueryFromSourceParams([new z("("),y._.sql,new z(") "),new ot(y._.alias)],u):td(y)?y.schema?{sql:g(y.schema)+"."+g(y.enumName),params:[]}:{sql:g(y.enumName),params:[]}:ad(y)?(R=y.shouldOmitSQLParens)!=null&&R.call(y)?this.buildQueryFromSourceParams([y.getSQL()],u):this.buildQueryFromSourceParams([new z("("),y.getSQL(),new z(")")],u):v?{sql:this.mapInlineParam(y,u),params:[]}:{sql:A(T.value++,y),params:[y],typings:["none"]}}))}mapInlineParam(l,{escapeString:r}){if(l===null)return"null";if(typeof l=="number"||typeof l=="boolean")return l.toString();if(typeof l=="string")return r(l);if(typeof l=="object"){const u=l.toString();return r(u==="[object Object]"?JSON.stringify(l):u)}throw new Error("Unexpected param value: "+l)}getSQL(){return this}as(l){return l===void 0?this:new E.Aliased(this,l)}mapWith(l){return this.decoder=typeof l=="function"?{mapFromDriverValue:l}:l,this}inlineParams(){return this.shouldInlineParams=!0,this}if(l){return l?this:void 0}};d(E,le,"SQL");let D=E;var oe;oe=m;class ot{constructor(l){d(this,"brand");this.value=l}getSQL(){return new D([this])}}d(ot,oe,"Name");const Po={mapFromDriverValue:n=>n},Io={mapToDriverValue:n=>n};({...Po,...Io});var ne;ne=m;class gt{constructor(l,r=Io){d(this,"brand");this.value=l,this.encoder=r}getSQL(){return new D([this])}}d(gt,ne,"Param");function c(n,...l){const r=[];(l.length>0||n.length>0&&n[0]!=="")&&r.push(new z(n[0]));for(const[u,f]of l.entries())r.push(f,new z(n[u+1]));return new D(r)}(n=>{function l(){return new D([])}n.empty=l;function r(v){return new D(v)}n.fromList=r;function u(v){return new D([new z(v)])}n.raw=u;function f(v,T){const y=[];for(const[R,S]of v.entries())R>0&&T!==void 0&&y.push(T),y.push(S);return new D(y)}n.join=f;function g(v){return new ot(v)}n.identifier=g;function A(v){return new nt(v)}n.placeholder=A;function w(v,T){return new gt(v,T)}n.param=w})(c||(c={}));(n=>{var r;r=m;const u=class u{constructor(g,A){d(this,"isSelectionField",!1);this.sql=g,this.fieldAlias=A}getSQL(){return this.sql}clone(){return new u(this.sql,this.fieldAlias)}};d(u,r,"SQL.Aliased");let l=u;n.Aliased=l})(D||(D={}));var re;re=m;class nt{constructor(l){this.name=l}getSQL(){return new D([this])}}d(nt,re,"Placeholder");const Co=Symbol.for("drizzle:IsDrizzleView");var ue,de,ie;ie=m,de=Q,ue=Co;class qo{constructor({name:l,schema:r,selectedFields:u,query:f}){d(this,de);d(this,ue,!0);this[Q]={name:l,originalName:l,schema:r,selectedFields:u,query:f,isExisting:!f,isAlias:!1}}getSQL(){return new D([this])}}d(qo,ie,"View");function od(n){return typeof n=="object"&&n!==null&&Co in n}O.prototype.getSQL=function(){return new D([this])};K.prototype.getSQL=function(){return new D([this])};Nt.prototype.getSQL=function(){return new D([this])};function nd(n){return n[K.Symbol.Columns]}function rd(n){return n[Q].selectedFields}function U(n,l){return{name:typeof n=="string"&&n.length>0?n:"",config:typeof n=="object"?n:l}}var se,ce;class X extends(ce=k,se=m,ce){generatedAlwaysAsIdentity(l){if(l){const{name:r,...u}=l;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:u}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(l){if(l){const{name:r,...u}=l;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:u}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}d(X,se,"PgIntColumnBaseBuilder");var _e,fe;class Ro extends(fe=X,_e=m,fe){constructor(l){super(l,"number","PgBigInt53")}build(l){return new Do(l,this.config)}}d(Ro,_e,"PgBigInt53Builder");var me,pe;class Do extends(pe=b,me=m,pe){getSQLType(){return"bigint"}mapFromDriverValue(l){return typeof l=="number"?l:Number(l)}}d(Do,me,"PgBigInt53");var Ne,ge;class Uo extends(ge=X,Ne=m,ge){constructor(l){super(l,"bigint","PgBigInt64")}build(l){return new Bo(l,this.config)}}d(Uo,Ne,"PgBigInt64Builder");var ye,he;class Bo extends(he=b,ye=m,he){getSQLType(){return"bigint"}mapFromDriverValue(l){return BigInt(l)}}d(Bo,ye,"PgBigInt64");function h(n,l){const{name:r,config:u}=U(n,l);return u.mode==="number"?new Ro(r):new Uo(r)}var Ae,be;class Ko extends(be=k,Ae=m,be){constructor(l){super(l,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(l){return new Vo(l,this.config)}}d(Ko,Ae,"PgBigSerial53Builder");var ve,we;class Vo extends(we=b,ve=m,we){getSQLType(){return"bigserial"}mapFromDriverValue(l){return typeof l=="number"?l:Number(l)}}d(Vo,ve,"PgBigSerial53");var ke,Se;class zo extends(Se=k,ke=m,Se){constructor(l){super(l,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(l){return new Mo(l,this.config)}}d(zo,ke,"PgBigSerial64Builder");var Te,xe;class Mo extends(xe=b,Te=m,xe){getSQLType(){return"bigserial"}mapFromDriverValue(l){return BigInt(l)}}d(Mo,Te,"PgBigSerial64");function ud(n,l){const{name:r,config:u}=U(n,l);return u.mode==="number"?new Ko(r):new zo(r)}var Pe,Ie;class Lo extends(Ie=k,Pe=m,Ie){constructor(l){super(l,"boolean","PgBoolean")}build(l){return new Fo(l,this.config)}}d(Lo,Pe,"PgBooleanBuilder");var Ce,qe;class Fo extends(qe=b,Ce=m,qe){getSQLType(){return"boolean"}}d(Fo,Ce,"PgBoolean");function _(n){return new Lo(n??"")}var Re,De;class Eo extends(De=k,Re=m,De){constructor(l,r){super(l,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(l){return new jo(l,this.config)}}d(Eo,Re,"PgCharBuilder");var Ue,Be;class jo extends(Be=b,Ue=m,Be){constructor(){super(...arguments);d(this,"length",this.config.length);d(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}d(jo,Ue,"PgChar");function dd(n,l={}){const{name:r,config:u}=U(n,l);return new Eo(r,u)}var Ke,Ve;class Ho extends(Ve=k,Ke=m,Ve){constructor(l){super(l,"string","PgCidr")}build(l){return new Qo(l,this.config)}}d(Ho,Ke,"PgCidrBuilder");var ze,Me;class Qo extends(Me=b,ze=m,Me){getSQLType(){return"cidr"}}d(Qo,ze,"PgCidr");function id(n){return new Ho(n??"")}var Le,Fe;class Oo extends(Fe=k,Le=m,Fe){constructor(l,r,u){super(l,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=u}build(l){return new $o(l,this.config)}}d(Oo,Le,"PgCustomColumnBuilder");var Ee,je;class $o extends(je=b,Ee=m,je){constructor(r,u){super(r,u);d(this,"sqlName");d(this,"mapTo");d(this,"mapFrom");this.sqlName=u.customTypeParams.dataType(u.fieldConfig),this.mapTo=u.customTypeParams.toDriver,this.mapFrom=u.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}d($o,Ee,"PgCustomColumn");function sd(n){return(l,r)=>{const{name:u,config:f}=U(l,r);return new Oo(u,f,n)}}var He,Qe;class $ extends(Qe=k,He=m,Qe){defaultNow(){return this.default(c`now()`)}}d($,He,"PgDateColumnBaseBuilder");var Oe,$e;class Go extends($e=$,Oe=m,$e){constructor(l){super(l,"date","PgDate")}build(l){return new Zo(l,this.config)}}d(Go,Oe,"PgDateBuilder");var Ge,Ze;class Zo extends(Ze=b,Ge=m,Ze){getSQLType(){return"date"}mapFromDriverValue(l){return new Date(l)}mapToDriverValue(l){return l.toISOString()}}d(Zo,Ge,"PgDate");var We,Xe;class Wo extends(Xe=$,We=m,Xe){constructor(l){super(l,"string","PgDateString")}build(l){return new Xo(l,this.config)}}d(Wo,We,"PgDateStringBuilder");var Je,Ye;class Xo extends(Ye=b,Je=m,Ye){getSQLType(){return"date"}}d(Xo,Je,"PgDateString");function cd(n,l){const{name:r,config:u}=U(n,l);return(u==null?void 0:u.mode)==="date"?new Go(r):new Wo(r)}var ta,ea;class Jo extends(ea=k,ta=m,ea){constructor(l){super(l,"number","PgDoublePrecision")}build(l){return new Yo(l,this.config)}}d(Jo,ta,"PgDoublePrecisionBuilder");var aa,la;class Yo extends(la=b,aa=m,la){getSQLType(){return"double precision"}mapFromDriverValue(l){return typeof l=="string"?Number.parseFloat(l):l}}d(Yo,aa,"PgDoublePrecision");function _d(n){return new Jo(n??"")}var oa,na;class tn extends(na=k,oa=m,na){constructor(l){super(l,"string","PgInet")}build(l){return new en(l,this.config)}}d(tn,oa,"PgInetBuilder");var ra,ua;class en extends(ua=b,ra=m,ua){getSQLType(){return"inet"}}d(en,ra,"PgInet");function fd(n){return new tn(n??"")}var da,ia;class an extends(ia=X,da=m,ia){constructor(l){super(l,"number","PgInteger")}build(l){return new ln(l,this.config)}}d(an,da,"PgIntegerBuilder");var sa,ca;class ln extends(ca=b,sa=m,ca){getSQLType(){return"integer"}mapFromDriverValue(l){return typeof l=="string"?Number.parseInt(l):l}}d(ln,sa,"PgInteger");function e(n){return new an(n??"")}var _a,fa;class on extends(fa=k,_a=m,fa){constructor(l,r){super(l,"string","PgInterval"),this.config.intervalConfig=r}build(l){return new nn(l,this.config)}}d(on,_a,"PgIntervalBuilder");var ma,pa;class nn extends(pa=b,ma=m,pa){constructor(){super(...arguments);d(this,"fields",this.config.intervalConfig.fields);d(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",u=this.precision?`(${this.precision})`:"";return`interval${r}${u}`}}d(nn,ma,"PgInterval");function md(n,l={}){const{name:r,config:u}=U(n,l);return new on(r,u)}var Na,ga;class rn extends(ga=k,Na=m,ga){constructor(l){super(l,"json","PgJson")}build(l){return new un(l,this.config)}}d(rn,Na,"PgJsonBuilder");var ya,ha;class un extends(ha=b,ya=m,ha){constructor(l,r){super(l,r)}getSQLType(){return"json"}mapToDriverValue(l){return JSON.stringify(l)}mapFromDriverValue(l){if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l}}d(un,ya,"PgJson");function pd(n){return new rn(n??"")}var Aa,ba;class dn extends(ba=k,Aa=m,ba){constructor(l){super(l,"json","PgJsonb")}build(l){return new sn(l,this.config)}}d(dn,Aa,"PgJsonbBuilder");var va,wa;class sn extends(wa=b,va=m,wa){constructor(l,r){super(l,r)}getSQLType(){return"jsonb"}mapToDriverValue(l){return JSON.stringify(l)}mapFromDriverValue(l){if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l}}d(sn,va,"PgJsonb");function p(n){return new dn(n??"")}var ka,Sa;class cn extends(Sa=k,ka=m,Sa){constructor(l){super(l,"array","PgLine")}build(l){return new _n(l,this.config)}}d(cn,ka,"PgLineBuilder");var Ta,xa;class _n extends(xa=b,Ta=m,xa){getSQLType(){return"line"}mapFromDriverValue(l){const[r,u,f]=l.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(u),Number.parseFloat(f)]}mapToDriverValue(l){return`{${l[0]},${l[1]},${l[2]}}`}}d(_n,Ta,"PgLine");var Pa,Ia;class fn extends(Ia=k,Pa=m,Ia){constructor(l){super(l,"json","PgLineABC")}build(l){return new mn(l,this.config)}}d(fn,Pa,"PgLineABCBuilder");var Ca,qa;class mn extends(qa=b,Ca=m,qa){getSQLType(){return"line"}mapFromDriverValue(l){const[r,u,f]=l.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(u),c:Number.parseFloat(f)}}mapToDriverValue(l){return`{${l.a},${l.b},${l.c}}`}}d(mn,Ca,"PgLineABC");function Nd(n,l){const{name:r,config:u}=U(n,l);return!(u!=null&&u.mode)||u.mode==="tuple"?new cn(r):new fn(r)}var Ra,Da;class pn extends(Da=k,Ra=m,Da){constructor(l){super(l,"string","PgMacaddr")}build(l){return new Nn(l,this.config)}}d(pn,Ra,"PgMacaddrBuilder");var Ua,Ba;class Nn extends(Ba=b,Ua=m,Ba){getSQLType(){return"macaddr"}}d(Nn,Ua,"PgMacaddr");function gd(n){return new pn(n??"")}var Ka,Va;class gn extends(Va=k,Ka=m,Va){constructor(l){super(l,"string","PgMacaddr8")}build(l){return new yn(l,this.config)}}d(gn,Ka,"PgMacaddr8Builder");var za,Ma;class yn extends(Ma=b,za=m,Ma){getSQLType(){return"macaddr8"}}d(yn,za,"PgMacaddr8");function yd(n){return new gn(n??"")}var La,Fa;class hn extends(Fa=k,La=m,Fa){constructor(l,r,u){super(l,"string","PgNumeric"),this.config.precision=r,this.config.scale=u}build(l){return new An(l,this.config)}}d(hn,La,"PgNumericBuilder");var Ea,ja;class An extends(ja=b,Ea=m,ja){constructor(r,u){super(r,u);d(this,"precision");d(this,"scale");this.precision=u.precision,this.scale=u.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}d(An,Ea,"PgNumeric");function N(n,l){const{name:r,config:u}=U(n,l);return new hn(r,u==null?void 0:u.precision,u==null?void 0:u.scale)}var Ha,Qa;class bn extends(Qa=k,Ha=m,Qa){constructor(l){super(l,"array","PgPointTuple")}build(l){return new vn(l,this.config)}}d(bn,Ha,"PgPointTupleBuilder");var Oa,$a;class vn extends($a=b,Oa=m,$a){getSQLType(){return"point"}mapFromDriverValue(l){if(typeof l=="string"){const[r,u]=l.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(u)]}return[l.x,l.y]}mapToDriverValue(l){return`(${l[0]},${l[1]})`}}d(vn,Oa,"PgPointTuple");var Ga,Za;class wn extends(Za=k,Ga=m,Za){constructor(l){super(l,"json","PgPointObject")}build(l){return new kn(l,this.config)}}d(wn,Ga,"PgPointObjectBuilder");var Wa,Xa;class kn extends(Xa=b,Wa=m,Xa){getSQLType(){return"point"}mapFromDriverValue(l){if(typeof l=="string"){const[r,u]=l.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(u)}}return l}mapToDriverValue(l){return`(${l.x},${l.y})`}}d(kn,Wa,"PgPointObject");function hd(n,l){const{name:r,config:u}=U(n,l);return!(u!=null&&u.mode)||u.mode==="tuple"?new bn(r):new wn(r)}function Ad(n){const l=[];for(let r=0;r<n.length;r+=2)l.push(Number.parseInt(n.slice(r,r+2),16));return new Uint8Array(l)}function It(n,l){const r=new ArrayBuffer(8),u=new DataView(r);for(let f=0;f<8;f++)u.setUint8(f,n[l+f]);return u.getFloat64(0,!0)}function Sn(n){const l=Ad(n);let r=0;const u=l[r];r+=1;const f=new DataView(l.buffer),g=f.getUint32(r,u===1);if(r+=4,g&536870912&&(f.getUint32(r,u===1),r+=4),(g&65535)===1){const A=It(l,r);r+=8;const w=It(l,r);return r+=8,[A,w]}throw new Error("Unsupported geometry type")}var Ja,Ya;class Tn extends(Ya=k,Ja=m,Ya){constructor(l){super(l,"array","PgGeometry")}build(l){return new xn(l,this.config)}}d(Tn,Ja,"PgGeometryBuilder");var tl,el;class xn extends(el=b,tl=m,el){getSQLType(){return"geometry(point)"}mapFromDriverValue(l){return Sn(l)}mapToDriverValue(l){return`point(${l[0]} ${l[1]})`}}d(xn,tl,"PgGeometry");var al,ll;class Pn extends(ll=k,al=m,ll){constructor(l){super(l,"json","PgGeometryObject")}build(l){return new In(l,this.config)}}d(Pn,al,"PgGeometryObjectBuilder");var ol,nl;class In extends(nl=b,ol=m,nl){getSQLType(){return"geometry(point)"}mapFromDriverValue(l){const r=Sn(l);return{x:r[0],y:r[1]}}mapToDriverValue(l){return`point(${l.x} ${l.y})`}}d(In,ol,"PgGeometryObject");function bd(n,l){const{name:r,config:u}=U(n,l);return!(u!=null&&u.mode)||u.mode==="tuple"?new Tn(r):new Pn(r)}var rl,ul;class Cn extends(ul=k,rl=m,ul){constructor(l,r){super(l,"number","PgReal"),this.config.length=r}build(l){return new qn(l,this.config)}}d(Cn,rl,"PgRealBuilder");var dl,il;class qn extends(il=b,dl=m,il){constructor(r,u){super(r,u);d(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}d(qn,dl,"PgReal");function q(n){return new Cn(n??"")}var sl,cl;class Rn extends(cl=k,sl=m,cl){constructor(l){super(l,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(l){return new Dn(l,this.config)}}d(Rn,sl,"PgSerialBuilder");var _l,fl;class Dn extends(fl=b,_l=m,fl){getSQLType(){return"serial"}}d(Dn,_l,"PgSerial");function vd(n){return new Rn(n??"")}var ml,pl;class Un extends(pl=X,ml=m,pl){constructor(l){super(l,"number","PgSmallInt")}build(l){return new Bn(l,this.config)}}d(Un,ml,"PgSmallIntBuilder");var Nl,gl;class Bn extends(gl=b,Nl=m,gl){constructor(){super(...arguments);d(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}d(Bn,Nl,"PgSmallInt");function wd(n){return new Un(n??"")}var yl,hl;class Kn extends(hl=k,yl=m,hl){constructor(l){super(l,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(l){return new Vn(l,this.config)}}d(Kn,yl,"PgSmallSerialBuilder");var Al,bl;class Vn extends(bl=b,Al=m,bl){getSQLType(){return"smallserial"}}d(Vn,Al,"PgSmallSerial");function kd(n){return new Kn(n??"")}var vl,wl;class zn extends(wl=k,vl=m,wl){constructor(l,r){super(l,"string","PgText"),this.config.enumValues=r.enum}build(l){return new Mn(l,this.config)}}d(zn,vl,"PgTextBuilder");var kl,Sl;class Mn extends(Sl=b,kl=m,Sl){constructor(){super(...arguments);d(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}d(Mn,kl,"PgText");function t(n,l={}){const{name:r,config:u}=U(n,l);return new zn(r,u)}var Tl,xl;class Ln extends(xl=$,Tl=m,xl){constructor(l,r,u){super(l,"string","PgTime"),this.withTimezone=r,this.precision=u,this.config.withTimezone=r,this.config.precision=u}build(l){return new Fn(l,this.config)}}d(Ln,Tl,"PgTimeBuilder");var Pl,Il;class Fn extends(Il=b,Pl=m,Il){constructor(r,u){super(r,u);d(this,"withTimezone");d(this,"precision");this.withTimezone=u.withTimezone,this.precision=u.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}d(Fn,Pl,"PgTime");function Sd(n,l={}){const{name:r,config:u}=U(n,l);return new Ln(r,u.withTimezone??!1,u.precision)}var Cl,ql;class En extends(ql=$,Cl=m,ql){constructor(l,r,u){super(l,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=u}build(l){return new jn(l,this.config)}}d(En,Cl,"PgTimestampBuilder");var Rl,Dl;class jn extends(Dl=b,Rl=m,Dl){constructor(r,u){super(r,u);d(this,"withTimezone");d(this,"precision");d(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));d(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=u.withTimezone,this.precision=u.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}d(jn,Rl,"PgTimestamp");var Ul,Bl;class Hn extends(Bl=$,Ul=m,Bl){constructor(l,r,u){super(l,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=u}build(l){return new Qn(l,this.config)}}d(Hn,Ul,"PgTimestampStringBuilder");var Kl,Vl;class Qn extends(Vl=b,Kl=m,Vl){constructor(r,u){super(r,u);d(this,"withTimezone");d(this,"precision");this.withTimezone=u.withTimezone,this.precision=u.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}d(Qn,Kl,"PgTimestampString");function o(n,l={}){const{name:r,config:u}=U(n,l);return(u==null?void 0:u.mode)==="string"?new Hn(r,u.withTimezone??!1,u.precision):new En(r,(u==null?void 0:u.withTimezone)??!1,u==null?void 0:u.precision)}var zl,Ml;class On extends(Ml=k,zl=m,Ml){constructor(l){super(l,"string","PgUUID")}defaultRandom(){return this.default(c`gen_random_uuid()`)}build(l){return new $n(l,this.config)}}d(On,zl,"PgUUIDBuilder");var Ll,Fl;class $n extends(Fl=b,Ll=m,Fl){getSQLType(){return"uuid"}}d($n,Ll,"PgUUID");function Td(n){return new On(n??"")}var El,jl;class Gn extends(jl=k,El=m,jl){constructor(l,r){super(l,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(l){return new Zn(l,this.config)}}d(Gn,El,"PgVarcharBuilder");var Hl,Ql;class Zn extends(Ql=b,Hl=m,Ql){constructor(){super(...arguments);d(this,"length",this.config.length);d(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}d(Zn,Hl,"PgVarchar");function a(n,l={}){const{name:r,config:u}=U(n,l);return new Gn(r,u)}var Ol,$l;class Wn extends($l=k,Ol=m,$l){constructor(l,r){super(l,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(l){return new Xn(l,this.config)}}d(Wn,Ol,"PgBinaryVectorBuilder");var Gl,Zl;class Xn extends(Zl=b,Gl=m,Zl){constructor(){super(...arguments);d(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}d(Xn,Gl,"PgBinaryVector");function xd(n,l){const{name:r,config:u}=U(n,l);return new Wn(r,u)}var Wl,Xl;class Jn extends(Xl=k,Wl=m,Xl){constructor(l,r){super(l,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(l){return new Yn(l,this.config)}}d(Jn,Wl,"PgHalfVectorBuilder");var Jl,Yl;class Yn extends(Yl=b,Jl=m,Yl){constructor(){super(...arguments);d(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(u=>Number.parseFloat(u))}}d(Yn,Jl,"PgHalfVector");function Pd(n,l){const{name:r,config:u}=U(n,l);return new Jn(r,u)}var to,eo;class tr extends(eo=k,to=m,eo){constructor(l,r){super(l,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(l){return new er(l,this.config)}}d(tr,to,"PgSparseVectorBuilder");var ao,lo;class er extends(lo=b,ao=m,lo){constructor(){super(...arguments);d(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}d(er,ao,"PgSparseVector");function Id(n,l){const{name:r,config:u}=U(n,l);return new tr(r,u)}var oo,no;class ar extends(no=k,oo=m,no){constructor(l,r){super(l,"array","PgVector"),this.config.dimensions=r.dimensions}build(l){return new lr(l,this.config)}}d(ar,oo,"PgVectorBuilder");var ro,uo;class lr extends(uo=b,ro=m,uo){constructor(){super(...arguments);d(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(u=>Number.parseFloat(u))}}d(lr,ro,"PgVector");function Cd(n,l){const{name:r,config:u}=U(n,l);return new ar(r,u)}function qd(){return{bigint:h,bigserial:ud,boolean:_,char:dd,cidr:id,customType:sd,date:cd,doublePrecision:_d,inet:fd,integer:e,interval:md,json:pd,jsonb:p,line:Nd,macaddr:gd,macaddr8:yd,numeric:N,point:hd,geometry:bd,real:q,serial:vd,smallint:wd,smallserial:kd,text:t,time:Sd,timestamp:o,uuid:Td,varchar:a,bit:xd,halfvec:Pd,sparsevec:Id,vector:Cd}}const mt=Symbol.for("drizzle:PgInlineForeignKeys"),Ct=Symbol.for("drizzle:EnableRLS");var io,so,co,_o,fo;class rt extends(fo=K,_o=m,co=mt,so=Ct,io=K.Symbol.ExtraConfigBuilder,fo){constructor(){super(...arguments);d(this,co,[]);d(this,so,!1);d(this,io)}}d(rt,_o,"PgTable"),d(rt,"Symbol",Object.assign({},K.Symbol,{InlineForeignKeys:mt,EnableRLS:Ct}));function Rd(n,l,r,u,f=n){const g=new rt(n,u,f),A=typeof l=="function"?l(qd()):l,w=Object.fromEntries(Object.entries(A).map(([y,R])=>{const S=R;S.setName(y);const I=S.build(g);return g[mt].push(...S.buildForeignKeys(I,g)),[y,I]})),v=Object.fromEntries(Object.entries(A).map(([y,R])=>{const S=R;S.setName(y);const I=S.buildExtraConfigColumn(g);return[y,I]})),T=Object.assign(g,w);return T[K.Symbol.Columns]=w,T[K.Symbol.ExtraConfigColumns]=v,Object.assign(T,{enableRLS:()=>(T[rt.Symbol.EnableRLS]=!0,T)})}const i=(n,l,r)=>Rd(n,l,r,void 0),P={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function C(n,l){return l.includes(n.columnType)}function Dd(n){return"enumValues"in n&&Array.isArray(n.enumValues)&&n.enumValues.length>0}const Ud=pt([x(),V(),mo(),go()]),Bd=pt([Ud,yo(at()),F(at())]),Kd=po(n=>n instanceof Buffer);function or(n,l){const r=(l==null?void 0:l.zodInstance)??Wu,u=(l==null?void 0:l.coerce)??{};let f;return Dd(n)&&(f=n.enumValues.length?r.enum(n.enumValues):r.string()),f||(C(n,["PgGeometry","PgPointTuple"])?f=r.tuple([r.number(),r.number()]):C(n,["PgGeometryObject","PgPointObject"])?f=r.object({x:r.number(),y:r.number()}):C(n,["PgHalfVector","PgVector"])?(f=r.array(r.number()),f=n.dimensions?f.length(n.dimensions):f):C(n,["PgLine"])?f=r.tuple([r.number(),r.number(),r.number()]):C(n,["PgLineABC"])?f=r.object({a:r.number(),b:r.number(),c:r.number()}):C(n,["PgArray"])?(f=r.array(or(n.baseColumn,r)),f=n.size?f.length(n.size):f):n.dataType==="array"?f=r.array(r.any()):n.dataType==="number"?f=Vd(n,r,u):n.dataType==="bigint"?f=zd(n,r,u):n.dataType==="boolean"?f=u===!0||u.boolean?r.coerce.boolean():r.boolean():n.dataType==="date"?f=u===!0||u.date?r.coerce.date():r.date():n.dataType==="string"?f=Md(n,r,u):n.dataType==="json"?f=Bd:n.dataType==="custom"?f=r.any():n.dataType==="buffer"&&(f=Kd)),f||(f=r.any()),f}function Vd(n,l,r){let u=n.getSQLType().includes("unsigned"),f,g,A=!1;C(n,["MySqlTinyInt","SingleStoreTinyInt"])?(f=u?0:P.INT8_MIN,g=u?P.INT8_UNSIGNED_MAX:P.INT8_MAX,A=!0):C(n,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(f=u?0:P.INT16_MIN,g=u?P.INT16_UNSIGNED_MAX:P.INT16_MAX,A=!0):C(n,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(f=u?0:P.INT24_MIN,g=u?P.INT24_UNSIGNED_MAX:P.INT24_MAX,A=C(n,["MySqlMediumInt","SingleStoreMediumInt"])):C(n,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(f=u?0:P.INT32_MIN,g=u?P.INT32_UNSIGNED_MAX:P.INT32_MAX,A=!0):C(n,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(f=u?0:P.INT48_MIN,g=u?P.INT48_UNSIGNED_MAX:P.INT48_MAX):C(n,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(u=u||C(n,["MySqlSerial","SingleStoreSerial"]),f=u?0:Number.MIN_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,A=!0):C(n,["MySqlYear","SingleStoreYear"])?(f=1901,g=2155,A=!0):(f=Number.MIN_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER);let w=r===!0||r!=null&&r.number?l.coerce.number():l.number();return w=w.min(f).max(g),A?w.int():w}function zd(n,l,r){const u=n.getSQLType().includes("unsigned"),f=u?0n:P.INT64_MIN,g=u?P.INT64_UNSIGNED_MAX:P.INT64_MAX;return(r===!0||r!=null&&r.bigint?l.coerce.bigint():l.bigint()).min(f).max(g)}function Md(n,l,r){if(C(n,["PgUUID"]))return l.string().uuid();let u,f,g=!1;C(n,["PgVarchar","SQLiteText"])?u=n.length:C(n,["MySqlVarChar","SingleStoreVarChar"])?u=n.length??P.INT16_UNSIGNED_MAX:C(n,["MySqlText","SingleStoreText"])&&(n.textType==="longtext"?u=P.INT32_UNSIGNED_MAX:n.textType==="mediumtext"?u=P.INT24_UNSIGNED_MAX:n.textType==="text"?u=P.INT16_UNSIGNED_MAX:u=P.INT8_UNSIGNED_MAX),C(n,["PgChar","MySqlChar","SingleStoreChar"])&&(u=n.length,g=!0),C(n,["PgBinaryVector"])&&(f=/^[01]+$/,u=n.dimensions);let A=r===!0||r!=null&&r.string?l.coerce.string():l.string();return A=f?A.regex(f):A,u&&g?A.length(u):u?A.max(u):A}function nr(n){return xo(n)?nd(n):rd(n)}function rr(n,l,r,u){const f={};for(const[g,A]of Object.entries(n)){if(!B(A,O)&&!B(A,D)&&!B(A,D.Aliased)&&typeof A=="object"){const R=xo(A)||od(A)?nr(A):A;f[g]=rr(R,l[g]??{},r,u);continue}const w=l[g];if(w!==void 0&&typeof w!="function"){f[g]=w;continue}const v=B(A,O)?A:void 0,T=v?or(v,u):at(),y=typeof w=="function"?w(T):T;r.never(v)||(f[g]=y,v&&(r.nullable(v)&&(f[g]=f[g].nullable()),r.optional(v)&&(f[g]=f[g].optional())))}return dt(f)}const Ld={never:n=>{var l,r;return((l=n==null?void 0:n.generated)==null?void 0:l.type)==="always"||((r=n==null?void 0:n.generatedIdentity)==null?void 0:r.type)==="always"},optional:n=>!n.notNull||n.notNull&&n.hasDefault,nullable:n=>!n.notNull},s=(n,l)=>{const r=nr(n);return rr(r,{},Ld)},Fd=i("blocks",{id:a("id").primaryKey().default(c`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull().unique(),hash:t("hash").notNull().unique(),parentHash:t("parent_hash").notNull(),timestamp:h("timestamp",{mode:"number"}).notNull(),transactionCount:e("transaction_count").notNull().default(0),validatorAddress:t("validator_address").notNull(),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),gasLimit:h("gas_limit",{mode:"number"}).notNull().default(0),size:e("size").notNull(),shardId:e("shard_id").notNull().default(0),stateRoot:t("state_root").notNull(),receiptsRoot:t("receipts_root").notNull(),executionClass:t("execution_class").notNull().default("standard"),latencyNs:h("latency_ns",{mode:"number"}).notNull().default(0),parallelBatchId:a("parallel_batch_id"),hashAlgorithm:t("hash_algorithm").notNull().default("blake3"),finalityStatus:t("finality_status").notNull().default("finalized"),finalityConfirmations:e("finality_confirmations").notNull().default(0),verificationCount:e("verification_count").notNull().default(0),requiredVerifications:e("required_verifications").notNull().default(0),finalizedAt:o("finalized_at"),totalBlockReward:t("total_block_reward").notNull().default("0"),rewardDistributed:_("reward_distributed").notNull().default(!1)}),Ed=i("transactions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),hash:t("hash").notNull().unique(),blockNumber:h("block_number",{mode:"number"}).notNull(),blockHash:t("block_hash").notNull(),from:t("from").notNull(),to:t("to"),value:t("value").notNull(),gas:h("gas",{mode:"number"}).notNull(),gasPrice:t("gas_price").notNull(),gasUsed:h("gas_used",{mode:"number"}),nonce:e("nonce").notNull(),timestamp:h("timestamp",{mode:"number"}).notNull(),status:t("status").notNull().default("pending"),input:t("input"),contractAddress:t("contract_address"),shardId:e("shard_id").notNull().default(0),executionClass:t("execution_class").notNull().default("standard"),latencyNs:h("latency_ns",{mode:"number"}).notNull().default(0),parallelBatchId:a("parallel_batch_id"),crossShardMessageId:a("cross_shard_message_id"),hashAlgorithm:t("hash_algorithm").notNull().default("blake3"),signature:t("signature"),signatureVerified:_("signature_verified").notNull().default(!1),signatureAlgorithm:t("signature_algorithm").notNull().default("secp256k1"),publicKey:t("public_key"),verifiedAt:o("verified_at")}),jd=i("accounts",{id:a("id").primaryKey().default(c`gen_random_uuid()`),address:t("address").notNull().unique(),balance:t("balance").notNull().default("0"),nonce:e("nonce").notNull().default(0),code:t("code"),isContract:_("is_contract").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Hd=i("validators",{id:a("id").primaryKey().default(c`gen_random_uuid()`),address:t("address").notNull().unique(),name:t("name").notNull(),stake:t("stake").notNull(),delegatedStake:t("delegated_stake").notNull().default("0"),commission:e("commission").notNull().default(500),status:t("status").notNull().default("active"),uptime:e("uptime").notNull().default(1e4),totalBlocks:e("total_blocks").notNull().default(0),votingPower:t("voting_power").notNull().default("0"),apy:e("apy").notNull().default(0),delegators:e("delegators").notNull().default(0),joinedAt:o("joined_at").notNull().defaultNow(),missedBlocks:e("missed_blocks").notNull().default(0),avgBlockTime:e("avg_block_time").notNull().default(0),rewardEarned:t("reward_earned").notNull().default("0"),slashCount:e("slash_count").notNull().default(0),lastActiveAt:o("last_active_at"),reputationScore:e("reputation_score").notNull().default(8500),performanceScore:e("performance_score").notNull().default(9e3),committeeSelectionCount:e("committee_selection_count").notNull().default(0),aiTrustScore:e("ai_trust_score").notNull().default(7500),behaviorScore:e("behavior_score").notNull().default(9500),adaptiveWeight:e("adaptive_weight").notNull().default(1e4)}),Qd=i("block_verifications",{id:a("id").primaryKey().default(c`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull(),blockHash:t("block_hash").notNull(),validatorAddress:t("validator_address").notNull(),verificationResult:t("verification_result").notNull().default("valid"),verificationSignature:t("verification_signature").notNull(),stateRootMatch:_("state_root_match").notNull().default(!0),receiptsRootMatch:_("receipts_root_match").notNull().default(!0),transactionsValid:_("transactions_valid").notNull().default(!0),verificationTimeMs:e("verification_time_ms").notNull().default(0),createdAt:o("created_at").notNull().defaultNow()}),Od=i("validator_block_rewards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull(),validatorAddress:t("validator_address").notNull(),rewardType:t("reward_type").notNull(),rewardAmount:t("reward_amount").notNull(),gasFeesEarned:t("gas_fees_earned").notNull().default("0"),participationRole:t("participation_role").notNull(),votePower:t("vote_power").notNull().default("0"),distributed:_("distributed").notNull().default(!1),distributedAt:o("distributed_at"),txHash:t("tx_hash"),createdAt:o("created_at").notNull().defaultNow()}),$d=i("block_finality_confirmations",{id:a("id").primaryKey().default(c`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull().unique(),blockHash:t("block_hash").notNull(),finalityStatus:t("finality_status").notNull().default("pending"),totalVerifications:e("total_verifications").notNull().default(0),requiredVerifications:e("required_verifications").notNull(),validVotes:e("valid_votes").notNull().default(0),invalidVotes:e("invalid_votes").notNull().default(0),abstainVotes:e("abstain_votes").notNull().default(0),totalRewardsDistributed:t("total_rewards_distributed").notNull().default("0"),proposerReward:t("proposer_reward").notNull().default("0"),verifierRewardsTotal:t("verifier_rewards_total").notNull().default("0"),consensusStartAt:o("consensus_start_at").notNull().defaultNow(),finalizedAt:o("finalized_at"),confirmationLatencyMs:e("confirmation_latency_ms"),createdAt:o("created_at").notNull().defaultNow()});s(Qd).omit({id:!0,createdAt:!0});s(Od).omit({id:!0,createdAt:!0});s($d).omit({id:!0,createdAt:!0});const Gd=i("smart_contracts",{id:a("id").primaryKey().default(c`gen_random_uuid()`),address:t("address").notNull().unique(),name:t("name").notNull(),creator:t("creator").notNull(),bytecode:t("bytecode").notNull(),abi:p("abi"),sourceCode:t("source_code"),deployedAt:o("deployed_at").notNull().defaultNow(),transactionCount:e("transaction_count").notNull().default(0),balance:t("balance").notNull().default("0"),verified:_("verified").notNull().default(!1)}),Zd=i("ai_models",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:t("name").notNull().unique(),band:t("band").notNull().default("operational"),status:t("status").notNull().default("active"),requestCount:e("request_count").notNull().default(0),successCount:e("success_count").notNull().default(0),failureCount:e("failure_count").notNull().default(0),avgResponseTime:e("avg_response_time").notNull().default(0),totalCost:t("total_cost").notNull().default("0"),lastUsed:o("last_used"),cacheHitRate:e("cache_hit_rate").notNull().default(0),accuracy:e("accuracy").notNull().default(0),uptime:e("uptime").notNull().default(1e4),feedbackLearningScore:e("feedback_learning_score").notNull().default(8e3),crossBandInteractions:e("cross_band_interactions").notNull().default(0),strategicDecisions:e("strategic_decisions").notNull().default(0),tacticalDecisions:e("tactical_decisions").notNull().default(0),operationalDecisions:e("operational_decisions").notNull().default(0),modelWeight:e("model_weight").notNull().default(3333),consensusContribution:e("consensus_contribution").notNull().default(0)}),Wd=i("ai_decisions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),band:t("band").notNull(),modelName:t("model_name").notNull(),provider:t("provider").notNull().default("unknown"),decision:t("decision").notNull(),impact:t("impact").notNull(),category:t("category").notNull(),shardId:e("shard_id"),validatorAddress:t("validator_address"),status:t("status").notNull().default("executed"),confidence:e("confidence"),executionTime:e("execution_time"),promptText:t("prompt_text"),responseText:t("response_text"),tokensUsed:e("tokens_used").default(0),costUsd:t("cost_usd").default("0"),isRealAi:_("is_real_ai").notNull().default(!0),actionApplied:t("action_applied"),blockchainTxHash:t("blockchain_tx_hash"),metadata:p("metadata"),createdAt:o("created_at").notNull().defaultNow(),executedAt:o("executed_at")}),Xd=i("ai_usage_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),provider:t("provider").notNull(),model:t("model").notNull(),band:t("band").notNull(),requestType:t("request_type").notNull(),promptTokens:e("prompt_tokens").notNull().default(0),completionTokens:e("completion_tokens").notNull().default(0),totalTokens:e("total_tokens").notNull().default(0),costUsd:t("cost_usd").notNull().default("0"),responseTimeMs:e("response_time_ms").notNull().default(0),success:_("success").notNull().default(!0),errorType:t("error_type"),errorMessage:t("error_message"),wasFailover:_("was_failover").notNull().default(!1),originalProvider:t("original_provider"),createdAt:o("created_at").notNull().defaultNow()}),Jd=i("ai_execution_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),decisionId:a("decision_id").notNull(),executionType:t("execution_type").notNull(),status:t("status").notNull().default("pending"),confidence:e("confidence").notNull(),impactLevel:t("impact_level").notNull(),beforeState:p("before_state").notNull(),afterState:p("after_state"),executionTimeMs:e("execution_time_ms").notNull().default(0),blockchainTxHash:t("blockchain_tx_hash"),rolledBack:_("rolled_back").notNull().default(!1),rollbackReason:t("rollback_reason"),rollbackAt:o("rollback_at"),metricsImprovement:p("metrics_improvement"),createdAt:o("created_at").notNull().defaultNow(),completedAt:o("completed_at")}),Yd=i("governance_prevalidations",{id:a("id").primaryKey().default(c`gen_random_uuid()`),proposalId:a("proposal_id").notNull(),proposalTitle:t("proposal_title").notNull(),proposalType:t("proposal_type").notNull(),aiConfidence:e("ai_confidence").notNull(),aiRecommendation:t("ai_recommendation").notNull(),aiReasoning:t("ai_reasoning").notNull(),riskLevel:t("risk_level").notNull(),riskFactors:p("risk_factors"),economicImpact:p("economic_impact"),securityImpact:p("security_impact"),autoDecision:_("auto_decision").notNull().default(!1),autoDecisionResult:t("auto_decision_result"),validatorNotified:_("validator_notified").notNull().default(!1),validatorVoteRequired:_("validator_vote_required").notNull().default(!0),similarProposals:p("similar_proposals"),analysisTimeMs:e("analysis_time_ms").notNull().default(0),provider:t("provider").notNull(),model:t("model").notNull(),tokensUsed:e("tokens_used").notNull().default(0),costUsd:t("cost_usd").notNull().default("0"),createdAt:o("created_at").notNull().defaultNow(),decidedAt:o("decided_at")}),ti=i("ai_training_jobs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:t("name").notNull(),model:t("model").notNull(),status:t("status").notNull().default("queued"),progress:e("progress").notNull().default(0),eta:t("eta"),dataPoints:t("data_points").notNull().default("0"),epochs:e("epochs").notNull().default(10),currentEpoch:e("current_epoch").notNull().default(0),learningRate:q("learning_rate").notNull().default(.001),batchSize:e("batch_size").notNull().default(32),accuracy:q("accuracy").notNull().default(0),loss:q("loss").notNull().default(0),validationAccuracy:q("validation_accuracy").notNull().default(0),validationLoss:q("validation_loss").notNull().default(0),datasetName:t("dataset_name"),datasetSize:t("dataset_size"),errorMessage:t("error_message"),retryCount:e("retry_count").notNull().default(0),startedAt:o("started_at"),pausedAt:o("paused_at"),completedAt:o("completed_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ei=i("ai_parameters",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configName:t("config_name").notNull().default("default"),isActive:_("is_active").notNull().default(!0),modelConfigs:p("model_configs").notNull().default([]),decisionParams:p("decision_params").notNull().default([]),strategicWeight:e("strategic_weight").notNull().default(50),tacticalWeight:e("tactical_weight").notNull().default(30),operationalWeight:e("operational_weight").notNull().default(20),autoExecuteThreshold:e("auto_execute_threshold").notNull().default(70),humanReviewThreshold:e("human_review_threshold").notNull().default(50),rejectionThreshold:e("rejection_threshold").notNull().default(30),strategicPerHour:e("strategic_per_hour").notNull().default(10),tacticalPerMinute:e("tactical_per_minute").notNull().default(100),operationalPerSecond:e("operational_per_second").notNull().default(1e3),allowEmergencyActions:_("allow_emergency_actions").notNull().default(!0),circuitBreaker:_("circuit_breaker").notNull().default(!0),consensusTimeout:e("consensus_timeout").notNull().default(5e3),retryAttempts:e("retry_attempts").notNull().default(3),backoffMultiplier:q("backoff_multiplier").notNull().default(1.5),cacheTtl:e("cache_ttl").notNull().default(300),createdBy:t("created_by"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ai=i("ai_training_metrics",{id:a("id").primaryKey().default(c`gen_random_uuid()`),jobId:a("job_id").notNull(),epoch:e("epoch").notNull(),trainLoss:q("train_loss").notNull().default(0),validationLoss:q("validation_loss").notNull().default(0),trainAccuracy:q("train_accuracy").notNull().default(0),validationAccuracy:q("validation_accuracy").notNull().default(0),learningRate:q("learning_rate").notNull().default(0),gradientNorm:q("gradient_norm").notNull().default(0),throughputSamplesPerSec:e("throughput_samples_per_sec").notNull().default(0),gpuMemoryUsedMb:e("gpu_memory_used_mb").notNull().default(0),epochDurationMs:e("epoch_duration_ms").notNull().default(0),createdAt:o("created_at").notNull().defaultNow()}),li=i("ai_model_deployments",{id:a("id").primaryKey().default(c`gen_random_uuid()`),modelName:t("model_name").notNull(),version:t("version").notNull(),status:t("status").notNull().default("pending"),environment:t("environment").notNull().default("production"),trainingJobId:a("training_job_id"),baseModel:t("base_model").notNull(),accuracy:q("accuracy").notNull().default(0),latencyMs:e("latency_ms").notNull().default(0),throughputRps:e("throughput_rps").notNull().default(0),memoryMb:e("memory_mb").notNull().default(0),gpuUtilization:e("gpu_utilization").notNull().default(0),healthScore:e("health_score").notNull().default(100),requestCount:h("request_count",{mode:"number"}).notNull().default(0),errorCount:e("error_count").notNull().default(0),trafficPercent:e("traffic_percent").notNull().default(100),isCanary:_("is_canary").notNull().default(!1),previousVersionId:a("previous_version_id"),rollbackCount:e("rollback_count").notNull().default(0),deployedBy:t("deployed_by"),deployedAt:o("deployed_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),oi=i("ai_training_datasets",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:t("name").notNull(),description:t("description"),records:h("records",{mode:"number"}).notNull().default(0),sizeBytes:h("size_bytes",{mode:"number"}).notNull().default(0),format:t("format").notNull().default("jsonl"),qualityScore:e("quality_score").notNull().default(0),completeness:e("completeness").notNull().default(0),consistency:e("consistency").notNull().default(0),duplicateRate:q("duplicate_rate").notNull().default(0),columns:p("columns"),sampleData:p("sample_data"),usedInJobs:e("used_in_jobs").notNull().default(0),lastUsedAt:o("last_used_at"),version:e("version").notNull().default(1),parentDatasetId:a("parent_dataset_id"),tags:t("tags").array(),createdBy:t("created_by"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ni=i("ai_training_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),jobId:a("job_id").notNull(),level:t("level").notNull().default("info"),message:t("message").notNull(),details:p("details"),epoch:e("epoch"),step:e("step"),createdAt:o("created_at").notNull().defaultNow()}),ri=i("shards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),shardId:e("shard_id").notNull().unique(),name:t("name").notNull(),status:t("status").notNull().default("active"),blockHeight:h("block_height",{mode:"number"}).notNull().default(0),transactionCount:e("transaction_count").notNull().default(0),validatorCount:e("validator_count").notNull().default(0),tps:e("tps").notNull().default(0),load:e("load").notNull().default(0),peakTps:e("peak_tps").notNull().default(0),avgBlockTime:e("avg_block_time").notNull().default(0),crossShardTxCount:e("cross_shard_tx_count").notNull().default(0),stateSize:t("state_size").notNull().default("0"),lastSyncedAt:o("last_synced_at"),mlOptimizationScore:e("ml_optimization_score").notNull().default(8500),predictedLoad:e("predicted_load").notNull().default(0),rebalanceCount:e("rebalance_count").notNull().default(0),aiRecommendation:t("ai_recommendation").notNull().default("stable"),profilingScore:e("profiling_score").notNull().default(9e3),capacityUtilization:e("capacity_utilization").notNull().default(5e3)}),ui=i("network_stats",{id:a("id").primaryKey().default("singleton"),currentBlockHeight:h("current_block_height",{mode:"number"}).notNull().default(0),tps:e("tps").notNull().default(0),peakTps:e("peak_tps").notNull().default(0),avgBlockTime:e("avg_block_time").notNull().default(0),blockTimeP99:e("block_time_p99").notNull().default(0),slaUptime:e("sla_uptime").notNull().default(9990),latency:e("latency").notNull().default(0),latencyP99:e("latency_p99").notNull().default(0),activeValidators:e("active_validators").notNull().default(0),totalValidators:e("total_validators").notNull().default(0),totalTransactions:h("total_transactions",{mode:"number"}).notNull().default(0),totalAccounts:e("total_accounts").notNull().default(0),marketCap:t("market_cap").notNull().default("0"),circulatingSupply:t("circulating_supply").notNull().default("0"),successRate:e("success_rate").notNull().default(9970),updatedAt:o("updated_at").notNull().defaultNow(),trendAnalysisScore:e("trend_analysis_score").notNull().default(8500),anomalyDetectionScore:e("anomaly_detection_score").notNull().default(9200),patternMatchingScore:e("pattern_matching_score").notNull().default(8800),timeseriesScore:e("timeseries_score").notNull().default(9e3),healingEventsCount:e("healing_events_count").notNull().default(0),anomaliesDetected:e("anomalies_detected").notNull().default(0),predictedFailureRisk:e("predicted_failure_risk").notNull().default(500),selfHealingStatus:t("self_healing_status").notNull().default("healthy")}),di=i("consensus_rounds",{id:a("id").primaryKey().default(c`gen_random_uuid()`),blockHeight:h("block_height",{mode:"number"}).notNull().unique(),proposerAddress:t("proposer_address").notNull(),currentPhase:e("current_phase").notNull().default(1),prevoteCount:e("prevote_count").notNull().default(0),precommitCount:e("precommit_count").notNull().default(0),totalValidators:e("total_validators").notNull().default(0),requiredQuorum:e("required_quorum").notNull().default(0),avgBlockTimeMs:e("avg_block_time_ms").notNull().default(0),status:t("status").notNull().default("in_progress"),startTime:h("start_time",{mode:"number"}).notNull(),completedTime:h("completed_time",{mode:"number"}),phasesJson:t("phases_json").notNull(),createdAt:o("created_at").notNull().defaultNow()}),ii=i("api_keys",{id:a("id").primaryKey().default(c`gen_random_uuid()`),label:t("label").notNull(),description:t("description"),hashedKey:t("hashed_key").notNull().unique(),keyPrefix:t("key_prefix").notNull().default(""),userId:a("user_id"),environment:t("environment").notNull().default("production"),scopes:t("scopes").array().notNull().default(c`ARRAY['read']::text[]`),expiresAt:o("expires_at"),rateLimitPerMinute:e("rate_limit_per_minute").notNull().default(60),rateLimitPerHour:e("rate_limit_per_hour").notNull().default(1e3),rateLimitPerDay:e("rate_limit_per_day").notNull().default(1e4),ipWhitelist:t("ip_whitelist").array().default(c`ARRAY[]::text[]`),allowedOrigins:t("allowed_origins").array().default(c`ARRAY[]::text[]`),totalRequests:h("total_requests",{mode:"number"}).notNull().default(0),requestsToday:e("requests_today").notNull().default(0),requestsThisMonth:e("requests_this_month").notNull().default(0),lastErrorAt:o("last_error_at"),errorCount:e("error_count").notNull().default(0),isActive:_("is_active").notNull().default(!0),requiresMfa:_("requires_mfa").notNull().default(!1),lastRotatedAt:o("last_rotated_at"),rotationCount:e("rotation_count").notNull().default(0),rotationScheduleDays:e("rotation_schedule_days"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),lastUsedAt:o("last_used_at"),revokedAt:o("revoked_at"),revokedBy:a("revoked_by"),revokeReason:t("revoke_reason")}),si=i("api_key_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),apiKeyId:a("api_key_id").notNull(),action:t("action").notNull().default("used"),endpoint:t("endpoint"),method:t("method"),statusCode:e("status_code"),responseTimeMs:e("response_time_ms").default(0),ipAddress:t("ip_address"),userAgent:t("user_agent"),origin:t("origin"),details:p("details"),requestBody:p("request_body"),errorMessage:t("error_message"),createdAt:o("created_at").notNull().defaultNow()}),ci=i("cross_shard_messages",{id:a("id").primaryKey().default(c`gen_random_uuid()`),messageId:t("message_id").notNull().unique(),fromShardId:e("from_shard_id").notNull(),toShardId:e("to_shard_id").notNull(),transactionHash:t("transaction_hash").notNull(),status:t("status").notNull().default("pending"),messageType:t("message_type").notNull(),payload:p("payload").notNull(),sentAt:o("sent_at").notNull().defaultNow(),confirmedAt:o("confirmed_at"),failedAt:o("failed_at"),retryCount:e("retry_count").notNull().default(0),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),routingPriority:e("routing_priority").notNull().default(5),peerReputation:e("peer_reputation").notNull().default(8e3),networkQuality:e("network_quality").notNull().default(9e3),routeOptimization:t("route_optimization").notNull().default("balanced")}),_i=i("wallet_balances",{id:a("id").primaryKey().default(c`gen_random_uuid()`),address:t("address").notNull().unique(),walletName:t("wallet_name"),ownerId:a("owner_id"),balance:t("balance").notNull().default("0"),stakedBalance:t("staked_balance").notNull().default("0"),unstakedBalance:t("unstaked_balance").notNull().default("0"),rewardsEarned:t("rewards_earned").notNull().default("0"),transactionCount:e("transaction_count").notNull().default(0),lastTransactionAt:o("last_transaction_at"),firstSeenAt:o("first_seen_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),fi=i("delegations",{id:a("id").primaryKey().default(c`gen_random_uuid()`),delegatorAddress:t("delegator_address").notNull(),validatorAddress:t("validator_address").notNull(),amount:t("amount").notNull(),shares:t("shares").notNull(),rewardsClaimed:t("rewards_claimed").notNull().default("0"),delegatedAt:o("delegated_at").notNull().defaultNow(),unbondingEndTime:o("unbonding_end_time"),status:t("status").notNull().default("bonded")}),mi=i("validator_votes",{id:a("id").primaryKey().default(c`gen_random_uuid()`),roundNumber:h("round_number",{mode:"number"}).notNull(),validatorAddress:t("validator_address").notNull(),voteType:t("vote_type").notNull(),votingPower:t("voting_power").notNull(),signature:t("signature").notNull(),timestamp:o("timestamp").notNull().defaultNow(),decision:t("decision").notNull(),reason:t("reason")}),pi=i("committee_snapshots",{id:a("id").primaryKey().default(c`gen_random_uuid()`),epochNumber:h("epoch_number",{mode:"number"}).notNull(),validatorAddress:t("validator_address").notNull(),votingPower:t("voting_power").notNull(),adaptiveWeight:e("adaptive_weight").notNull(),isLeader:_("is_leader").notNull().default(!1),committeeRole:t("committee_role").notNull().default("member"),createdAt:o("created_at").notNull().defaultNow()}),Ni=i("members",{id:a("id").primaryKey().default(c`gen_random_uuid()`),accountAddress:t("account_address").notNull().unique(),publicKey:t("public_key").notNull(),displayName:t("display_name"),legalName:t("legal_name"),entityType:t("entity_type").notNull().default("individual"),jurisdiction:t("jurisdiction"),registrationNumber:t("registration_number"),memberTier:t("member_tier").notNull().default("basic_user"),memberStatus:t("member_status").notNull().default("pending"),kycLevel:t("kyc_level").notNull().default("none"),kycProvider:t("kyc_provider"),kycVerifiedAt:o("kyc_verified_at"),kycExpiryDate:o("kyc_expiry_date"),amlRiskScore:e("aml_risk_score").notNull().default(0),sanctionsCheckPassed:_("sanctions_check_passed").notNull().default(!1),pepStatus:_("pep_status").notNull().default(!1),encryptedEmail:t("encrypted_email"),encryptedPhone:t("encrypted_phone"),passwordHash:t("password_hash"),validatorId:a("validator_id"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),lastActivityAt:o("last_activity_at")}),gi=i("member_profiles",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),bio:t("bio"),avatarUrl:t("avatar_url"),website:t("website"),twitter:t("twitter"),telegram:t("telegram"),discord:t("discord"),github:t("github"),preferredLanguage:t("preferred_language").notNull().default("en"),preferredCurrency:t("preferred_currency").notNull().default("USD"),timezone:t("timezone").notNull().default("UTC"),emailNotifications:_("email_notifications").notNull().default(!0),smsNotifications:_("sms_notifications").notNull().default(!1),pushNotifications:_("push_notifications").notNull().default(!0),referralCode:t("referral_code").unique(),referredBy:t("referred_by"),referralCount:e("referral_count").notNull().default(0),referralRewardsEarned:t("referral_rewards_earned").notNull().default("0"),updatedAt:o("updated_at").notNull().defaultNow()}),yi=i("member_staking_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),stakingType:t("staking_type").notNull(),validatorAddress:t("validator_address"),amount:t("amount").notNull(),shares:t("shares").notNull().default("0"),stakedAt:o("staked_at").notNull().defaultNow(),lockPeriod:e("lock_period").notNull().default(0),unlockAt:o("unlock_at"),autoCompound:_("auto_compound").notNull().default(!1),tierBonus:e("tier_bonus").notNull().default(0),status:t("status").notNull().default("active"),accumulatedRewards:t("accumulated_rewards").notNull().default("0"),claimedRewards:t("claimed_rewards").notNull().default("0"),lastClaimAt:o("last_claim_at")}),hi=i("member_governance_profiles",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),votingPower:t("voting_power").notNull().default("0"),delegatedVotingPower:t("delegated_voting_power").notNull().default("0"),proposalsCreated:e("proposals_created").notNull().default(0),proposalsPassed:e("proposals_passed").notNull().default(0),proposalsRejected:e("proposals_rejected").notNull().default(0),totalVotesCast:e("total_votes_cast").notNull().default(0),votesFor:e("votes_for").notNull().default(0),votesAgainst:e("votes_against").notNull().default(0),votesAbstain:e("votes_abstain").notNull().default(0),votingParticipationRate:e("voting_participation_rate").notNull().default(0),delegatedTo:t("delegated_to"),delegatedFrom:p("delegated_from").notNull().default([]),reputationScore:e("reputation_score").notNull().default(5e3),contributionLevel:t("contribution_level").notNull().default("observer"),lastVoteAt:o("last_vote_at"),lastProposalAt:o("last_proposal_at")}),Ai=i("member_financial_profiles",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),totalBalance:t("total_balance").notNull().default("0"),availableBalance:t("available_balance").notNull().default("0"),lockedBalance:t("locked_balance").notNull().default("0"),stakedBalance:t("staked_balance").notNull().default("0"),totalTransactions:h("total_transactions",{mode:"number"}).notNull().default(0),totalSent:t("total_sent").notNull().default("0"),totalReceived:t("total_received").notNull().default("0"),totalFeesPaid:t("total_fees_paid").notNull().default("0"),validatorRewards:t("validator_rewards").notNull().default("0"),stakingRewards:t("staking_rewards").notNull().default("0"),delegationRewards:t("delegation_rewards").notNull().default("0"),referralRewards:t("referral_rewards").notNull().default("0"),totalSlashed:t("total_slashed").notNull().default("0"),slashCount:e("slash_count").notNull().default(0),taxReportingEnabled:_("tax_reporting_enabled").notNull().default(!1),taxJurisdiction:t("tax_jurisdiction"),firstTransactionAt:o("first_transaction_at"),lastTransactionAt:o("last_transaction_at"),updatedAt:o("updated_at").notNull().defaultNow()}),bi=i("member_security_profiles",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),twoFactorEnabled:_("two_factor_enabled").notNull().default(!1),multiSigEnabled:_("multi_sig_enabled").notNull().default(!1),requiredConfirmations:e("required_confirmations").notNull().default(1),ipWhitelist:p("ip_whitelist").notNull().default([]),allowedRegions:p("allowed_regions").notNull().default([]),maxSessionDuration:e("max_session_duration").notNull().default(86400),failedLoginAttempts:e("failed_login_attempts").notNull().default(0),lastFailedLogin:o("last_failed_login"),lastKeyRotation:o("last_key_rotation"),nextKeyRotationDue:o("next_key_rotation_due"),riskScore:e("risk_score").notNull().default(0),lastRiskAssessment:o("last_risk_assessment").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),vi=i("member_performance_metrics",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),validatorAddress:t("validator_address"),currentUptime:e("current_uptime").notNull().default(0),currentTps:e("current_tps").notNull().default(0),currentLatencyMs:e("current_latency_ms").notNull().default(0),slaComplianceRate:e("sla_compliance_rate").notNull().default(0),downtimeIncidents:e("downtime_incidents").notNull().default(0),performanceGrade:t("performance_grade").notNull().default("B"),performanceScore:e("performance_score").notNull().default(5e3),performanceRank:e("performance_rank"),metricsUpdatedAt:o("metrics_updated_at").notNull().defaultNow()}),wi=i("member_slash_events",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),validatorAddress:t("validator_address"),slashType:t("slash_type").notNull(),amount:t("amount").notNull(),reason:t("reason").notNull(),evidenceHash:t("evidence_hash"),appealStatus:t("appeal_status").notNull().default("none"),appealDeadline:o("appeal_deadline"),occurredAt:o("occurred_at").notNull().defaultNow()}),ki=i("member_audit_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),action:t("action").notNull(),resource:t("resource").notNull(),resourceId:t("resource_id"),oldValue:p("old_value"),newValue:p("new_value"),actor:t("actor").notNull(),actorType:t("actor_type").notNull().default("system"),ipAddress:t("ip_address"),userAgent:t("user_agent"),status:t("status").notNull().default("success"),errorMessage:t("error_message"),metadata:p("metadata"),createdAt:o("created_at").notNull().defaultNow()}),Si=i("email_verifications",{id:a("id").primaryKey().default(c`gen_random_uuid()`),email:t("email").notNull(),verificationCode:t("verification_code").notNull(),type:t("type").notNull(),expiresAt:o("expires_at").notNull(),verified:_("verified").notNull().default(!1),attempts:e("attempts").notNull().default(0),createdAt:o("created_at").notNull().defaultNow()});s(Si).omit({id:!0,verified:!0,attempts:!0,createdAt:!0});const Ti=i("admin_audit_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),operatorId:a("operator_id").notNull(),operatorIp:t("operator_ip"),operatorUserAgent:t("operator_user_agent"),sessionId:a("session_id"),actionType:t("action_type").notNull(),actionCategory:t("action_category").notNull(),resource:t("resource").notNull(),resourceId:t("resource_id"),previousState:p("previous_state"),newState:p("new_state"),reason:t("reason"),metadata:p("metadata"),status:t("status").notNull().default("success"),errorMessage:t("error_message"),riskLevel:t("risk_level").notNull().default("low"),requiresReview:_("requires_review").notNull().default(!1),reviewedBy:a("reviewed_by"),reviewedAt:o("reviewed_at"),createdAt:o("created_at").notNull().defaultNow()}),xi=i("security_events",{id:a("id").primaryKey().default(c`gen_random_uuid()`),eventType:t("event_type").notNull(),severity:t("severity").notNull().default("info"),targetType:t("target_type").notNull(),targetId:a("target_id"),targetAddress:t("target_address"),sourceIp:t("source_ip"),sourceUserAgent:t("source_user_agent"),sourceGeo:p("source_geo"),description:t("description").notNull(),evidence:p("evidence"),metadata:p("metadata"),status:t("status").notNull().default("open"),resolvedBy:a("resolved_by"),resolvedAt:o("resolved_at"),resolution:t("resolution"),occurredAt:o("occurred_at").notNull().defaultNow(),detectedAt:o("detected_at").notNull().defaultNow()}),Pi=i("compliance_reports",{id:a("id").primaryKey().default(c`gen_random_uuid()`),reportType:t("report_type").notNull(),reportPeriod:t("report_period").notNull(),periodStart:o("period_start").notNull(),periodEnd:o("period_end").notNull(),jurisdiction:t("jurisdiction").notNull(),regulatoryBody:t("regulatory_body"),summary:p("summary").notNull(),details:p("details"),attachments:p("attachments").notNull().default([]),status:t("status").notNull().default("draft"),generatedBy:a("generated_by").notNull(),reviewedBy:a("reviewed_by"),reviewedAt:o("reviewed_at"),approvedBy:a("approved_by"),approvedAt:o("approved_at"),submittedAt:o("submitted_at"),reviewNotes:t("review_notes"),rejectionReason:t("rejection_reason"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ii=i("validator_applications",{id:a("id").primaryKey().default(c`gen_random_uuid()`),applicantMemberId:a("applicant_member_id").notNull(),applicantAddress:t("applicant_address").notNull(),applicantName:t("applicant_name").notNull(),applicationType:t("application_type").notNull(),requestedTier:t("requested_tier").notNull(),proposedCommission:e("proposed_commission").notNull().default(500),proposedStake:t("proposed_stake").notNull(),stakeSource:t("stake_source").notNull(),hardwareSpecs:p("hardware_specs").notNull(),networkEndpoints:p("network_endpoints").notNull(),geographicLocation:p("geographic_location").notNull(),documents:p("documents").notNull().default([]),status:t("status").notNull().default("pending"),assignedTo:a("assigned_to"),reviewNotes:t("review_notes"),rejectionReason:t("rejection_reason"),approvalConditions:p("approval_conditions"),conditionsMet:_("conditions_met").notNull().default(!1),submittedAt:o("submitted_at").notNull().defaultNow(),reviewStartedAt:o("review_started_at"),decidedAt:o("decided_at"),decidedBy:a("decided_by"),activatedAt:o("activated_at"),validatorId:a("validator_id")}),Ci=i("operator_sessions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),operatorId:a("operator_id").notNull(),sessionToken:t("session_token").notNull().unique(),ipAddress:t("ip_address").notNull(),userAgent:t("user_agent"),geoLocation:p("geo_location"),twoFactorVerified:_("two_factor_verified").notNull().default(!1),twoFactorMethod:t("two_factor_method"),isActive:_("is_active").notNull().default(!0),lastActivityAt:o("last_activity_at").notNull().defaultNow(),expiresAt:o("expires_at").notNull(),terminatedAt:o("terminated_at"),terminationReason:t("termination_reason"),createdAt:o("created_at").notNull().defaultNow()}),qi=i("member_documents",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),documentType:t("document_type").notNull(),documentName:t("document_name").notNull(),encryptedFileHash:t("encrypted_file_hash").notNull(),encryptedStoragePath:t("encrypted_storage_path").notNull(),mimeType:t("mime_type").notNull(),fileSize:e("file_size").notNull(),verificationStatus:t("verification_status").notNull().default("pending"),verifiedBy:a("verified_by"),verifiedAt:o("verified_at"),rejectionReason:t("rejection_reason"),expiryDate:o("expiry_date"),isExpired:_("is_expired").notNull().default(!1),accessLog:p("access_log").notNull().default([]),uploadedAt:o("uploaded_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ri=i("restart_sessions",{id:a("id").primaryKey().default("singleton"),isRestarting:_("is_restarting").notNull().default(!1),restartInitiatedAt:o("restart_initiated_at"),expectedRestartTime:e("expected_restart_time").notNull().default(6e4),lastHealthCheck:o("last_health_check"),isHealthy:_("is_healthy").notNull().default(!1),sessionId:a("session_id"),phase:a("phase").notNull().default("idle"),phaseStartTime:o("phase_start_time"),phaseMessage:t("phase_message"),progressPercentage:e("progress_percentage").notNull().default(0),initiatingTime:o("initiating_time"),shuttingDownTime:o("shutting_down_time"),restartingTime:o("restarting_time"),reconnectingTime:o("reconnecting_time"),validatingTime:o("validating_time"),completedTime:o("completed_time"),failedTime:o("failed_time"),failureReason:t("failure_reason"),postRestartTps:e("post_restart_tps"),postRestartBlockHeight:e("post_restart_block_height"),postRestartValidators:e("post_restart_validators"),updatedAt:o("updated_at").notNull().defaultNow()}),Di=i("member_notes",{id:a("id").primaryKey().default(c`gen_random_uuid()`),memberId:a("member_id").notNull(),operatorId:a("operator_id").notNull(),noteType:t("note_type").notNull().default("general"),title:t("title").notNull(),content:t("content").notNull(),priority:t("priority").notNull().default("normal"),isPrivate:_("is_private").notNull().default(!1),isPinned:_("is_pinned").notNull().default(!1),requiresFollowUp:_("requires_follow_up").notNull().default(!1),followUpDate:o("follow_up_date"),followUpCompleted:_("follow_up_completed").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ui=i("ip_blocklist",{id:a("id").primaryKey().default(c`gen_random_uuid()`),ipAddress:t("ip_address").notNull(),ipRange:t("ip_range"),reason:t("reason").notNull(),blockType:t("block_type").notNull().default("permanent"),severity:t("severity").notNull().default("medium"),relatedSecurityEventId:a("related_security_event_id"),relatedMemberId:a("related_member_id"),expiresAt:o("expires_at"),isActive:_("is_active").notNull().default(!0),blockedBy:a("blocked_by").notNull(),unblockedBy:a("unblocked_by"),unblockedAt:o("unblocked_at"),unblockReason:t("unblock_reason"),hitCount:e("hit_count").notNull().default(0),lastHitAt:o("last_hit_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Bi=i("system_health_snapshots",{id:a("id").primaryKey().default(c`gen_random_uuid()`),tps:e("tps").notNull().default(0),blockHeight:h("block_height",{mode:"number"}).notNull().default(0),avgBlockTime:e("avg_block_time").notNull().default(0),latency:e("latency").notNull().default(0),activeValidators:e("active_validators").notNull().default(0),totalValidators:e("total_validators").notNull().default(0),validatorUptime:e("validator_uptime").notNull().default(1e4),cpuUsage:e("cpu_usage").notNull().default(0),memoryUsage:e("memory_usage").notNull().default(0),diskUsage:e("disk_usage").notNull().default(0),networkBandwidth:e("network_bandwidth").notNull().default(0),peerCount:e("peer_count").notNull().default(0),pendingTxCount:e("pending_tx_count").notNull().default(0),mempoolSize:e("mempool_size").notNull().default(0),overallHealthScore:e("overall_health_score").notNull().default(1e4),networkHealthScore:e("network_health_score").notNull().default(1e4),consensusHealthScore:e("consensus_health_score").notNull().default(1e4),storageHealthScore:e("storage_health_score").notNull().default(1e4),status:t("status").notNull().default("healthy"),alerts:p("alerts").notNull().default([]),snapshotAt:o("snapshot_at").notNull().defaultNow()}),Ki=i("alert_queue",{id:a("id").primaryKey().default(c`gen_random_uuid()`),alertType:t("alert_type").notNull(),severity:t("severity").notNull().default("medium"),title:t("title").notNull(),message:t("message").notNull(),sourceType:t("source_type").notNull(),sourceId:a("source_id"),targetType:t("target_type"),targetId:a("target_id"),status:t("status").notNull().default("active"),acknowledgedBy:a("acknowledged_by"),acknowledgedAt:o("acknowledged_at"),resolvedBy:a("resolved_by"),resolvedAt:o("resolved_at"),resolution:t("resolution"),priority:e("priority").notNull().default(50),requiresImmediateAction:_("requires_immediate_action").notNull().default(!1),escalationLevel:e("escalation_level").notNull().default(0),escalatedAt:o("escalated_at"),autoEscalateAfter:o("auto_escalate_after"),metadata:p("metadata").notNull().default({}),actionsTaken:p("actions_taken").notNull().default([]),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Vi=i("validator_performance_history",{id:a("id").primaryKey().default(c`gen_random_uuid()`),validatorAddress:t("validator_address").notNull(),uptime:e("uptime").notNull().default(1e4),blocksProduced:e("blocks_produced").notNull().default(0),blocksMissed:e("blocks_missed").notNull().default(0),avgBlockTime:e("avg_block_time").notNull().default(0),totalStake:t("total_stake").notNull().default("0"),delegatedStake:t("delegated_stake").notNull().default("0"),delegatorCount:e("delegator_count").notNull().default(0),rewardsEarned:t("rewards_earned").notNull().default("0"),commissionsEarned:t("commissions_earned").notNull().default("0"),latency:e("latency").notNull().default(0),peerCount:e("peer_count").notNull().default(0),aiTrustScore:e("ai_trust_score").notNull().default(7500),behaviorScore:e("behavior_score").notNull().default(9500),reputationScore:e("reputation_score").notNull().default(8500),slashEvents:e("slash_events").notNull().default(0),totalSlashed:t("total_slashed").notNull().default("0"),periodStart:o("period_start").notNull(),periodEnd:o("period_end").notNull(),periodType:t("period_type").notNull().default("hourly"),createdAt:o("created_at").notNull().defaultNow()}),zi=i("report_schedules",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:t("name").notNull(),description:t("description"),reportType:t("report_type").notNull(),scheduleType:t("schedule_type").notNull().default("manual"),cronExpression:t("cron_expression"),timezone:t("timezone").notNull().default("UTC"),parameters:p("parameters").notNull().default({}),jurisdiction:t("jurisdiction").notNull().default("global"),outputFormat:t("output_format").notNull().default("pdf"),deliveryMethod:t("delivery_method").notNull().default("download"),deliveryConfig:p("delivery_config").notNull().default({}),isActive:_("is_active").notNull().default(!0),lastRunAt:o("last_run_at"),lastRunStatus:t("last_run_status"),lastRunReportId:a("last_run_report_id"),nextRunAt:o("next_run_at"),totalRuns:e("total_runs").notNull().default(0),successfulRuns:e("successful_runs").notNull().default(0),failedRuns:e("failed_runs").notNull().default(0),createdBy:a("created_by").notNull(),updatedBy:a("updated_by"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Mi=i("hardware_verification_checklists",{id:a("id").primaryKey().default(c`gen_random_uuid()`),validatorApplicationId:a("validator_application_id").notNull(),validatorAddress:t("validator_address"),cpuSpecsVerified:_("cpu_specs_verified").notNull().default(!1),cpuNotes:t("cpu_notes"),memorySpecsVerified:_("memory_specs_verified").notNull().default(!1),memoryNotes:t("memory_notes"),storageSpecsVerified:_("storage_specs_verified").notNull().default(!1),storageNotes:t("storage_notes"),networkSpecsVerified:_("network_specs_verified").notNull().default(!1),networkNotes:t("network_notes"),bandwidthTestResult:e("bandwidth_test_result"),latencyTestResult:e("latency_test_result"),securityConfigVerified:_("security_config_verified").notNull().default(!1),securityNotes:t("security_notes"),firewallConfigured:_("firewall_configured").notNull().default(!1),sslCertificateValid:_("ssl_certificate_valid").notNull().default(!1),uptimeGuaranteeVerified:_("uptime_guarantee_verified").notNull().default(!1),uptimeNotes:t("uptime_notes"),redundancyConfigured:_("redundancy_configured").notNull().default(!1),geographicLocationVerified:_("geographic_location_verified").notNull().default(!1),geographicNotes:t("geographic_notes"),overallStatus:t("overall_status").notNull().default("pending"),overallScore:e("overall_score"),reviewedBy:a("reviewed_by"),reviewedAt:o("reviewed_at"),reviewNotes:t("review_notes"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Li=i("deployed_tokens",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:t("name").notNull(),symbol:t("symbol").notNull(),contractAddress:t("contract_address").notNull().unique(),standard:t("standard").notNull(),totalSupply:t("total_supply").notNull(),decimals:e("decimals").notNull().default(18),initialSupply:t("initial_supply"),maxSupply:t("max_supply"),mintable:_("mintable").notNull().default(!1),burnable:_("burnable").notNull().default(!0),pausable:_("pausable").notNull().default(!1),baseUri:t("base_uri"),maxTokens:e("max_tokens"),royaltyPercentage:e("royalty_percentage").default(0),royaltyRecipient:t("royalty_recipient"),tokenTypes:p("token_types"),aiOptimizationEnabled:_("ai_optimization_enabled").notNull().default(!0),aiBurnOptimization:_("ai_burn_optimization").notNull().default(!1),aiPriceOracle:_("ai_price_oracle").notNull().default(!1),aiSupplyManagement:_("ai_supply_management").notNull().default(!1),quantumResistant:_("quantum_resistant").notNull().default(!0),mevProtection:_("mev_protection").notNull().default(!0),zkPrivacy:_("zk_privacy").notNull().default(!1),deployerAddress:t("deployer_address").notNull(),deploymentTxHash:t("deployment_tx_hash").notNull(),deployedAt:o("deployed_at").notNull().defaultNow(),holders:e("holders").notNull().default(0),transactionCount:e("transaction_count").notNull().default(0),volume24h:t("volume_24h").notNull().default("0"),verified:_("verified").notNull().default(!1),status:t("status").notNull().default("active"),deploymentSource:t("deployment_source").notNull().default("token-system"),deploymentMode:t("deployment_mode").notNull().default("simulation"),blockNumber:e("block_number"),securityScore:e("security_score"),updatedAt:o("updated_at").notNull().defaultNow()});s(Fd).omit({id:!0});s(Ed).omit({id:!0});s(jd).omit({id:!0,createdAt:!0,updatedAt:!0});s(Hd).omit({id:!0,joinedAt:!0,lastActiveAt:!0});s(Gd).omit({id:!0,deployedAt:!0});s(Zd).omit({id:!0,lastUsed:!0});const Fi=s(Wd).omit({id:!0,createdAt:!0,executedAt:!0});s(Xd).omit({id:!0,createdAt:!0});s(Jd).omit({id:!0,createdAt:!0,completedAt:!0,rollbackAt:!0});s(Yd).omit({id:!0,createdAt:!0,decidedAt:!0});s(ti).omit({id:!0,createdAt:!0,updatedAt:!0,startedAt:!0,pausedAt:!0,completedAt:!0});s(ai).omit({id:!0,createdAt:!0});s(li).omit({id:!0,createdAt:!0,updatedAt:!0,deployedAt:!0});s(oi).omit({id:!0,createdAt:!0,updatedAt:!0,lastUsedAt:!0});s(ni).omit({id:!0,createdAt:!0});s(ei).omit({id:!0,createdAt:!0,updatedAt:!0});const Ei=s(ri).omit({id:!0,lastSyncedAt:!0});s(ui).omit({id:!0,updatedAt:!0});const ji=s(di).omit({id:!0,createdAt:!0});s(ii).omit({id:!0,createdAt:!0,updatedAt:!0,lastUsedAt:!0,revokedAt:!0,revokedBy:!0,revokeReason:!0,lastRotatedAt:!0,lastErrorAt:!0,totalRequests:!0,requestsToday:!0,requestsThisMonth:!0,errorCount:!0});s(si).omit({id:!0,createdAt:!0});const Hi=s(ci).omit({id:!0,sentAt:!0,confirmedAt:!0,failedAt:!0}),Qi=s(_i).omit({id:!0,firstSeenAt:!0,updatedAt:!0,lastTransactionAt:!0});s(fi).omit({id:!0,delegatedAt:!0});s(mi).omit({id:!0,timestamp:!0});s(pi).omit({id:!0,createdAt:!0});s(Ni).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivityAt:!0});s(gi).omit({id:!0,updatedAt:!0});s(yi).omit({id:!0,stakedAt:!0,lastClaimAt:!0});s(hi).omit({id:!0,lastVoteAt:!0,lastProposalAt:!0});s(Ai).omit({id:!0,updatedAt:!0,firstTransactionAt:!0,lastTransactionAt:!0});s(bi).omit({id:!0,updatedAt:!0,lastFailedLogin:!0,lastKeyRotation:!0,nextKeyRotationDue:!0,lastRiskAssessment:!0});s(vi).omit({id:!0,metricsUpdatedAt:!0});s(wi).omit({id:!0,occurredAt:!0});s(ki).omit({id:!0,createdAt:!0});s(Ri).omit({updatedAt:!0});s(Ti).omit({id:!0,createdAt:!0,reviewedAt:!0});s(xi).omit({id:!0,occurredAt:!0,detectedAt:!0,resolvedAt:!0});s(Pi).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0,approvedAt:!0,submittedAt:!0});s(Ii).omit({id:!0,submittedAt:!0,reviewStartedAt:!0,decidedAt:!0,activatedAt:!0});s(Ci).omit({id:!0,createdAt:!0,lastActivityAt:!0,terminatedAt:!0});s(qi).omit({id:!0,uploadedAt:!0,updatedAt:!0,verifiedAt:!0});s(Di).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ui).omit({id:!0,createdAt:!0,updatedAt:!0,lastHitAt:!0,unblockedAt:!0});s(Bi).omit({id:!0,snapshotAt:!0});s(Ki).omit({id:!0,createdAt:!0,updatedAt:!0,acknowledgedAt:!0,resolvedAt:!0,escalatedAt:!0});s(Vi).omit({id:!0,createdAt:!0});s(zi).omit({id:!0,createdAt:!0,updatedAt:!0,lastRunAt:!0,nextRunAt:!0});s(Mi).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0});s(Li).omit({id:!0,deployedAt:!0,updatedAt:!0});const Oi=Fi.extend({id:x(),band:x().optional(),modelName:x().optional(),decision:x().optional(),impact:x().optional(),category:x().optional(),createdAt:x().or(M()).optional(),executedAt:x().or(M()).optional()}).partial(),$i=Hi.extend({id:x(),sentAt:x().or(M()),confirmedAt:x().or(M()).optional(),failedAt:x().or(M()).optional()}),Gi=Qi.extend({id:x(),firstSeenAt:x().or(M()).optional(),updatedAt:x().or(M()).optional(),lastTransactionAt:x().or(M()).nullish()}),Zi=ji.extend({id:x(),createdAt:x().or(M())}),Wi=Ei.extend({id:x(),lastSyncedAt:x().or(M()).nullish()}),e_=F(Oi),a_=F($i);F(Gi);F(Zi);const l_=F(Wi),Xi=i("staking_pools",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:t("name").notNull(),symbol:t("symbol").notNull(),poolType:t("pool_type").notNull().default("public"),tier:t("tier").notNull().default("bronze"),status:t("status").notNull().default("active"),minStake:t("min_stake").notNull().default("1000000000000000000"),maxStake:t("max_stake"),maxTotalStake:t("max_total_stake"),validatorId:a("validator_id"),validatorAddress:t("validator_address"),validatorName:t("validator_name"),lockPeriod:t("lock_period").notNull().default("30days"),lockPeriodDays:e("lock_period_days").notNull().default(30),rewardType:t("reward_type").notNull().default("fixed"),rewardFrequency:t("reward_frequency").notNull().default("daily"),baseApy:e("base_apy").notNull().default(1200),maxApy:e("max_apy").notNull().default(2500),apyBoost:e("apy_boost").notNull().default(0),entryFee:e("entry_fee").notNull().default(0),exitFee:e("exit_fee").notNull().default(50),performanceFee:e("performance_fee").notNull().default(1e3),earlyWithdrawalPenalty:e("early_withdrawal_penalty").notNull().default(500),autoCompoundEnabled:_("auto_compound_enabled").notNull().default(!0),compoundFrequencyHours:e("compound_frequency_hours").notNull().default(24),totalStaked:t("total_staked").notNull().default("0"),totalRewards:t("total_rewards").notNull().default("0"),totalStakers:e("total_stakers").notNull().default(0),totalValidators:e("total_validators").notNull().default(0),currentApy:e("current_apy").notNull().default(1200),description:t("description"),logoUrl:t("logo_url"),websiteUrl:t("website_url"),termsUrl:t("terms_url"),auditReportUrl:t("audit_report_url"),whitelistEnabled:_("whitelist_enabled").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),lastRewardUpdate:o("last_reward_update")}),Ji=i("staking_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),stakerAddress:t("staker_address").notNull(),stakedAmount:t("staked_amount").notNull(),tier:t("tier").notNull().default("bronze"),rewardsEarned:t("rewards_earned").notNull().default("0"),rewardsClaimed:t("rewards_claimed").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),autoCompound:_("auto_compound").notNull().default(!1),lastCompoundAt:o("last_compound_at"),lockPeriod:t("lock_period").notNull(),unlockAt:o("unlock_at"),delegatedValidatorId:a("delegated_validator_id"),status:t("status").notNull().default("active"),stakedAt:o("staked_at").notNull().defaultNow(),lastActionAt:o("last_action_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Yi=i("staking_delegations",{id:a("id").primaryKey().default(c`gen_random_uuid()`),delegatorAddress:t("delegator_address").notNull(),validatorId:a("validator_id").notNull(),poolId:a("pool_id"),amount:t("amount").notNull(),shares:t("shares").notNull().default("0"),status:t("status").notNull().default("active"),unbondingStartAt:o("unbonding_start_at"),unbondingEndAt:o("unbonding_end_at"),redelegatingToValidatorId:a("redelegating_to_validator_id"),redelegationCompleteAt:o("redelegation_complete_at"),rewardsEarned:t("rewards_earned").notNull().default("0"),rewardsClaimed:t("rewards_claimed").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),slashedAmount:t("slashed_amount").notNull().default("0"),slashCount:e("slash_count").notNull().default(0),delegatedAt:o("delegated_at").notNull().defaultNow(),lastActionAt:o("last_action_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ts=i("unbonding_requests",{id:a("id").primaryKey().default(c`gen_random_uuid()`),delegationId:a("delegation_id").notNull(),delegatorAddress:t("delegator_address").notNull(),validatorId:a("validator_id").notNull(),amount:t("amount").notNull(),startedAt:o("started_at").notNull().defaultNow(),completesAt:o("completes_at").notNull(),status:t("status").notNull().default("pending"),completedAt:o("completed_at"),createdAt:o("created_at").notNull().defaultNow()}),es=i("reward_cycles",{id:a("id").primaryKey().default(c`gen_random_uuid()`),cycleNumber:e("cycle_number").notNull().unique(),poolId:a("pool_id"),startedAt:o("started_at").notNull(),endedAt:o("ended_at"),durationHours:e("duration_hours").notNull().default(24),totalRewards:t("total_rewards").notNull().default("0"),distributedRewards:t("distributed_rewards").notNull().default("0"),treasurySplit:t("treasury_split").notNull().default("0"),validatorFees:t("validator_fees").notNull().default("0"),totalStakersRewarded:e("total_stakers_rewarded").notNull().default(0),averageRewardPerStaker:t("average_reward_per_staker").notNull().default("0"),status:t("status").notNull().default("active"),createdAt:o("created_at").notNull().defaultNow()}),as=i("reward_events",{id:a("id").primaryKey().default(c`gen_random_uuid()`),cycleId:a("cycle_id").notNull(),recipientAddress:t("recipient_address").notNull(),poolId:a("pool_id"),validatorId:a("validator_id"),rewardType:t("reward_type").notNull(),amount:t("amount").notNull(),tierMultiplier:e("tier_multiplier").notNull().default(1e4),status:t("status").notNull().default("pending"),distributedAt:o("distributed_at"),claimedAt:o("claimed_at"),createdAt:o("created_at").notNull().defaultNow()}),ls=i("slashing_events",{id:a("id").primaryKey().default(c`gen_random_uuid()`),validatorId:a("validator_id").notNull(),reason:t("reason").notNull(),severity:t("severity").notNull(),slashPercentage:e("slash_percentage").notNull(),totalSlashed:t("total_slashed").notNull(),affectedDelegators:e("affected_delegators").notNull().default(0),evidence:p("evidence"),blockNumber:h("block_number",{mode:"number"}),status:t("status").notNull().default("executed"),occurredAt:o("occurred_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()}),os=i("pool_whitelist",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),address:t("address").notNull(),addedBy:t("added_by").notNull(),addedAt:o("added_at").notNull().defaultNow()}),ns=i("staking_stats",{id:a("id").primaryKey().default("singleton"),totalValueLocked:t("total_value_locked").notNull().default("0"),totalRewardsDistributed:t("total_rewards_distributed").notNull().default("0"),totalStakers:e("total_stakers").notNull().default(0),totalPools:e("total_pools").notNull().default(0),averageApy:e("average_apy").notNull().default(0),highestApy:e("highest_apy").notNull().default(0),lowestApy:e("lowest_apy").notNull().default(0),bronzeStakers:e("bronze_stakers").notNull().default(0),silverStakers:e("silver_stakers").notNull().default(0),goldStakers:e("gold_stakers").notNull().default(0),platinumStakers:e("platinum_stakers").notNull().default(0),diamondStakers:e("diamond_stakers").notNull().default(0),currentRewardCycle:e("current_reward_cycle").notNull().default(0),lastRewardDistribution:o("last_reward_distribution"),updatedAt:o("updated_at").notNull().defaultNow()});s(Xi).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ji).omit({id:!0,createdAt:!0,updatedAt:!0});s(Yi).omit({id:!0,createdAt:!0,updatedAt:!0});s(ts).omit({id:!0,createdAt:!0});s(es).omit({id:!0,createdAt:!0});s(as).omit({id:!0,createdAt:!0});s(ls).omit({id:!0,createdAt:!0});s(os).omit({id:!0,addedAt:!0});s(ns).omit({updatedAt:!0});const rs=i("staking_tier_config",{id:a("id").primaryKey(),tier:t("tier").notNull().unique(),displayName:t("display_name").notNull(),minApy:e("min_apy").notNull(),maxApy:e("max_apy").notNull(),apyMultiplier:e("apy_multiplier").notNull().default(1e4),minLockDays:e("min_lock_days").notNull(),maxLockDays:e("max_lock_days").notNull(),minStakeWei:t("min_stake_wei").notNull(),maxStakeWei:t("max_stake_wei"),earlyAdopterBonus:e("early_adopter_bonus").notNull().default(0),loyaltyBonus:e("loyalty_bonus").notNull().default(0),feeDiscount:e("fee_discount").notNull().default(0),priorityRewards:_("priority_rewards").notNull().default(!1),governanceWeight:e("governance_weight").notNull().default(1),color:t("color").notNull().default("#CD7F32"),iconUrl:t("icon_url"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),us=i("pool_validator_assignments",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),validatorId:a("validator_id").notNull(),allocationWeight:e("allocation_weight").notNull().default(1e4),status:t("status").notNull().default("active"),totalDelegated:t("total_delegated").notNull().default("0"),rewardsGenerated:t("rewards_generated").notNull().default("0"),assignedAt:o("assigned_at").notNull().defaultNow(),lastRewardAt:o("last_reward_at")}),ds=i("staking_audit_logs",{id:a("id").primaryKey().default(c`gen_random_uuid()`),action:t("action").notNull(),actorAddress:t("actor_address").notNull(),actorType:t("actor_type").notNull().default("user"),targetType:t("target_type").notNull(),targetId:a("target_id").notNull(),previousValue:p("previous_value"),newValue:p("new_value"),amount:t("amount"),txHash:t("tx_hash"),blockNumber:h("block_number",{mode:"number"}),ipAddress:t("ip_address"),userAgent:t("user_agent"),requestId:t("request_id"),status:t("status").notNull().default("success"),errorMessage:t("error_message"),createdAt:o("created_at").notNull().defaultNow()}),is=i("staking_snapshots",{id:a("id").primaryKey().default(c`gen_random_uuid()`),snapshotType:t("snapshot_type").notNull(),snapshotAt:o("snapshot_at").notNull(),epochNumber:e("epoch_number"),totalValueLocked:t("total_value_locked").notNull(),totalStakers:e("total_stakers").notNull(),totalPools:e("total_pools").notNull(),totalValidators:e("total_validators").notNull(),averageApy:e("average_apy").notNull(),weightedApy:e("weighted_apy").notNull(),rewardsDistributed:t("rewards_distributed").notNull(),newStakes:t("new_stakes").notNull(),withdrawals:t("withdrawals").notNull(),poolMetrics:p("pool_metrics"),tierDistribution:p("tier_distribution"),validatorMetrics:p("validator_metrics"),createdAt:o("created_at").notNull().defaultNow()}),ss=i("staking_ai_assessments",{id:a("id").primaryKey().default(c`gen_random_uuid()`),assessmentType:t("assessment_type").notNull(),targetType:t("target_type").notNull(),targetId:a("target_id").notNull(),aiModel:t("ai_model").notNull(),modelVersion:t("model_version"),riskScore:e("risk_score").notNull(),riskLevel:t("risk_level").notNull(),confidenceScore:e("confidence_score").notNull(),predictedApy:e("predicted_apy"),predictedRisk:p("predicted_risk"),analysisFactors:p("analysis_factors"),recommendations:p("recommendations"),validUntil:o("valid_until").notNull(),isActive:_("is_active").notNull().default(!0),assessedAt:o("assessed_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()});s(rs).omit({createdAt:!0,updatedAt:!0});s(us).omit({id:!0,assignedAt:!0});s(ds).omit({id:!0,createdAt:!0});s(is).omit({id:!0,createdAt:!0});s(ss).omit({id:!0,createdAt:!0});const cs=dt({number:V(),label:x(),time:x(),status:No(["completed","active","pending"])}),o_=dt({currentPhase:V(),phases:F(cs),proposer:x(),blockHeight:V(),prevoteCount:V(),precommitCount:V(),totalValidators:V(),participatingValidators:V().optional(),participationRate:V().optional(),requiredQuorum:V(),avgBlockTimeMs:V(),startTime:V(),consensusType:x().optional(),consensusDescription:x().optional()}),_s=i("dex_pools",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:t("name").notNull(),symbol:t("symbol").notNull(),contractAddress:t("contract_address").notNull().unique(),poolType:t("pool_type").notNull().default("standard"),feeTier:e("fee_tier").notNull().default(300),status:t("status").notNull().default("active"),token0Address:t("token0_address").notNull(),token0Symbol:t("token0_symbol").notNull(),token0Decimals:e("token0_decimals").notNull().default(18),token1Address:t("token1_address").notNull(),token1Symbol:t("token1_symbol").notNull(),token1Decimals:e("token1_decimals").notNull().default(18),reserve0:t("reserve0").notNull().default("0"),reserve1:t("reserve1").notNull().default("0"),tickSpacing:e("tick_spacing"),currentTick:e("current_tick"),sqrtPriceX96:t("sqrt_price_x96"),amplificationParameter:e("amplification_parameter"),token0Weight:e("token0_weight"),token1Weight:e("token1_weight"),price0:t("price0").notNull().default("0"),price1:t("price1").notNull().default("0"),priceUsd0:t("price_usd_0").notNull().default("0"),priceUsd1:t("price_usd_1").notNull().default("0"),lpTokenSupply:t("lp_token_supply").notNull().default("0"),lpTokenDecimals:e("lp_token_decimals").notNull().default(18),volume24h:t("volume_24h").notNull().default("0"),volume7d:t("volume_7d").notNull().default("0"),volumeAllTime:t("volume_all_time").notNull().default("0"),fees24h:t("fees_24h").notNull().default("0"),fees7d:t("fees_7d").notNull().default("0"),feesAllTime:t("fees_all_time").notNull().default("0"),tvlUsd:t("tvl_usd").notNull().default("0"),swapCount24h:e("swap_count_24h").notNull().default(0),swapCountAllTime:e("swap_count_all_time").notNull().default(0),lpCount:e("lp_count").notNull().default(0),feeApy:e("fee_apy").notNull().default(0),rewardApy:e("reward_apy").notNull().default(0),totalApy:e("total_apy").notNull().default(0),aiPriceOracle:_("ai_price_oracle").notNull().default(!0),aiRouteOptimization:_("ai_route_optimization").notNull().default(!0),aiMevProtection:_("ai_mev_protection").notNull().default(!0),aiRiskScore:e("ai_risk_score").notNull().default(0),mevProtectionEnabled:_("mev_protection_enabled").notNull().default(!0),flashloanGuardEnabled:_("flashloan_guard_enabled").notNull().default(!0),circuitBreakerEnabled:_("circuit_breaker_enabled").notNull().default(!0),creatorAddress:t("creator_address").notNull(),deploymentTxHash:t("deployment_tx_hash"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),lastSwapAt:o("last_swap_at")}),fs=i("dex_pool_assets",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),tokenAddress:t("token_address").notNull(),tokenSymbol:t("token_symbol").notNull(),tokenDecimals:e("token_decimals").notNull().default(18),reserve:t("reserve").notNull().default("0"),weight:e("weight").notNull().default(0),priceUsd:t("price_usd").notNull().default("0"),assetIndex:e("asset_index").notNull().default(0),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ms=i("dex_pool_ticks",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),tickIndex:e("tick_index").notNull(),liquidityGross:t("liquidity_gross").notNull().default("0"),liquidityNet:t("liquidity_net").notNull().default("0"),feeGrowthOutside0:t("fee_growth_outside_0").notNull().default("0"),feeGrowthOutside1:t("fee_growth_outside_1").notNull().default("0"),secondsOutside:h("seconds_outside",{mode:"number"}).notNull().default(0),initialized:_("initialized").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ps=i("dex_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),positionNftId:t("position_nft_id"),poolId:a("pool_id").notNull(),ownerAddress:t("owner_address").notNull(),isConcentrated:_("is_concentrated").notNull().default(!1),lpTokenAmount:t("lp_token_amount").notNull().default("0"),tickLower:e("tick_lower"),tickUpper:e("tick_upper"),liquidity:t("liquidity").notNull().default("0"),amount0:t("amount0").notNull().default("0"),amount1:t("amount1").notNull().default("0"),valueUsd:t("value_usd").notNull().default("0"),unclaimedFees0:t("unclaimed_fees_0").notNull().default("0"),unclaimedFees1:t("unclaimed_fees_1").notNull().default("0"),totalFeesEarned0:t("total_fees_earned_0").notNull().default("0"),totalFeesEarned1:t("total_fees_earned_1").notNull().default("0"),feeGrowthInside0LastX128:t("fee_growth_inside_0_last_x128"),feeGrowthInside1LastX128:t("fee_growth_inside_1_last_x128"),status:t("status").notNull().default("active"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),closedAt:o("closed_at")}),Ns=i("dex_swaps",{id:a("id").primaryKey().default(c`gen_random_uuid()`),txHash:t("tx_hash").notNull(),poolId:a("pool_id").notNull(),traderAddress:t("trader_address").notNull(),tokenInAddress:t("token_in_address").notNull(),tokenInSymbol:t("token_in_symbol").notNull(),tokenOutAddress:t("token_out_address").notNull(),tokenOutSymbol:t("token_out_symbol").notNull(),amountIn:t("amount_in").notNull(),amountOut:t("amount_out").notNull(),amountInUsd:t("amount_in_usd").notNull().default("0"),amountOutUsd:t("amount_out_usd").notNull().default("0"),priceImpact:e("price_impact").notNull().default(0),effectivePrice:t("effective_price").notNull(),feeAmount:t("fee_amount").notNull().default("0"),feeUsd:t("fee_usd").notNull().default("0"),slippageTolerance:e("slippage_tolerance").notNull().default(50),actualSlippage:e("actual_slippage").notNull().default(0),mevProtected:_("mev_protected").notNull().default(!1),isPrivate:_("is_private").notNull().default(!1),routePath:p("route_path"),isMultiHop:_("is_multi_hop").notNull().default(!1),aiOptimizedRoute:_("ai_optimized_route").notNull().default(!1),aiPredictedPrice:t("ai_predicted_price"),aiConfidence:e("ai_confidence"),status:t("status").notNull().default("pending"),failureReason:t("failure_reason"),blockNumber:h("block_number",{mode:"number"}),blockTimestamp:h("block_timestamp",{mode:"number"}),gasUsed:h("gas_used",{mode:"number"}),gasPrice:t("gas_price"),createdAt:o("created_at").notNull().defaultNow(),completedAt:o("completed_at")}),gs=i("dex_price_history",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),interval:t("interval").notNull(),periodStart:o("period_start").notNull(),periodEnd:o("period_end").notNull(),open:t("open").notNull(),high:t("high").notNull(),low:t("low").notNull(),close:t("close").notNull(),volume:t("volume").notNull().default("0"),volumeUsd:t("volume_usd").notNull().default("0"),tradeCount:e("trade_count").notNull().default(0),twap:t("twap").notNull(),createdAt:o("created_at").notNull().defaultNow()}),ys=i("dex_twap_oracle",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),observationIndex:e("observation_index").notNull(),blockTimestamp:h("block_timestamp",{mode:"number"}).notNull(),tickCumulative:t("tick_cumulative").notNull(),secondsPerLiquidityCumulativeX128:t("seconds_per_liquidity_cumulative_x128").notNull(),price0CumulativeX128:t("price0_cumulative_x128").notNull(),price1CumulativeX128:t("price1_cumulative_x128").notNull(),initialized:_("initialized").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow()}),hs=i("dex_circuit_breakers",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull().unique(),status:t("status").notNull().default("normal"),priceDeviationThreshold:e("price_deviation_threshold").notNull().default(1e3),volumeSpikeThreshold:e("volume_spike_threshold").notNull().default(5e4),liquidityDropThreshold:e("liquidity_drop_threshold").notNull().default(3e3),currentPriceDeviation:e("current_price_deviation").notNull().default(0),currentVolumeSpike:e("current_volume_spike").notNull().default(0),currentLiquidityDrop:e("current_liquidity_drop").notNull().default(0),lastTriggeredAt:o("last_triggered_at"),triggerCount24h:e("trigger_count_24h").notNull().default(0),triggerCountAllTime:e("trigger_count_all_time").notNull().default(0),cooldownEndsAt:o("cooldown_ends_at"),cooldownDurationMinutes:e("cooldown_duration_minutes").notNull().default(15),aiRiskLevel:t("ai_risk_level").notNull().default("low"),aiRecommendation:t("ai_recommendation"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),As=i("dex_mev_events",{id:a("id").primaryKey().default(c`gen_random_uuid()`),eventType:t("event_type").notNull(),severity:t("severity").notNull().default("low"),victimTxHash:t("victim_tx_hash"),attackerTxHash:t("attacker_tx_hash"),poolId:a("pool_id"),victimAddress:t("victim_address"),attackerAddress:t("attacker_address"),estimatedLossUsd:t("estimated_loss_usd").notNull().default("0"),preventedLossUsd:t("prevented_loss_usd").notNull().default("0"),detectionMethod:t("detection_method").notNull(),aiConfidence:e("ai_confidence").notNull().default(0),status:t("status").notNull().default("detected"),mitigationAction:t("mitigation_action"),blockNumber:h("block_number",{mode:"number"}),createdAt:o("created_at").notNull().defaultNow(),resolvedAt:o("resolved_at")}),bs=i("dex_liquidity_rewards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull(),rewardTokenAddress:t("reward_token_address").notNull(),rewardTokenSymbol:t("reward_token_symbol").notNull(),rewardRate:t("reward_rate").notNull(),totalRewards:t("total_rewards").notNull(),distributedRewards:t("distributed_rewards").notNull().default("0"),startTime:o("start_time").notNull(),endTime:o("end_time").notNull(),isActive:_("is_active").notNull().default(!0),boostMultiplier:e("boost_multiplier").notNull().default(1e4),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),vs=i("dex_user_analytics",{id:a("id").primaryKey().default(c`gen_random_uuid()`),userAddress:t("user_address").notNull().unique(),totalSwaps:e("total_swaps").notNull().default(0),totalVolumeUsd:t("total_volume_usd").notNull().default("0"),totalFeePaid:t("total_fee_paid").notNull().default("0"),totalPositions:e("total_positions").notNull().default(0),activePositions:e("active_positions").notNull().default(0),totalLiquidityProvidedUsd:t("total_liquidity_provided_usd").notNull().default("0"),totalFeesEarnedUsd:t("total_fees_earned_usd").notNull().default("0"),realizedPnlUsd:t("realized_pnl_usd").notNull().default("0"),unrealizedPnlUsd:t("unrealized_pnl_usd").notNull().default("0"),firstTradeAt:o("first_trade_at"),lastTradeAt:o("last_trade_at"),traderTier:t("trader_tier").notNull().default("bronze"),feeDiscount:e("fee_discount").notNull().default(0),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()});s(_s).omit({id:!0,createdAt:!0,updatedAt:!0,lastSwapAt:!0});s(fs).omit({id:!0,createdAt:!0,updatedAt:!0});s(ms).omit({id:!0,createdAt:!0,updatedAt:!0});s(ps).omit({id:!0,createdAt:!0,updatedAt:!0,closedAt:!0});s(Ns).omit({id:!0,createdAt:!0,completedAt:!0});s(gs).omit({id:!0,createdAt:!0});s(ys).omit({id:!0,createdAt:!0});s(hs).omit({id:!0,createdAt:!0,updatedAt:!0});s(As).omit({id:!0,createdAt:!0,resolvedAt:!0});s(bs).omit({id:!0,createdAt:!0,updatedAt:!0});s(vs).omit({id:!0,createdAt:!0,updatedAt:!0});const ws=i("lending_markets",{id:a("id").primaryKey().default(c`gen_random_uuid()`),assetAddress:t("asset_address").notNull().unique(),assetSymbol:t("asset_symbol").notNull(),assetName:t("asset_name").notNull(),assetDecimals:e("asset_decimals").notNull().default(18),priceFeedId:t("price_feed_id").notNull(),totalSupply:t("total_supply").notNull().default("0"),totalBorrowed:t("total_borrowed").notNull().default("0"),totalReserves:t("total_reserves").notNull().default("0"),availableLiquidity:t("available_liquidity").notNull().default("0"),supplyRate:e("supply_rate").notNull().default(0),borrowRateVariable:e("borrow_rate_variable").notNull().default(0),borrowRateStable:e("borrow_rate_stable").notNull().default(0),utilizationRate:e("utilization_rate").notNull().default(0),exchangeRate:t("exchange_rate").notNull().default("1000000000000000000"),collateralFactor:e("collateral_factor").notNull().default(7500),liquidationThreshold:e("liquidation_threshold").notNull().default(8e3),liquidationPenalty:e("liquidation_penalty").notNull().default(500),reserveFactor:e("reserve_factor").notNull().default(1e3),supplyCap:t("supply_cap"),borrowCap:t("borrow_cap"),interestRateModel:t("interest_rate_model").notNull().default("jump_rate"),baseRate:e("base_rate").notNull().default(200),optimalUtilization:e("optimal_utilization").notNull().default(8e3),slope1:e("slope_1").notNull().default(400),slope2:e("slope_2").notNull().default(6e3),canBeCollateral:_("can_be_collateral").notNull().default(!0),canBeBorrowed:_("can_be_borrowed").notNull().default(!0),status:t("status").notNull().default("active"),totalSuppliers:e("total_suppliers").notNull().default(0),totalBorrowers:e("total_borrowers").notNull().default(0),lastInterestUpdate:o("last_interest_update").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),ks=i("lending_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),userAddress:t("user_address").notNull().unique(),totalCollateralValueUsd:t("total_collateral_value_usd").notNull().default("0"),totalBorrowedValueUsd:t("total_borrowed_value_usd").notNull().default("0"),availableBorrowUsd:t("available_borrow_usd").notNull().default("0"),liquidationThresholdUsd:t("liquidation_threshold_usd").notNull().default("0"),healthFactor:e("health_factor").notNull().default(1e6),healthStatus:t("health_status").notNull().default("healthy"),netApy:e("net_apy").notNull().default(0),totalInterestEarned:t("total_interest_earned").notNull().default("0"),totalInterestOwed:t("total_interest_owed").notNull().default("0"),suppliedAssetCount:e("supplied_asset_count").notNull().default(0),borrowedAssetCount:e("borrowed_asset_count").notNull().default(0),lastActivityAt:o("last_activity_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ss=i("lending_supplies",{id:a("id").primaryKey().default(c`gen_random_uuid()`),positionId:a("position_id").notNull(),marketId:a("market_id").notNull(),userAddress:t("user_address").notNull(),assetAddress:t("asset_address").notNull(),suppliedAmount:t("supplied_amount").notNull().default("0"),suppliedShares:t("supplied_shares").notNull().default("0"),suppliedValueUsd:t("supplied_value_usd").notNull().default("0"),isCollateral:_("is_collateral").notNull().default(!0),supplyApy:e("supply_apy").notNull().default(0),interestEarned:t("interest_earned").notNull().default("0"),lastUpdateAt:o("last_update_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()}),Ts=i("lending_borrows",{id:a("id").primaryKey().default(c`gen_random_uuid()`),positionId:a("position_id").notNull(),marketId:a("market_id").notNull(),userAddress:t("user_address").notNull(),assetAddress:t("asset_address").notNull(),borrowedAmount:t("borrowed_amount").notNull().default("0"),borrowedShares:t("borrowed_shares").notNull().default("0"),borrowedValueUsd:t("borrowed_value_usd").notNull().default("0"),rateMode:t("rate_mode").notNull().default("variable"),borrowApy:e("borrow_apy").notNull().default(0),stableRate:e("stable_rate"),accruedInterest:t("accrued_interest").notNull().default("0"),lastUpdateAt:o("last_update_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()}),xs=i("lending_liquidations",{id:a("id").primaryKey().default(c`gen_random_uuid()`),liquidatorAddress:t("liquidator_address").notNull(),borrowerAddress:t("borrower_address").notNull(),positionId:a("position_id").notNull(),collateralAsset:t("collateral_asset").notNull(),collateralSymbol:t("collateral_symbol").notNull(),debtAsset:t("debt_asset").notNull(),debtSymbol:t("debt_symbol").notNull(),debtRepaid:t("debt_repaid").notNull(),collateralSeized:t("collateral_seized").notNull(),liquidationBonus:t("liquidation_bonus").notNull(),protocolFee:t("protocol_fee").notNull().default("0"),debtRepaidUsd:t("debt_repaid_usd").notNull(),collateralSeizedUsd:t("collateral_seized_usd").notNull(),healthFactorBefore:e("health_factor_before").notNull(),healthFactorAfter:e("health_factor_after").notNull(),closeFactorUsed:e("close_factor_used").notNull(),status:t("status").notNull().default("completed"),txHash:t("tx_hash"),aiRiskAssessment:t("ai_risk_assessment"),aiRecommendation:t("ai_recommendation"),executedAt:o("executed_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()}),Ps=i("lending_rate_history",{id:a("id").primaryKey().default(c`gen_random_uuid()`),marketId:a("market_id").notNull(),assetSymbol:t("asset_symbol").notNull(),supplyRate:e("supply_rate").notNull(),borrowRateVariable:e("borrow_rate_variable").notNull(),borrowRateStable:e("borrow_rate_stable").notNull(),utilizationRate:e("utilization_rate").notNull(),totalSupply:t("total_supply").notNull(),totalBorrowed:t("total_borrowed").notNull(),blockNumber:h("block_number",{mode:"number"}),recordedAt:o("recorded_at").notNull().defaultNow()}),Is=i("lending_transactions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),txType:t("tx_type").notNull(),userAddress:t("user_address").notNull(),positionId:a("position_id"),marketId:a("market_id").notNull(),assetAddress:t("asset_address").notNull(),assetSymbol:t("asset_symbol").notNull(),amount:t("amount").notNull(),shares:t("shares").notNull().default("0"),amountUsd:t("amount_usd").notNull(),rateMode:t("rate_mode"),interestRate:e("interest_rate"),exchangeRate:t("exchange_rate"),healthFactorAfter:e("health_factor_after"),status:t("status").notNull().default("completed"),txHash:t("tx_hash"),blockNumber:h("block_number",{mode:"number"}),createdAt:o("created_at").notNull().defaultNow()}),Cs=i("lending_protocol_stats",{id:a("id").primaryKey().default(c`gen_random_uuid()`),totalValueLockedUsd:t("total_value_locked_usd").notNull().default("0"),totalBorrowedUsd:t("total_borrowed_usd").notNull().default("0"),totalReservesUsd:t("total_reserves_usd").notNull().default("0"),activeMarkets:e("active_markets").notNull().default(0),totalMarkets:e("total_markets").notNull().default(0),totalSuppliers:e("total_suppliers").notNull().default(0),totalBorrowers:e("total_borrowers").notNull().default(0),uniqueUsers:e("unique_users").notNull().default(0),volume24hSupply:t("volume_24h_supply").notNull().default("0"),volume24hBorrow:t("volume_24h_borrow").notNull().default("0"),volume24hRepay:t("volume_24h_repay").notNull().default("0"),liquidations24h:e("liquidations_24h").notNull().default(0),liquidationVolume24hUsd:t("liquidation_volume_24h_usd").notNull().default("0"),protocolRevenueUsd:t("protocol_revenue_usd").notNull().default("0"),avgSupplyRate:e("avg_supply_rate").notNull().default(0),avgBorrowRate:e("avg_borrow_rate").notNull().default(0),avgUtilization:e("avg_utilization").notNull().default(0),atRiskPositions:e("at_risk_positions").notNull().default(0),liquidatablePositions:e("liquidatable_positions").notNull().default(0),snapshotAt:o("snapshot_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()});s(ws).omit({id:!0,createdAt:!0,updatedAt:!0,lastInterestUpdate:!0});s(ks).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivityAt:!0});s(Ss).omit({id:!0,createdAt:!0,lastUpdateAt:!0});s(Ts).omit({id:!0,createdAt:!0,lastUpdateAt:!0});s(xs).omit({id:!0,createdAt:!0,executedAt:!0});s(Ps).omit({id:!0,recordedAt:!0});s(Is).omit({id:!0,createdAt:!0});s(Cs).omit({id:!0,createdAt:!0,snapshotAt:!0});const qs=i("yield_vaults",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:t("name").notNull(),symbol:t("symbol").notNull(),description:t("description"),contractAddress:t("contract_address").notNull().unique(),underlyingAsset:t("underlying_asset").notNull(),underlyingSymbol:t("underlying_symbol").notNull(),underlyingDecimals:e("underlying_decimals").notNull().default(18),vaultType:t("vault_type").notNull().default("auto_compound"),strategyType:t("strategy_type").notNull().default("yield_aggregator"),riskLevel:t("risk_level").notNull().default("medium"),totalDeposited:t("total_deposited").notNull().default("0"),totalShares:t("total_shares").notNull().default("0"),sharePrice:t("share_price").notNull().default("1000000000000000000"),tvlUsd:t("tvl_usd").notNull().default("0"),allTimeHighTvl:t("all_time_high_tvl").notNull().default("0"),baseApy:e("base_apy").notNull().default(0),boostApy:e("boost_apy").notNull().default(0),rewardApy:e("reward_apy").notNull().default(0),totalApy:e("total_apy").notNull().default(0),apySource:t("apy_source").notNull().default("combined"),dailyApy:e("daily_apy").notNull().default(0),weeklyApy:e("weekly_apy").notNull().default(0),monthlyApy:e("monthly_apy").notNull().default(0),depositFee:e("deposit_fee").notNull().default(0),withdrawalFee:e("withdrawal_fee").notNull().default(10),performanceFee:e("performance_fee").notNull().default(1e3),managementFee:e("management_fee").notNull().default(200),depositCap:t("deposit_cap"),minDeposit:t("min_deposit").notNull().default("0"),maxDeposit:t("max_deposit"),dexPoolId:a("dex_pool_id"),lendingMarketId:a("lending_market_id"),aiOptimized:_("ai_optimized").notNull().default(!0),aiStrategyScore:e("ai_strategy_score").notNull().default(8e3),aiRiskScore:e("ai_risk_score").notNull().default(5e3),status:t("status").notNull().default("active"),isEmergencyWithdrawEnabled:_("is_emergency_withdraw_enabled").notNull().default(!1),totalDepositors:e("total_depositors").notNull().default(0),deposits24h:t("deposits_24h").notNull().default("0"),withdrawals24h:t("withdrawals_24h").notNull().default("0"),harvestCount:e("harvest_count").notNull().default(0),lastHarvestAt:o("last_harvest_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Rs=i("yield_strategies",{id:a("id").primaryKey().default(c`gen_random_uuid()`),vaultId:a("vault_id").notNull(),name:t("name").notNull(),description:t("description"),contractAddress:t("contract_address").notNull(),strategyType:t("strategy_type").notNull(),protocol:t("protocol").notNull(),allocationPercent:e("allocation_percent").notNull().default(1e4),currentValue:t("current_value").notNull().default("0"),currentApy:e("current_apy").notNull().default(0),historicalApy:e("historical_apy").notNull().default(0),profitGenerated:t("profit_generated").notNull().default("0"),lossIncurred:t("loss_incurred").notNull().default("0"),maxLeverage:e("max_leverage").notNull().default(1e4),liquidationThreshold:e("liquidation_threshold").notNull().default(8e3),stopLossThreshold:e("stop_loss_threshold").notNull().default(500),isActive:_("is_active").notNull().default(!0),lastExecutionAt:o("last_execution_at"),executionCount:e("execution_count").notNull().default(0),failureCount:e("failure_count").notNull().default(0),aiOptimized:_("ai_optimized").notNull().default(!0),aiConfidenceScore:e("ai_confidence_score").notNull().default(8e3),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ds=i("yield_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),vaultId:a("vault_id").notNull(),userAddress:t("user_address").notNull(),depositedAmount:t("deposited_amount").notNull().default("0"),shares:t("shares").notNull().default("0"),currentValue:t("current_value").notNull().default("0"),currentValueUsd:t("current_value_usd").notNull().default("0"),totalProfit:t("total_profit").notNull().default("0"),totalProfitUsd:t("total_profit_usd").notNull().default("0"),unrealizedProfit:t("unrealized_profit").notNull().default("0"),realizedProfit:t("realized_profit").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),claimedRewards:t("claimed_rewards").notNull().default("0"),boostMultiplier:e("boost_multiplier").notNull().default(1e4),boostEndTime:o("boost_end_time"),isLocked:_("is_locked").notNull().default(!1),lockEndTime:o("lock_end_time"),lockDurationDays:e("lock_duration_days").notNull().default(0),depositCount:e("deposit_count").notNull().default(0),withdrawCount:e("withdraw_count").notNull().default(0),lastDepositAt:o("last_deposit_at"),lastWithdrawAt:o("last_withdraw_at"),status:t("status").notNull().default("active"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Us=i("yield_harvests",{id:a("id").primaryKey().default(c`gen_random_uuid()`),vaultId:a("vault_id").notNull(),strategyId:a("strategy_id"),harvestType:t("harvest_type").notNull(),harvestedAmount:t("harvested_amount").notNull().default("0"),harvestedValueUsd:t("harvested_value_usd").notNull().default("0"),compoundedAmount:t("compounded_amount").notNull().default("0"),newSharePrice:t("new_share_price").notNull(),oldSharePrice:t("old_share_price").notNull(),performanceFeeAmount:t("performance_fee_amount").notNull().default("0"),callerReward:t("caller_reward").notNull().default("0"),txHash:t("tx_hash"),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),executorAddress:t("executor_address"),aiTriggered:_("ai_triggered").notNull().default(!1),aiOptimalityScore:e("ai_optimality_score"),executedAt:o("executed_at").notNull().defaultNow()}),Bs=i("yield_rewards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),vaultId:a("vault_id").notNull(),rewardToken:t("reward_token").notNull(),rewardSymbol:t("reward_symbol").notNull(),rewardDecimals:e("reward_decimals").notNull().default(18),rewardPerSecond:t("reward_per_second").notNull().default("0"),rewardPerBlock:t("reward_per_block").notNull().default("0"),totalAllocated:t("total_allocated").notNull().default("0"),totalDistributed:t("total_distributed").notNull().default("0"),startTime:o("start_time").notNull(),endTime:o("end_time"),isActive:_("is_active").notNull().default(!0),createdAt:o("created_at").notNull().defaultNow()}),Ks=i("yield_transactions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),vaultId:a("vault_id").notNull(),positionId:a("position_id"),userAddress:t("user_address").notNull(),txType:t("tx_type").notNull(),amount:t("amount").notNull().default("0"),shares:t("shares").notNull().default("0"),valueUsd:t("value_usd").notNull().default("0"),sharePriceAtTx:t("share_price_at_tx").notNull(),feeAmount:t("fee_amount").notNull().default("0"),feeType:t("fee_type"),txHash:t("tx_hash"),blockNumber:h("block_number",{mode:"number"}),status:t("status").notNull().default("pending"),createdAt:o("created_at").notNull().defaultNow()}),Vs=i("yield_protocol_stats",{id:a("id").primaryKey().default(c`gen_random_uuid()`),totalTvlUsd:t("total_tvl_usd").notNull().default("0"),tvlChange24h:t("tvl_change_24h").notNull().default("0"),tvlChange7d:t("tvl_change_7d").notNull().default("0"),totalVaults:e("total_vaults").notNull().default(0),activeVaults:e("active_vaults").notNull().default(0),totalUsers:e("total_users").notNull().default(0),activeUsers24h:e("active_users_24h").notNull().default(0),totalDeposits24h:t("total_deposits_24h").notNull().default("0"),totalWithdrawals24h:t("total_withdrawals_24h").notNull().default("0"),avgVaultApy:e("avg_vault_apy").notNull().default(0),topVaultApy:e("top_vault_apy").notNull().default(0),totalProfitGenerated:t("total_profit_generated").notNull().default("0"),totalFeesCollected:t("total_fees_collected").notNull().default("0"),feesCollected24h:t("fees_collected_24h").notNull().default("0"),totalHarvests24h:e("total_harvests_24h").notNull().default(0),avgHarvestAmount:t("avg_harvest_amount").notNull().default("0"),aiOptimizedVaults:e("ai_optimized_vaults").notNull().default(0),aiSuggestedRebalances:e("ai_suggested_rebalances").notNull().default(0),snapshotAt:o("snapshot_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()});s(qs).omit({id:!0,createdAt:!0,updatedAt:!0});s(Rs).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ds).omit({id:!0,createdAt:!0,updatedAt:!0});s(Us).omit({id:!0,executedAt:!0});s(Bs).omit({id:!0,createdAt:!0});s(Ks).omit({id:!0,createdAt:!0});s(Vs).omit({id:!0,createdAt:!0,snapshotAt:!0});const J=i("liquid_staking_pools",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:a("name",{length:100}).notNull(),symbol:a("symbol",{length:20}).notNull(),description:t("description"),contractAddress:a("contract_address",{length:66}).notNull().unique(),lstTokenAddress:a("lst_token_address",{length:66}).notNull(),lstTokenSymbol:a("lst_token_symbol",{length:20}).notNull(),lstTokenDecimals:e("lst_token_decimals").notNull().default(18),underlyingAsset:a("underlying_asset",{length:66}).notNull(),underlyingSymbol:a("underlying_symbol",{length:20}).notNull(),underlyingDecimals:e("underlying_decimals").notNull().default(18),exchangeRate:t("exchange_rate").notNull().default("1000000000000000000"),exchangeRatePrevious:t("exchange_rate_previous").notNull().default("1000000000000000000"),lastRebaseAt:o("last_rebase_at").defaultNow(),rebaseIntervalSeconds:e("rebase_interval_seconds").notNull().default(86400),totalStaked:t("total_staked").notNull().default("0"),totalStakedUsd:t("total_staked_usd").notNull().default("0"),totalLstMinted:t("total_lst_minted").notNull().default("0"),totalRewardsGenerated:t("total_rewards_generated").notNull().default("0"),validatorCount:e("validator_count").notNull().default(0),minValidatorsPerBasket:e("min_validators_per_basket").notNull().default(5),maxValidatorAllocation:e("max_validator_allocation").notNull().default(2e3),currentApy:e("current_apy").notNull().default(0),avgApy7d:e("avg_apy_7d").notNull().default(0),avgApy30d:e("avg_apy_30d").notNull().default(0),mintFee:e("mint_fee").notNull().default(10),redeemFee:e("redeem_fee").notNull().default(10),performanceFee:e("performance_fee").notNull().default(1e3),protocolFee:e("protocol_fee").notNull().default(100),minMintAmount:t("min_mint_amount").notNull().default("1000000000000000000"),maxMintAmount:t("max_mint_amount"),stakingCap:t("staking_cap"),status:a("status",{length:20}).notNull().default("active"),isPaused:_("is_paused").notNull().default(!1),aiOptimized:_("ai_optimized").notNull().default(!1),totalStakers:e("total_stakers").notNull().default(0),mints24h:t("mints_24h").notNull().default("0"),redeems24h:t("redeems_24h").notNull().default("0"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),zs=i("validator_baskets",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),name:a("name",{length:100}).notNull(),description:t("description"),validatorAddresses:t("validator_addresses").array().notNull(),validatorWeights:e("validator_weights").array().notNull(),totalValidators:e("total_validators").notNull().default(0),totalAllocated:t("total_allocated").notNull().default("0"),allocationPercentage:e("allocation_percentage").notNull().default(0),avgValidatorScore:e("avg_validator_score").notNull().default(0),avgUptime:e("avg_uptime").notNull().default(1e4),avgCommission:e("avg_commission").notNull().default(500),riskScore:e("risk_score").notNull().default(5e3),diversificationScore:e("diversification_score").notNull().default(0),isActive:_("is_active").notNull().default(!0),lastRebalanceAt:o("last_rebalance_at"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),ur=i("lst_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),userAddress:a("user_address",{length:66}).notNull(),lstBalance:t("lst_balance").notNull().default("0"),lstBalanceUsd:t("lst_balance_usd").notNull().default("0"),underlyingValue:t("underlying_value").notNull().default("0"),underlyingValueUsd:t("underlying_value_usd").notNull().default("0"),totalMinted:t("total_minted").notNull().default("0"),totalRedeemed:t("total_redeemed").notNull().default("0"),avgMintPrice:t("avg_mint_price").notNull().default("1000000000000000000"),accumulatedRewards:t("accumulated_rewards").notNull().default("0"),claimedRewards:t("claimed_rewards").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),mintCount:e("mint_count").notNull().default(0),redeemCount:e("redeem_count").notNull().default(0),lastMintAt:o("last_mint_at"),lastRedeemAt:o("last_redeem_at"),status:a("status",{length:20}).notNull().default("active"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Ms=i("lst_transactions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),positionId:a("position_id").references(()=>ur.id),userAddress:a("user_address",{length:66}).notNull(),txType:a("tx_type",{length:20}).notNull(),txHash:a("tx_hash",{length:66}),underlyingAmount:t("underlying_amount").notNull(),lstAmount:t("lst_amount").notNull(),exchangeRateAtTx:t("exchange_rate_at_tx").notNull(),valueUsd:t("value_usd").notNull().default("0"),feeAmount:t("fee_amount").notNull().default("0"),feeType:a("fee_type",{length:20}),status:a("status",{length:20}).notNull().default("pending"),failureReason:t("failure_reason"),createdAt:o("created_at").defaultNow().notNull(),completedAt:o("completed_at")}),Ls=i("rebase_history",{id:a("id").primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),previousRate:t("previous_rate").notNull(),newRate:t("new_rate").notNull(),rateChange:t("rate_change").notNull(),rateChangePercent:e("rate_change_percent").notNull(),rewardsDistributed:t("rewards_distributed").notNull().default("0"),rewardsFromValidators:t("rewards_from_validators").notNull().default("0"),rewardsFromMev:t("rewards_from_mev").notNull().default("0"),slashingPenalty:t("slashing_penalty").notNull().default("0"),slashedValidators:e("slashed_validators").notNull().default(0),totalStakedAtRebase:t("total_staked_at_rebase").notNull(),totalLstAtRebase:t("total_lst_at_rebase").notNull(),aiOptimized:_("ai_optimized").notNull().default(!1),aiOptimizationScore:e("ai_optimization_score"),executedAt:o("executed_at").defaultNow().notNull()}),Fs=i("lst_protocol_stats",{id:a("id").primaryKey().default(c`gen_random_uuid()`),totalStakedAcrossPools:t("total_staked_across_pools").notNull().default("0"),totalStakedUsd:t("total_staked_usd").notNull().default("0"),totalLstMinted:t("total_lst_minted").notNull().default("0"),totalPools:e("total_pools").notNull().default(0),activePools:e("active_pools").notNull().default(0),totalStakers:e("total_stakers").notNull().default(0),activeStakers24h:e("active_stakers_24h").notNull().default(0),totalMinted24h:t("total_minted_24h").notNull().default("0"),totalRedeemed24h:t("total_redeemed_24h").notNull().default("0"),totalRewardsDistributed:t("total_rewards_distributed").notNull().default("0"),rewardsDistributed24h:t("rewards_distributed_24h").notNull().default("0"),avgPoolApy:e("avg_pool_apy").notNull().default(0),topPoolApy:e("top_pool_apy").notNull().default(0),totalValidatorsUsed:e("total_validators_used").notNull().default(0),avgValidatorScore:e("avg_validator_score").notNull().default(0),snapshotAt:o("snapshot_at").defaultNow().notNull(),createdAt:o("created_at").defaultNow().notNull()});s(J).omit({id:!0,createdAt:!0,updatedAt:!0});s(zs).omit({id:!0,createdAt:!0,updatedAt:!0});s(ur).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ms).omit({id:!0,createdAt:!0});s(Ls).omit({id:!0,executedAt:!0});s(Fs).omit({id:!0,snapshotAt:!0,createdAt:!0});const j=i("nft_collections",{id:a("id").primaryKey().default(c`gen_random_uuid()`),name:a("name",{length:100}).notNull(),symbol:a("symbol",{length:20}).notNull(),description:t("description"),contractAddress:a("contract_address",{length:66}).notNull().unique(),tokenStandard:a("token_standard",{length:20}).notNull().default("TBC-721"),creatorAddress:a("creator_address",{length:66}).notNull(),creatorName:a("creator_name",{length:100}),verified:_("verified").notNull().default(!1),imageUrl:t("image_url"),bannerUrl:t("banner_url"),website:t("website"),twitter:t("twitter"),discord:t("discord"),royaltyFee:e("royalty_fee").notNull().default(250),royaltyRecipient:a("royalty_recipient",{length:66}),totalItems:e("total_items").notNull().default(0),listedItems:e("listed_items").notNull().default(0),owners:e("owners").notNull().default(0),floorPrice:t("floor_price").notNull().default("0"),floorPriceUsd:t("floor_price_usd").notNull().default("0"),volume24h:t("volume_24h").notNull().default("0"),volume24hUsd:t("volume_24h_usd").notNull().default("0"),volumeTotal:t("volume_total").notNull().default("0"),volumeTotalUsd:t("volume_total_usd").notNull().default("0"),avgPrice24h:t("avg_price_24h").notNull().default("0"),salesCount24h:e("sales_count_24h").notNull().default(0),salesCountTotal:e("sales_count_total").notNull().default(0),marketCap:t("market_cap").notNull().default("0"),marketCapUsd:t("market_cap_usd").notNull().default("0"),status:a("status",{length:20}).notNull().default("active"),featured:_("featured").notNull().default(!1),aiRarityScore:e("ai_rarity_score"),aiTrendScore:e("ai_trend_score"),category:a("category",{length:50}),tags:t("tags").array(),externalUrl:t("external_url"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),G=i("nft_items",{id:a("id").primaryKey().default(c`gen_random_uuid()`),collectionId:a("collection_id").notNull().references(()=>j.id),tokenId:t("token_id").notNull(),tokenUri:t("token_uri"),name:a("name",{length:200}),description:t("description"),imageUrl:t("image_url"),animationUrl:t("animation_url"),externalUrl:t("external_url"),attributes:p("attributes"),ownerAddress:a("owner_address",{length:66}).notNull(),creatorAddress:a("creator_address",{length:66}),totalSupply:e("total_supply").notNull().default(1),availableSupply:e("available_supply").notNull().default(1),rarityRank:e("rarity_rank"),rarityScore:e("rarity_score"),rarityTier:a("rarity_tier",{length:20}),lastSalePrice:t("last_sale_price"),lastSalePriceUsd:t("last_sale_price_usd"),lastSaleAt:o("last_sale_at"),estimatedValue:t("estimated_value"),estimatedValueUsd:t("estimated_value_usd"),status:a("status",{length:20}).notNull().default("active"),isListed:_("is_listed").notNull().default(!1),mintTxHash:a("mint_tx_hash",{length:66}),mintedAt:o("minted_at"),mintPrice:t("mint_price"),aiAnalyzed:_("ai_analyzed").notNull().default(!1),aiContentScore:e("ai_content_score"),aiAuthenticityScore:e("ai_authenticity_score"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),yt=i("marketplace_listings",{id:a("id").primaryKey().default(c`gen_random_uuid()`),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").notNull().references(()=>G.id),sellerAddress:a("seller_address",{length:66}).notNull(),listingType:a("listing_type",{length:20}).notNull().default("fixed"),price:t("price").notNull(),priceUsd:t("price_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),startingPrice:t("starting_price"),reservePrice:t("reserve_price"),buyNowPrice:t("buy_now_price"),currentBid:t("current_bid"),currentBidder:a("current_bidder",{length:66}),bidCount:e("bid_count").notNull().default(0),endingPrice:t("ending_price"),priceDropInterval:e("price_drop_interval"),quantity:e("quantity").notNull().default(1),remainingQuantity:e("remaining_quantity").notNull().default(1),startsAt:o("starts_at").notNull(),expiresAt:o("expires_at"),status:a("status",{length:20}).notNull().default("active"),txHash:a("tx_hash",{length:66}),aiRecommendedPrice:t("ai_recommended_price"),aiPriceConfidence:e("ai_price_confidence"),signature:t("signature"),nonce:e("nonce"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),dr=i("marketplace_bids",{id:a("id").primaryKey().default(c`gen_random_uuid()`),listingId:a("listing_id").notNull().references(()=>yt.id),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").notNull().references(()=>G.id),bidderAddress:a("bidder_address",{length:66}).notNull(),bidAmount:t("bid_amount").notNull(),bidAmountUsd:t("bid_amount_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),quantity:e("quantity").notNull().default(1),expiresAt:o("expires_at"),status:a("status",{length:20}).notNull().default("active"),txHash:a("tx_hash",{length:66}),escrowAmount:t("escrow_amount").notNull().default("0"),escrowReleased:_("escrow_released").notNull().default(!1),signature:t("signature"),nonce:e("nonce"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Es=i("marketplace_sales",{id:a("id").primaryKey().default(c`gen_random_uuid()`),listingId:a("listing_id").references(()=>yt.id),bidId:a("bid_id").references(()=>dr.id),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").notNull().references(()=>G.id),sellerAddress:a("seller_address",{length:66}).notNull(),buyerAddress:a("buyer_address",{length:66}).notNull(),saleType:a("sale_type",{length:20}).notNull(),salePrice:t("sale_price").notNull(),salePriceUsd:t("sale_price_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),quantity:e("quantity").notNull().default(1),platformFee:t("platform_fee").notNull().default("0"),platformFeePercent:e("platform_fee_percent").notNull().default(250),royaltyFee:t("royalty_fee").notNull().default("0"),royaltyFeePercent:e("royalty_fee_percent").notNull().default(0),royaltyRecipient:a("royalty_recipient",{length:66}),sellerProceeds:t("seller_proceeds").notNull(),txHash:a("tx_hash",{length:66}).notNull(),blockNumber:h("block_number",{mode:"number"}),soldAt:o("sold_at").defaultNow().notNull(),settledAt:o("settled_at"),createdAt:o("created_at").defaultNow().notNull()}),js=i("nft_offers",{id:a("id").primaryKey().default(c`gen_random_uuid()`),offerType:a("offer_type",{length:20}).notNull(),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").references(()=>G.id),offererAddress:a("offerer_address",{length:66}).notNull(),offerAmount:t("offer_amount").notNull(),offerAmountUsd:t("offer_amount_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),quantity:e("quantity").notNull().default(1),expiresAt:o("expires_at"),status:a("status",{length:20}).notNull().default("active"),escrowAmount:t("escrow_amount").notNull().default("0"),escrowTxHash:a("escrow_tx_hash",{length:66}),signature:t("signature"),nonce:e("nonce"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Hs=i("nft_activity_log",{id:a("id").primaryKey().default(c`gen_random_uuid()`),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").references(()=>G.id),eventType:a("event_type",{length:30}).notNull(),fromAddress:a("from_address",{length:66}),toAddress:a("to_address",{length:66}),price:t("price"),priceUsd:t("price_usd"),currency:a("currency",{length:20}),quantity:e("quantity").notNull().default(1),txHash:a("tx_hash",{length:66}),blockNumber:h("block_number",{mode:"number"}),listingId:a("listing_id"),bidId:a("bid_id"),saleId:a("sale_id"),offerId:a("offer_id"),createdAt:o("created_at").defaultNow().notNull()}),Qs=i("nft_marketplace_stats",{id:a("id").primaryKey().default(c`gen_random_uuid()`),volume24h:t("volume_24h").notNull().default("0"),volume24hUsd:t("volume_24h_usd").notNull().default("0"),volume7d:t("volume_7d").notNull().default("0"),volume7dUsd:t("volume_7d_usd").notNull().default("0"),volumeTotal:t("volume_total").notNull().default("0"),volumeTotalUsd:t("volume_total_usd").notNull().default("0"),salesCount24h:e("sales_count_24h").notNull().default(0),salesCount7d:e("sales_count_7d").notNull().default(0),salesCountTotal:e("sales_count_total").notNull().default(0),totalCollections:e("total_collections").notNull().default(0),activeCollections:e("active_collections").notNull().default(0),verifiedCollections:e("verified_collections").notNull().default(0),totalItems:e("total_items").notNull().default(0),listedItems:e("listed_items").notNull().default(0),activeListings:e("active_listings").notNull().default(0),auctionListings:e("auction_listings").notNull().default(0),totalUsers:e("total_users").notNull().default(0),activeTraders24h:e("active_traders_24h").notNull().default(0),totalPlatformFees:t("total_platform_fees").notNull().default("0"),platformFees24h:t("platform_fees_24h").notNull().default("0"),totalRoyalties:t("total_royalties").notNull().default("0"),royalties24h:t("royalties_24h").notNull().default("0"),avgFloorPrice:t("avg_floor_price").notNull().default("0"),avgFloorPriceUsd:t("avg_floor_price_usd").notNull().default("0"),snapshotAt:o("snapshot_at").defaultNow().notNull(),createdAt:o("created_at").defaultNow().notNull()});s(j).omit({id:!0,createdAt:!0,updatedAt:!0});s(G).omit({id:!0,createdAt:!0,updatedAt:!0});s(yt).omit({id:!0,createdAt:!0,updatedAt:!0});s(dr).omit({id:!0,createdAt:!0,updatedAt:!0});s(Es).omit({id:!0,createdAt:!0});s(js).omit({id:!0,createdAt:!0,updatedAt:!0});s(Hs).omit({id:!0,createdAt:!0});s(Qs).omit({id:!0,snapshotAt:!0,createdAt:!0});const Z=i("launchpad_projects",{id:a("id",{length:66}).primaryKey(),name:a("name",{length:255}).notNull(),symbol:a("symbol",{length:20}).notNull(),description:t("description"),imageUrl:t("image_url"),bannerUrl:t("banner_url"),websiteUrl:t("website_url"),twitterUrl:t("twitter_url"),discordUrl:t("discord_url"),creatorAddress:a("creator_address",{length:66}).notNull(),totalSupply:N("total_supply",{precision:40,scale:0}).notNull().default("10000"),mintPrice:N("mint_price",{precision:40,scale:0}).notNull().default("0"),maxPerWallet:e("max_per_wallet").notNull().default(10),royaltyBps:e("royalty_bps").notNull().default(500),status:a("status",{length:20}).notNull().default("draft"),featured:_("featured").notNull().default(!1),verified:_("verified").notNull().default(!1),aiScore:q("ai_score"),aiAnalysis:p("ai_analysis"),contractAddress:a("contract_address",{length:66}),category:a("category",{length:50}),tags:t("tags").array(),totalRaised:N("total_raised",{precision:40,scale:0}).notNull().default("0"),totalMinted:e("total_minted").notNull().default(0),uniqueMinters:e("unique_minters").notNull().default(0),launchDate:o("launch_date"),endDate:o("end_date"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),ht=i("launch_rounds",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>Z.id),roundNumber:e("round_number").notNull().default(1),name:a("name",{length:100}).notNull(),roundType:a("round_type",{length:30}).notNull().default("public"),startTime:o("start_time").notNull(),endTime:o("end_time").notNull(),price:N("price",{precision:40,scale:0}).notNull(),allocation:e("allocation").notNull(),maxPerWallet:e("max_per_wallet").notNull().default(5),minPerWallet:e("min_per_wallet").notNull().default(1),totalMinted:e("total_minted").notNull().default(0),uniqueParticipants:e("unique_participants").notNull().default(0),totalRaised:N("total_raised",{precision:40,scale:0}).notNull().default("0"),whitelistRequired:_("whitelist_required").notNull().default(!1),status:a("status",{length:20}).notNull().default("pending"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Os=i("whitelist_entries",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>Z.id),roundId:a("round_id",{length:66}).references(()=>ht.id),walletAddress:a("wallet_address",{length:66}).notNull(),allocation:e("allocation").notNull().default(1),used:e("used").notNull().default(0),tier:a("tier",{length:30}),proofData:p("proof_data"),addedBy:a("added_by",{length:66}),addedAt:o("added_at").defaultNow().notNull(),expiresAt:o("expires_at")}),$s=i("launch_allocations",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>Z.id),roundId:a("round_id",{length:66}).notNull().references(()=>ht.id),walletAddress:a("wallet_address",{length:66}).notNull(),quantity:e("quantity").notNull(),pricePerUnit:N("price_per_unit",{precision:40,scale:0}).notNull(),totalPaid:N("total_paid",{precision:40,scale:0}).notNull(),txHash:a("tx_hash",{length:130}),tokenIds:t("token_ids").array(),status:a("status",{length:20}).notNull().default("pending"),mintedAt:o("minted_at"),createdAt:o("created_at").defaultNow().notNull()}),Gs=i("vesting_schedules",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>Z.id),walletAddress:a("wallet_address",{length:66}).notNull(),totalAmount:N("total_amount",{precision:40,scale:0}).notNull(),releasedAmount:N("released_amount",{precision:40,scale:0}).notNull().default("0"),vestingType:a("vesting_type",{length:30}).notNull().default("linear"),startTime:o("start_time").notNull(),cliffDuration:e("cliff_duration").notNull().default(0),vestingDuration:e("vesting_duration").notNull(),releaseInterval:e("release_interval").notNull().default(86400),lastClaimTime:o("last_claim_time"),nextClaimTime:o("next_claim_time"),status:a("status",{length:20}).notNull().default("active"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Zs=i("launchpad_stats",{id:a("id",{length:66}).primaryKey(),totalProjects:e("total_projects").notNull().default(0),activeProjects:e("active_projects").notNull().default(0),completedProjects:e("completed_projects").notNull().default(0),totalRaised:N("total_raised",{precision:40,scale:0}).notNull().default("0"),totalRaisedUsd:N("total_raised_usd",{precision:40,scale:2}).notNull().default("0"),totalMinted:e("total_minted").notNull().default(0),uniqueParticipants:e("unique_participants").notNull().default(0),avgFundingRate:q("avg_funding_rate").default(0),featuredCount:e("featured_count").notNull().default(0),snapshotAt:o("snapshot_at").defaultNow().notNull(),createdAt:o("created_at").defaultNow().notNull()}),Ws=i("launchpad_activity",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>Z.id),roundId:a("round_id",{length:66}),walletAddress:a("wallet_address",{length:66}),eventType:a("event_type",{length:30}).notNull(),quantity:e("quantity"),amount:N("amount",{precision:40,scale:0}),txHash:a("tx_hash",{length:130}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull()});s(Z).omit({id:!0,createdAt:!0,updatedAt:!0});s(ht).omit({id:!0,createdAt:!0,updatedAt:!0});s(Os).omit({id:!0,addedAt:!0});s($s).omit({id:!0,createdAt:!0});s(Gs).omit({id:!0,createdAt:!0,updatedAt:!0});s(Zs).omit({id:!0,snapshotAt:!0,createdAt:!0});s(Ws).omit({id:!0,createdAt:!0});const Xs=i("gamefi_projects",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),name:a("name",{length:100}).notNull(),slug:a("slug",{length:100}).notNull().unique(),description:t("description"),shortDescription:a("short_description",{length:256}),imageUrl:a("image_url",{length:512}),bannerUrl:a("banner_url",{length:512}),website:a("website",{length:256}),developer:a("developer",{length:100}),developerAddress:a("developer_address",{length:66}),category:a("category",{length:50}).notNull().default("arcade"),genre:a("genre",{length:50}),status:a("status",{length:20}).notNull().default("active"),featured:_("featured").default(!1),verified:_("verified").default(!1),contractAddress:a("contract_address",{length:66}),chainId:e("chain_id").default(1),tokenSymbol:a("token_symbol",{length:20}),nftContractAddress:a("nft_contract_address",{length:66}),totalPlayers:e("total_players").default(0),activePlayers24h:e("active_players_24h").default(0),totalVolume:N("total_volume",{precision:40,scale:0}).default("0"),dailyVolume:N("daily_volume",{precision:40,scale:0}).default("0"),totalRewardsDistributed:N("total_rewards_distributed",{precision:40,scale:0}).default("0"),aiScore:q("ai_score"),socialScore:e("social_score").default(0),rating:q("rating").default(0),ratingCount:e("rating_count").default(0),playToEarnEnabled:_("play_to_earn_enabled").default(!0),stakingEnabled:_("staking_enabled").default(!1),tournamentEnabled:_("tournament_enabled").default(!1),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Js=i("game_assets",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),tokenId:a("token_id",{length:100}).notNull(),name:a("name",{length:100}).notNull(),description:t("description"),imageUrl:a("image_url",{length:512}),assetType:a("asset_type",{length:50}).notNull().default("item"),rarity:a("rarity",{length:20}).notNull().default("common"),ownerAddress:a("owner_address",{length:66}),mintedAt:o("minted_at"),lastTransferAt:o("last_transfer_at"),price:N("price",{precision:40,scale:0}),isListed:_("is_listed").default(!1),isStaked:_("is_staked").default(!1),stakingRewards:N("staking_rewards",{precision:40,scale:0}).default("0"),attributes:p("attributes"),boosts:p("boosts"),usageCount:e("usage_count").default(0),winRate:q("win_rate"),earnedRewards:N("earned_rewards",{precision:40,scale:0}).default("0"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Ys=i("game_rewards",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),walletAddress:a("wallet_address",{length:66}).notNull(),rewardType:a("reward_type",{length:50}).notNull().default("gameplay"),amount:N("amount",{precision:40,scale:0}).notNull(),tokenSymbol:a("token_symbol",{length:20}).default("TBURN"),reason:a("reason",{length:256}),txHash:a("tx_hash",{length:130}),status:a("status",{length:20}).notNull().default("pending"),metadata:p("metadata"),expiresAt:o("expires_at"),claimedAt:o("claimed_at"),createdAt:o("created_at").defaultNow().notNull()}),tc=i("game_leaderboards",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),leaderboardType:a("leaderboard_type",{length:50}).notNull().default("global"),periodStart:o("period_start"),periodEnd:o("period_end"),walletAddress:a("wallet_address",{length:66}).notNull(),playerName:a("player_name",{length:50}),rank:e("rank").notNull(),score:N("score",{precision:40,scale:0}).notNull(),wins:e("wins").default(0),losses:e("losses").default(0),gamesPlayed:e("games_played").default(0),winStreak:e("win_streak").default(0),bestWinStreak:e("best_win_streak").default(0),totalEarned:N("total_earned",{precision:40,scale:0}).default("0"),rewardClaimed:_("reward_claimed").default(!1),rewardAmount:N("reward_amount",{precision:40,scale:0}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),ec=i("game_tournaments",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),name:a("name",{length:100}).notNull(),description:t("description"),imageUrl:a("image_url",{length:512}),tournamentType:a("tournament_type",{length:50}).notNull().default("single_elimination"),status:a("status",{length:20}).notNull().default("upcoming"),entryFee:N("entry_fee",{precision:40,scale:0}).default("0"),prizePool:N("prize_pool",{precision:40,scale:0}).notNull(),prizeDistribution:p("prize_distribution"),maxParticipants:e("max_participants").default(64),currentParticipants:e("current_participants").default(0),minParticipants:e("min_participants").default(2),requiresNft:_("requires_nft").default(!1),requiredNftContract:a("required_nft_contract",{length:66}),registrationStart:o("registration_start"),registrationEnd:o("registration_end"),startTime:o("start_time"),endTime:o("end_time"),rules:t("rules"),metadata:p("metadata"),winnerId:a("winner_id",{length:66}),runnerUpId:a("runner_up_id",{length:66}),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),ac=i("tournament_participants",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),tournamentId:a("tournament_id",{length:64}).notNull(),walletAddress:a("wallet_address",{length:66}).notNull(),playerName:a("player_name",{length:50}),teamName:a("team_name",{length:100}),status:a("status",{length:20}).notNull().default("registered"),seed:e("seed"),bracket:a("bracket",{length:50}),round:e("round").default(0),wins:e("wins").default(0),losses:e("losses").default(0),score:N("score",{precision:40,scale:0}).default("0"),placement:e("placement"),prizeWon:N("prize_won",{precision:40,scale:0}),prizeClaimed:_("prize_claimed").default(!1),entryPaid:_("entry_paid").default(!1),entryTxHash:a("entry_tx_hash",{length:130}),registeredAt:o("registered_at").defaultNow().notNull(),checkInAt:o("check_in_at"),eliminatedAt:o("eliminated_at")}),lc=i("achievement_badges",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}),name:a("name",{length:100}).notNull(),description:t("description"),imageUrl:a("image_url",{length:512}),category:a("category",{length:50}).notNull().default("gameplay"),rarity:a("rarity",{length:20}).notNull().default("common"),points:e("points").default(10),requirement:p("requirement"),isGlobal:_("is_global").default(!1),isHidden:_("is_hidden").default(!1),totalUnlocks:e("total_unlocks").default(0),rewardAmount:N("reward_amount",{precision:40,scale:0}),rewardTokenSymbol:a("reward_token_symbol",{length:20}),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),oc=i("player_achievements",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),badgeId:a("badge_id",{length:64}).notNull(),walletAddress:a("wallet_address",{length:66}).notNull(),projectId:a("project_id",{length:64}),progress:e("progress").default(0),isCompleted:_("is_completed").default(!1),rewardClaimed:_("reward_claimed").default(!1),claimTxHash:a("claim_tx_hash",{length:130}),unlockedAt:o("unlocked_at"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),nc=i("gamefi_activity",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),projectId:a("project_id",{length:64}),walletAddress:a("wallet_address",{length:66}),eventType:a("event_type",{length:50}).notNull(),amount:N("amount",{precision:40,scale:0}),assetId:a("asset_id",{length:64}),tournamentId:a("tournament_id",{length:64}),badgeId:a("badge_id",{length:64}),txHash:a("tx_hash",{length:130}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull()}),rc=i("gamefi_stats",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),snapshotAt:o("snapshot_at").defaultNow().notNull(),totalProjects:e("total_projects").default(0),activeProjects:e("active_projects").default(0),totalPlayers:e("total_players").default(0),activePlayers24h:e("active_players_24h").default(0),totalVolume:N("total_volume",{precision:40,scale:0}).default("0"),dailyVolume:N("daily_volume",{precision:40,scale:0}).default("0"),totalRewardsDistributed:N("total_rewards_distributed",{precision:40,scale:0}).default("0"),dailyRewards:N("daily_rewards",{precision:40,scale:0}).default("0"),activeTournaments:e("active_tournaments").default(0),totalTournamentPrize:N("total_tournament_prize",{precision:40,scale:0}).default("0"),totalAssets:e("total_assets").default(0),totalAchievements:e("total_achievements").default(0),createdAt:o("created_at").defaultNow().notNull()});s(Xs).omit({id:!0,createdAt:!0,updatedAt:!0});s(Js).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ys).omit({id:!0,createdAt:!0});s(tc).omit({id:!0,createdAt:!0,updatedAt:!0});s(ec).omit({id:!0,createdAt:!0,updatedAt:!0});s(ac).omit({id:!0,registeredAt:!0});s(lc).omit({id:!0,createdAt:!0,updatedAt:!0});s(oc).omit({id:!0,createdAt:!0,updatedAt:!0});s(nc).omit({id:!0,createdAt:!0});s(rc).omit({id:!0,snapshotAt:!0,createdAt:!0});const uc=i("bridge_chains",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),chainId:e("chain_id").notNull().unique(),name:a("name",{length:100}).notNull(),symbol:a("symbol",{length:20}).notNull(),networkType:a("network_type",{length:30}).notNull().default("mainnet"),rpcUrl:a("rpc_url",{length:512}),explorerUrl:a("explorer_url",{length:512}),iconUrl:a("icon_url",{length:512}),nativeCurrency:a("native_currency",{length:20}).notNull(),nativeDecimals:e("native_decimals").default(18),status:a("status",{length:20}).notNull().default("active"),avgBlockTime:e("avg_block_time").default(12e3),confirmationsRequired:e("confirmations_required").default(12),maxGasPrice:N("max_gas_price",{precision:40,scale:0}),bridgeContractAddress:a("bridge_contract_address",{length:66}),tokenFactoryAddress:a("token_factory_address",{length:66}),totalLiquidity:N("total_liquidity",{precision:40,scale:0}).default("0"),volume24h:N("volume_24h",{precision:40,scale:0}).default("0"),volumeTotal:N("volume_total",{precision:40,scale:0}).default("0"),txCount24h:e("tx_count_24h").default(0),txCountTotal:e("tx_count_total").default(0),avgTransferTime:e("avg_transfer_time").default(6e4),successRate:e("success_rate").default(9900),aiRiskScore:e("ai_risk_score").default(100),isEvm:_("is_evm").default(!0),supportsEip1559:_("supports_eip1559").default(!0),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),dc=i("bridge_routes",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),sourceChainId:e("source_chain_id").notNull(),destinationChainId:e("destination_chain_id").notNull(),tokenAddress:a("token_address",{length:66}).notNull(),tokenSymbol:a("token_symbol",{length:20}).notNull(),tokenDecimals:e("token_decimals").default(18),wrappedTokenAddress:a("wrapped_token_address",{length:66}),routeType:a("route_type",{length:30}).notNull().default("lock_mint"),status:a("status",{length:20}).notNull().default("active"),minAmount:N("min_amount",{precision:40,scale:0}).notNull().default("1000000000000000000"),maxAmount:N("max_amount",{precision:40,scale:0}).notNull().default("1000000000000000000000000"),dailyLimit:N("daily_limit",{precision:40,scale:0}).default("10000000000000000000000000"),dailyUsed:N("daily_used",{precision:40,scale:0}).default("0"),baseFee:N("base_fee",{precision:40,scale:0}).default("0"),feePercent:e("fee_percent").default(30),estimatedTime:e("estimated_time").default(18e4),avgTime:e("avg_time").default(12e4),successRate:e("success_rate").default(9950),volume24h:N("volume_24h",{precision:40,scale:0}).default("0"),volumeTotal:N("volume_total",{precision:40,scale:0}).default("0"),txCount24h:e("tx_count_24h").default(0),txCountTotal:e("tx_count_total").default(0),liquidityAvailable:N("liquidity_available",{precision:40,scale:0}).default("0"),aiOptimized:_("ai_optimized").default(!0),aiPriority:e("ai_priority").default(50),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),ic=i("bridge_transfers",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),routeId:a("route_id",{length:64}),sourceChainId:e("source_chain_id").notNull(),destinationChainId:e("destination_chain_id").notNull(),senderAddress:a("sender_address",{length:66}).notNull(),recipientAddress:a("recipient_address",{length:66}).notNull(),tokenAddress:a("token_address",{length:66}).notNull(),tokenSymbol:a("token_symbol",{length:20}).notNull(),amount:N("amount",{precision:40,scale:0}).notNull(),amountReceived:N("amount_received",{precision:40,scale:0}),feeAmount:N("fee_amount",{precision:40,scale:0}).default("0"),feeToken:a("fee_token",{length:20}),status:a("status",{length:30}).notNull().default("pending"),sourceTxHash:a("source_tx_hash",{length:130}),destinationTxHash:a("destination_tx_hash",{length:130}),sourceBlockNumber:h("source_block_number",{mode:"number"}),destinationBlockNumber:h("destination_block_number",{mode:"number"}),confirmations:e("confirmations").default(0),requiredConfirmations:e("required_confirmations").default(12),estimatedArrival:o("estimated_arrival"),actualArrival:o("actual_arrival"),errorMessage:t("error_message"),retryCount:e("retry_count").default(0),aiVerified:_("ai_verified").default(!1),aiRiskScore:e("ai_risk_score"),aiRiskFactors:p("ai_risk_factors"),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),sc=i("bridge_liquidity_pools",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),chainId:e("chain_id").notNull(),tokenAddress:a("token_address",{length:66}).notNull(),tokenSymbol:a("token_symbol",{length:20}).notNull(),tokenDecimals:e("token_decimals").default(18),poolAddress:a("pool_address",{length:66}),totalLiquidity:N("total_liquidity",{precision:40,scale:0}).notNull().default("0"),availableLiquidity:N("available_liquidity",{precision:40,scale:0}).notNull().default("0"),lockedLiquidity:N("locked_liquidity",{precision:40,scale:0}).default("0"),utilizationRate:e("utilization_rate").default(0),minLiquidity:N("min_liquidity",{precision:40,scale:0}).default("0"),targetLiquidity:N("target_liquidity",{precision:40,scale:0}).default("0"),lpTokenAddress:a("lp_token_address",{length:66}),lpTokenSupply:N("lp_token_supply",{precision:40,scale:0}).default("0"),lpApy:e("lp_apy").default(0),totalFeesEarned:N("total_fees_earned",{precision:40,scale:0}).default("0"),fees24h:N("fees_24h",{precision:40,scale:0}).default("0"),volume24h:N("volume_24h",{precision:40,scale:0}).default("0"),txCount24h:e("tx_count_24h").default(0),providerCount:e("provider_count").default(0),status:a("status",{length:20}).notNull().default("active"),rebalanceThreshold:e("rebalance_threshold").default(8e3),lastRebalanceAt:o("last_rebalance_at"),aiManagedRebalance:_("ai_managed_rebalance").default(!0),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),cc=i("bridge_liquidity_providers",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),poolId:a("pool_id",{length:64}).notNull(),providerAddress:a("provider_address",{length:66}).notNull(),depositedAmount:N("deposited_amount",{precision:40,scale:0}).notNull().default("0"),lpTokenBalance:N("lp_token_balance",{precision:40,scale:0}).notNull().default("0"),sharePercent:e("share_percent").default(0),pendingRewards:N("pending_rewards",{precision:40,scale:0}).default("0"),claimedRewards:N("claimed_rewards",{precision:40,scale:0}).default("0"),totalEarned:N("total_earned",{precision:40,scale:0}).default("0"),depositTxHash:a("deposit_tx_hash",{length:130}),lastClaimAt:o("last_claim_at"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),_c=i("bridge_validators",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),address:a("address",{length:66}).notNull().unique(),name:a("name",{length:100}),operatorAddress:a("operator_address",{length:66}),status:a("status",{length:20}).notNull().default("active"),stake:N("stake",{precision:40,scale:0}).notNull().default("0"),minStake:N("min_stake",{precision:40,scale:0}).default("100000000000000000000000"),commission:e("commission").default(500),uptime:e("uptime").default(1e4),attestationsProcessed:e("attestations_processed").default(0),attestationsValid:e("attestations_valid").default(0),attestationsFailed:e("attestations_failed").default(0),slashCount:e("slash_count").default(0),slashedAmount:N("slashed_amount",{precision:40,scale:0}).default("0"),rewardsEarned:N("rewards_earned",{precision:40,scale:0}).default("0"),rewardsClaimed:N("rewards_claimed",{precision:40,scale:0}).default("0"),supportedChains:p("supported_chains"),avgResponseTime:e("avg_response_time").default(0),lastActiveAt:o("last_active_at"),aiTrustScore:e("ai_trust_score").default(8e3),reputationScore:e("reputation_score").default(8500),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),fc=i("bridge_fee_configs",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),routeId:a("route_id",{length:64}),sourceChainId:e("source_chain_id"),destinationChainId:e("destination_chain_id"),tokenSymbol:a("token_symbol",{length:20}),feeType:a("fee_type",{length:30}).notNull().default("dynamic"),baseFee:N("base_fee",{precision:40,scale:0}).default("0"),percentFee:e("percent_fee").default(30),minFee:N("min_fee",{precision:40,scale:0}).default("0"),maxFee:N("max_fee",{precision:40,scale:0}),gasMultiplier:e("gas_multiplier").default(150),tierThresholds:p("tier_thresholds"),tierDiscounts:p("tier_discounts"),aiAdjustment:e("ai_adjustment").default(0),isActive:_("is_active").default(!0),validFrom:o("valid_from"),validTo:o("valid_to"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),mc=i("bridge_security_events",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),eventType:a("event_type",{length:50}).notNull(),severity:a("severity",{length:20}).notNull().default("medium"),sourceChainId:e("source_chain_id"),destinationChainId:e("destination_chain_id"),transferId:a("transfer_id",{length:64}),validatorId:a("validator_id",{length:64}),walletAddress:a("wallet_address",{length:66}),txHash:a("tx_hash",{length:130}),amount:N("amount",{precision:40,scale:0}),description:t("description"),aiDetected:_("ai_detected").default(!1),aiConfidence:e("ai_confidence"),aiRecommendation:t("ai_recommendation"),status:a("status",{length:20}).notNull().default("active"),resolvedAt:o("resolved_at"),resolvedBy:a("resolved_by",{length:66}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull()}),pc=i("bridge_analytics",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),snapshotAt:o("snapshot_at").defaultNow().notNull(),totalChains:e("total_chains").default(0),activeChains:e("active_chains").default(0),totalRoutes:e("total_routes").default(0),activeRoutes:e("active_routes").default(0),totalValidators:e("total_validators").default(0),activeValidators:e("active_validators").default(0),totalLiquidity:N("total_liquidity",{precision:40,scale:0}).default("0"),totalVolume:N("total_volume",{precision:40,scale:0}).default("0"),volume24h:N("volume_24h",{precision:40,scale:0}).default("0"),volume7d:N("volume_7d",{precision:40,scale:0}).default("0"),transferCount24h:e("transfer_count_24h").default(0),transferCountTotal:e("transfer_count_total").default(0),uniqueUsers24h:e("unique_users_24h").default(0),uniqueUsersTotal:e("unique_users_total").default(0),avgTransferTime:e("avg_transfer_time").default(0),successRate:e("success_rate").default(9900),totalFees:N("total_fees",{precision:40,scale:0}).default("0"),fees24h:N("fees_24h",{precision:40,scale:0}).default("0"),securityEventsCount:e("security_events_count").default(0),aiInterventions:e("ai_interventions").default(0),topSourceChain:e("top_source_chain"),topDestinationChain:e("top_destination_chain"),topToken:a("top_token",{length:20}),createdAt:o("created_at").defaultNow().notNull()}),Nc=i("bridge_activity",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),eventType:a("event_type",{length:50}).notNull(),chainId:e("chain_id"),transferId:a("transfer_id",{length:64}),validatorId:a("validator_id",{length:64}),poolId:a("pool_id",{length:64}),walletAddress:a("wallet_address",{length:66}),amount:N("amount",{precision:40,scale:0}),tokenSymbol:a("token_symbol",{length:20}),txHash:a("tx_hash",{length:130}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull()});s(uc).omit({id:!0,createdAt:!0,updatedAt:!0});s(dc).omit({id:!0,createdAt:!0,updatedAt:!0});s(ic).omit({id:!0,createdAt:!0,updatedAt:!0});s(sc).omit({id:!0,createdAt:!0,updatedAt:!0});s(cc).omit({id:!0,createdAt:!0,updatedAt:!0});s(_c).omit({id:!0,createdAt:!0,updatedAt:!0});s(fc).omit({id:!0,createdAt:!0,updatedAt:!0});s(mc).omit({id:!0,createdAt:!0});s(pc).omit({id:!0,snapshotAt:!0,createdAt:!0});s(Nc).omit({id:!0,createdAt:!0});const gc=i("community_posts",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),authorId:e("author_id").notNull(),authorAddress:a("author_address",{length:66}).notNull(),authorUsername:a("author_username",{length:100}),title:a("title",{length:256}).notNull(),titleKo:a("title_ko",{length:500}),content:t("content").notNull(),contentKo:t("content_ko"),category:a("category",{length:50}).notNull().default("general"),tags:t("tags").array().default([]),status:a("status",{length:20}).notNull().default("active"),isPinned:_("is_pinned").default(!1),isHot:_("is_hot").default(!1),isLocked:_("is_locked").default(!1),likes:e("likes").default(0),views:e("views").default(0),commentCount:e("comment_count").default(0),lastActivityAt:o("last_activity_at").defaultNow(),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),yc=i("community_comments",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),postId:a("post_id",{length:64}).notNull(),authorId:e("author_id").notNull(),authorAddress:a("author_address",{length:66}).notNull(),authorUsername:a("author_username",{length:100}),content:t("content").notNull(),parentCommentId:a("parent_comment_id",{length:64}),likes:e("likes").default(0),isEdited:_("is_edited").default(!1),status:a("status",{length:20}).notNull().default("active"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),hc=i("community_events",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),title:a("title",{length:256}).notNull(),titleKo:a("title_ko",{length:256}),description:t("description").notNull(),descriptionKo:t("description_ko"),eventType:a("event_type",{length:30}).notNull().default("meetup"),startDate:o("start_date").notNull(),endDate:o("end_date").notNull(),location:a("location",{length:256}),isOnline:_("is_online").default(!0),meetingUrl:a("meeting_url",{length:512}),participants:e("participants").default(0),maxParticipants:e("max_participants"),rewards:a("rewards",{length:100}),status:a("status",{length:20}).notNull().default("upcoming"),organizerId:e("organizer_id"),coverImage:a("cover_image",{length:512}),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Ac=i("community_announcements",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),title:a("title",{length:256}).notNull(),titleKo:a("title_ko",{length:256}),content:t("content").notNull(),contentKo:t("content_ko"),announcementType:a("announcement_type",{length:30}).notNull().default("news"),isImportant:_("is_important").default(!1),isPinned:_("is_pinned").default(!1),expiresAt:o("expires_at"),authorId:e("author_id"),views:e("views").default(0),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),bc=i("community_badges",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),name:a("name",{length:100}).notNull(),description:t("description").notNull(),icon:a("icon",{length:50}).notNull(),rarity:a("rarity",{length:20}).notNull().default("common"),category:a("category",{length:50}).notNull().default("general"),requirement:t("requirement"),requirementValue:e("requirement_value"),isAutoAwarded:_("is_auto_awarded").default(!1),pointsValue:e("points_value").default(10),totalAwarded:e("total_awarded").default(0),createdAt:o("created_at").defaultNow().notNull()}),vc=i("community_user_badges",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),userId:e("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),badgeId:a("badge_id",{length:64}).notNull(),progress:e("progress").default(0),isCompleted:_("is_completed").default(!1),earnedAt:o("earned_at"),createdAt:o("created_at").defaultNow().notNull()}),wc=i("community_activity",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),userId:e("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),username:a("username",{length:100}),activityType:a("activity_type",{length:30}).notNull(),action:a("action",{length:100}).notNull(),targetId:a("target_id",{length:64}),targetTitle:a("target_title",{length:256}),amount:a("amount",{length:100}),metadata:p("metadata"),createdAt:o("created_at").defaultNow().notNull()}),kc=i("community_reputation",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),userId:e("user_id").notNull().unique(),userAddress:a("user_address",{length:66}).notNull(),reputation:e("reputation").default(0),level:e("level").default(1),contributions:e("contributions").default(0),postsCount:e("posts_count").default(0),commentsCount:e("comments_count").default(0),likesReceived:e("likes_received").default(0),likesGiven:e("likes_given").default(0),proposalsCreated:e("proposals_created").default(0),proposalsVoted:e("proposals_voted").default(0),eventsAttended:e("events_attended").default(0),badgesEarned:e("badges_earned").default(0),lastActivityAt:o("last_activity_at").defaultNow(),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()});s(gc).omit({id:!0,likes:!0,views:!0,commentCount:!0,lastActivityAt:!0,createdAt:!0,updatedAt:!0});s(yc).omit({id:!0,likes:!0,isEdited:!0,createdAt:!0,updatedAt:!0});s(hc).omit({id:!0,participants:!0,createdAt:!0,updatedAt:!0});s(Ac).omit({id:!0,views:!0,createdAt:!0,updatedAt:!0});s(bc).omit({id:!0,totalAwarded:!0,createdAt:!0});s(vc).omit({id:!0,createdAt:!0});s(wc).omit({id:!0,createdAt:!0});s(kc).omit({id:!0,createdAt:!0,updatedAt:!0});const Sc=i("community_post_reactions",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),postId:a("post_id",{length:64}).notNull(),userId:e("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),reactionType:a("reaction_type",{length:10}).notNull(),createdAt:o("created_at").defaultNow().notNull()}),Tc=i("community_comment_reactions",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),commentId:a("comment_id",{length:64}).notNull(),userId:e("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),reactionType:a("reaction_type",{length:10}).notNull(),createdAt:o("created_at").defaultNow().notNull()}),xc=i("community_event_registrations",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),eventId:a("event_id",{length:64}).notNull(),userId:e("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),username:a("username",{length:100}),status:a("status",{length:20}).notNull().default("registered"),registeredAt:o("registered_at").defaultNow().notNull(),attendedAt:o("attended_at"),cancelledAt:o("cancelled_at")});s(Sc).omit({id:!0,createdAt:!0});s(Tc).omit({id:!0,createdAt:!0});s(xc).omit({id:!0,registeredAt:!0,attendedAt:!0,cancelledAt:!0});const Pc=i("shard_configurations",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),currentShardCount:e("current_shard_count").notNull().default(5),minShards:e("min_shards").notNull().default(5),maxShards:e("max_shards").notNull().default(64),validatorsPerShard:e("validators_per_shard").notNull().default(25),tpsPerShard:e("tps_per_shard").notNull().default(1e4),crossShardLatencyMs:e("cross_shard_latency_ms").notNull().default(50),rebalanceThreshold:q("rebalance_threshold").notNull().default(.3),scalingMode:a("scaling_mode",{length:20}).notNull().default("automatic"),cooldownMinutes:e("cooldown_minutes").notNull().default(5),version:e("version").notNull().default(1),isActive:_("is_active").notNull().default(!0),healthStatus:a("health_status",{length:20}).notNull().default("healthy"),lastHealthCheck:o("last_health_check").defaultNow(),changedBy:a("changed_by",{length:100}),changeReason:t("change_reason"),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Ic=i("shard_config_history",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),configId:a("config_id",{length:64}).notNull(),version:e("version").notNull(),configSnapshot:p("config_snapshot").notNull(),changedBy:a("changed_by",{length:100}).notNull(),changeReason:t("change_reason"),changeType:a("change_type",{length:30}).notNull().default("update"),previousShardCount:e("previous_shard_count"),newShardCount:e("new_shard_count"),affectedShards:p("affected_shards").default([]),estimatedDowntime:e("estimated_downtime_seconds").default(0),rollbackable:_("rollbackable").notNull().default(!0),rolledBackAt:o("rolled_back_at"),rolledBackBy:a("rolled_back_by",{length:100}),createdAt:o("created_at").defaultNow().notNull()}),Cc=i("shard_scaling_events",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),eventType:a("event_type",{length:30}).notNull(),status:a("status",{length:20}).notNull().default("pending"),fromShards:e("from_shards").notNull(),toShards:e("to_shards").notNull(),triggerReason:t("trigger_reason"),triggeredBy:a("triggered_by",{length:100}).notNull(),affectedValidators:e("affected_validators").default(0),estimatedDuration:e("estimated_duration_seconds").default(0),actualDuration:e("actual_duration_seconds"),success:_("success"),errorMessage:t("error_message"),startedAt:o("started_at").defaultNow().notNull(),completedAt:o("completed_at")}),qc=i("shard_config_audit_logs",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),action:a("action",{length:50}).notNull(),actor:a("actor",{length:100}).notNull(),severity:a("severity",{length:20}).notNull().default("info"),oldValue:p("old_value"),newValue:p("new_value"),details:p("details").default({}),status:a("status",{length:20}).notNull().default("success"),errorMessage:t("error_message"),ipAddress:a("ip_address",{length:45}),userAgent:t("user_agent"),createdAt:o("created_at").defaultNow().notNull()});s(Pc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ic).omit({id:!0,createdAt:!0});s(Cc).omit({id:!0,startedAt:!0,completedAt:!0});s(qc).omit({id:!0,createdAt:!0});const Rc=i("wallet_performance_history",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),timeframe:t("timeframe").notNull().default("1D"),balanceEmber:t("balance_ember").notNull().default("0"),balanceUsd:t("balance_usd").notNull().default("0"),pnl24h:t("pnl_24h").notNull().default("0"),pnl7d:t("pnl_7d").notNull().default("0"),pnlPercentage24h:e("pnl_percentage_24h").notNull().default(0),pnlPercentage7d:e("pnl_percentage_7d").notNull().default(0),epoch:h("epoch",{mode:"number"}).notNull().default(0),source:t("source").notNull().default("node"),snapshotAt:o("snapshot_at").notNull().defaultNow(),createdAt:o("created_at").notNull().defaultNow()}),Dc=i("wallet_action_log",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),actionType:t("action_type").notNull(),status:t("status").notNull().default("pending"),amount:t("amount").notNull().default("0"),amountUsd:t("amount_usd").notNull().default("0"),toAddress:t("to_address"),fromAddress:t("from_address"),txHash:t("tx_hash"),blockNumber:h("block_number",{mode:"number"}),gasUsed:h("gas_used",{mode:"number"}),gasPrice:t("gas_price"),fee:t("fee").default("0"),tokenPair:t("token_pair"),swapRate:t("swap_rate"),slippage:e("slippage"),metadata:p("metadata"),errorMessage:t("error_message"),initiatedAt:o("initiated_at").notNull().defaultNow(),confirmedAt:o("confirmed_at"),failedAt:o("failed_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Uc=i("wallet_streaming_checkpoint",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:t("wallet_address").notNull().unique(),lastEventId:t("last_event_id").notNull().default("0"),lastBlockNumber:h("last_block_number",{mode:"number"}).notNull().default(0),lastEventTimestamp:o("last_event_timestamp").notNull().defaultNow(),streamType:t("stream_type").notNull().default("all"),isActive:_("is_active").notNull().default(!0),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()});s(Rc).omit({id:!0,createdAt:!0});s(Dc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Uc).omit({id:!0,createdAt:!0,updatedAt:!0});const Bc=i("testnet_wallets",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),address:a("address",{length:66}).notNull().unique(),balance:N("balance",{precision:40,scale:0}).notNull().default("0"),nonce:e("nonce").notNull().default(0),txCount:e("tx_count").notNull().default(0),firstSeenAt:o("first_seen_at").defaultNow().notNull(),lastActiveAt:o("last_active_at").defaultNow().notNull(),createdAt:o("created_at").defaultNow().notNull(),updatedAt:o("updated_at").defaultNow().notNull()}),Kc=i("testnet_transactions",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),hash:a("hash",{length:130}).notNull().unique(),blockNumber:h("block_number",{mode:"number"}).notNull(),fromAddress:a("from_address",{length:66}).notNull(),toAddress:a("to_address",{length:66}).notNull(),value:N("value",{precision:40,scale:0}).notNull().default("0"),gasPrice:N("gas_price",{precision:40,scale:0}).notNull().default("100"),gasUsed:e("gas_used").notNull().default(21e3),gasLimit:e("gas_limit").notNull().default(21e3),nonce:e("nonce").notNull().default(0),status:a("status",{length:20}).notNull().default("confirmed"),txType:a("tx_type",{length:30}).notNull().default("transfer"),input:t("input").default("0x"),createdAt:o("created_at").defaultNow().notNull()}),Vc=i("testnet_blocks",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),number:h("number",{mode:"number"}).notNull().unique(),hash:a("hash",{length:130}).notNull().unique(),parentHash:a("parent_hash",{length:130}).notNull(),timestamp:o("timestamp").defaultNow().notNull(),transactionCount:e("transaction_count").notNull().default(0),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),gasLimit:h("gas_limit",{mode:"number"}).notNull().default(15e6),validator:a("validator",{length:66}).notNull(),size:e("size").notNull().default(0),createdAt:o("created_at").defaultNow().notNull()}),zc=i("testnet_faucet_requests",{id:a("id",{length:64}).primaryKey().default(c`gen_random_uuid()`),walletAddress:a("wallet_address",{length:66}).notNull(),amount:N("amount",{precision:40,scale:0}).notNull().default("1000000000000000000000"),txHash:a("tx_hash",{length:130}),status:a("status",{length:20}).notNull().default("pending"),ipAddress:a("ip_address",{length:45}),userAgent:t("user_agent"),createdAt:o("created_at").defaultNow().notNull(),completedAt:o("completed_at")});s(Bc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Kc).omit({id:!0,createdAt:!0});s(Vc).omit({id:!0,createdAt:!0});s(zc).omit({id:!0,createdAt:!0});const Mc=i("genesis_config",{id:a("id").primaryKey().default(c`gen_random_uuid()`),chainId:e("chain_id").notNull().default(8888),chainName:t("chain_name").notNull().default("TBURN Mainnet"),networkVersion:t("network_version").notNull().default("v8.0"),genesisTimestamp:h("genesis_timestamp",{mode:"number"}),genesisBlockHash:t("genesis_block_hash"),initialDifficulty:t("initial_difficulty").notNull().default("1"),blockTimeMs:e("block_time_ms").notNull().default(100),totalSupply:t("total_supply").notNull().default("10000000000000000000000000000"),decimals:e("decimals").notNull().default(18),tokenSymbol:t("token_symbol").notNull().default("TBURN"),tokenName:t("token_name").notNull().default("TBURN Token"),initialPrice:t("initial_price").notNull().default("0.50"),minValidatorStake:t("min_validator_stake").notNull().default("100000000000000000000000"),maxValidatorCount:e("max_validator_count").notNull().default(125),initialValidatorCount:e("initial_validator_count").notNull().default(21),stakingRewardRate:e("staking_reward_rate").notNull().default(1250),consensusType:t("consensus_type").notNull().default("ai_committee_bft"),committeeSize:e("committee_size").notNull().default(21),blockProducerCount:e("block_producer_count").notNull().default(7),quorumThreshold:e("quorum_threshold").notNull().default(6700),initialShardCount:e("initial_shard_count").notNull().default(8),maxShardCount:e("max_shard_count").notNull().default(128),status:t("status").notNull().default("draft"),isExecuted:_("is_executed").notNull().default(!1),executedAt:o("executed_at"),executedBy:t("executed_by"),executionTxHash:t("execution_tx_hash"),preflightChecks:p("preflight_checks"),preflightPassedAt:o("preflight_passed_at"),requiredSignatures:e("required_signatures").notNull().default(3),totalSigners:e("total_signers").notNull().default(5),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),createdBy:t("created_by"),lastModifiedBy:t("last_modified_by")}),Lc=i("genesis_validators",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configId:a("config_id").notNull(),address:t("address").notNull(),name:t("name").notNull(),description:t("description"),website:t("website"),contactEmail:t("contact_email"),initialStake:t("initial_stake").notNull(),selfDelegation:t("self_delegation").notNull().default("0"),commission:e("commission").notNull().default(500),nodePublicKey:t("node_public_key").notNull(),nodeEndpoint:t("node_endpoint"),p2pPort:e("p2p_port").notNull().default(30303),rpcPort:e("rpc_port").notNull().default(8545),tier:t("tier").notNull().default("genesis"),priority:e("priority").notNull().default(0),isVerified:_("is_verified").notNull().default(!1),verifiedAt:o("verified_at"),verifiedBy:t("verified_by"),kycStatus:t("kyc_status").notNull().default("pending"),kycDocumentId:t("kyc_document_id"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Fc=i("genesis_distribution",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configId:a("config_id").notNull(),category:t("category").notNull(),subcategory:t("subcategory"),recipientName:t("recipient_name").notNull(),recipientAddress:t("recipient_address").notNull(),recipientType:t("recipient_type").notNull().default("wallet"),amount:t("amount").notNull(),percentage:e("percentage").notNull(),hasVesting:_("has_vesting").notNull().default(!1),vestingStartDate:o("vesting_start_date"),vestingEndDate:o("vesting_end_date"),vestingCliffMonths:e("vesting_cliff_months").default(0),vestingDurationMonths:e("vesting_duration_months").default(0),vestingSchedule:p("vesting_schedule"),isLocked:_("is_locked").notNull().default(!1),lockDurationDays:e("lock_duration_days").default(0),unlockDate:o("unlock_date"),status:t("status").notNull().default("pending"),distributedAt:o("distributed_at"),distributionTxHash:t("distribution_tx_hash"),verificationProof:t("verification_proof"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Ec=i("genesis_approvals",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configId:a("config_id").notNull(),signerAddress:t("signer_address").notNull(),signerName:t("signer_name").notNull(),signerRole:t("signer_role").notNull(),signerOrder:e("signer_order").notNull().default(0),status:t("status").notNull().default("pending"),approvedAt:o("approved_at"),rejectedAt:o("rejected_at"),rejectionReason:t("rejection_reason"),signature:t("signature"),signatureType:t("signature_type").notNull().default("eip712"),signedMessage:t("signed_message"),signedAt:o("signed_at"),hardwareWalletType:t("hardware_wallet_type"),derivationPath:t("derivation_path"),isVerified:_("is_verified").notNull().default(!1),verifiedAt:o("verified_at"),verificationHash:t("verification_hash"),comments:t("comments"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),jc=i("genesis_execution_log",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configId:a("config_id").notNull(),logType:t("log_type").notNull(),severity:t("severity").notNull().default("info"),action:t("action").notNull(),description:t("description").notNull(),details:p("details"),actorAddress:t("actor_address"),actorName:t("actor_name"),actorRole:t("actor_role"),referenceType:t("reference_type"),referenceId:t("reference_id"),txHash:t("tx_hash"),blockNumber:h("block_number",{mode:"number"}),logHash:t("log_hash"),previousLogHash:t("previous_log_hash"),ipAddress:t("ip_address"),userAgent:t("user_agent"),sessionId:t("session_id"),createdAt:o("created_at").notNull().defaultNow()}),Hc=i("genesis_preflight_checks",{id:a("id").primaryKey().default(c`gen_random_uuid()`),configId:a("config_id").notNull(),checkName:t("check_name").notNull(),checkCategory:t("check_category").notNull(),checkDescription:t("check_description").notNull(),status:t("status").notNull().default("pending"),result:p("result"),errorMessage:t("error_message"),warningMessage:t("warning_message"),expectedValue:t("expected_value"),actualValue:t("actual_value"),tolerance:t("tolerance"),isCritical:_("is_critical").notNull().default(!1),isRequired:_("is_required").notNull().default(!0),priority:e("priority").notNull().default(0),executedAt:o("executed_at"),executionDurationMs:e("execution_duration_ms"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Qc=i("newsletter_subscribers",{id:a("id").primaryKey().default(c`gen_random_uuid()`),email:a("email",{length:255}).notNull().unique(),status:a("status",{length:50}).notNull().default("active"),source:a("source",{length:100}).default("footer"),ipAddress:a("ip_address",{length:45}),subscribedAt:o("subscribed_at").notNull().defaultNow(),unsubscribedAt:o("unsubscribed_at")});s(Qc).omit({id:!0,subscribedAt:!0,unsubscribedAt:!0});s(Mc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Lc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Fc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Ec).omit({id:!0,createdAt:!0,updatedAt:!0});s(jc).omit({id:!0,createdAt:!0});s(Hc).omit({id:!0,createdAt:!0,updatedAt:!0});const Oc=i("user_mining_rewards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),amount:t("amount").notNull(),source:t("source").notNull(),epoch:e("epoch").notNull(),blockNumber:e("block_number"),txHash:t("tx_hash"),claimed:_("claimed").notNull().default(!1),claimedAt:o("claimed_at"),metadata:p("metadata").notNull().default({}),createdAt:o("created_at").notNull().defaultNow()}),$c=i("user_staking_positions",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),validatorId:t("validator_id").notNull(),validatorName:t("validator_name"),stakedAmount:t("staked_amount").notNull(),shares:t("shares").notNull().default("0"),currentValue:t("current_value").notNull(),currentApy:t("current_apy").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),totalRewardsEarned:t("total_rewards_earned").notNull().default("0"),status:t("status").notNull().default("active"),lockPeriodDays:e("lock_period_days").default(0),unlockDate:o("unlock_date"),stakedAt:o("staked_at").notNull().defaultNow(),lastRewardAt:o("last_reward_at"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Gc=i("user_staking_rewards",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),positionId:t("position_id"),validatorId:t("validator_id"),amount:t("amount").notNull(),rewardType:t("reward_type").notNull(),epoch:e("epoch").notNull(),apy:t("apy"),txHash:t("tx_hash"),claimed:_("claimed").notNull().default(!1),claimedAt:o("claimed_at"),autoCompounded:_("auto_compounded").notNull().default(!1),createdAt:o("created_at").notNull().defaultNow()}),Zc=i("user_event_participation",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),eventId:t("event_id").notNull(),eventName:t("event_name").notNull(),eventType:t("event_type").notNull(),eventDescription:t("event_description"),status:t("status").notNull().default("pending"),eligibilityReason:t("eligibility_reason"),rewardAmount:t("reward_amount"),rewardToken:t("reward_token").default("TB"),rewardTxHash:t("reward_tx_hash"),eventStartDate:o("event_start_date"),eventEndDate:o("event_end_date"),claimDeadline:o("claim_deadline"),awardedAt:o("awarded_at"),claimedAt:o("claimed_at"),metadata:p("metadata").notNull().default({}),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow()}),Wc=i("user_activity_log",{id:a("id").primaryKey().default(c`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),activityType:t("activity_type").notNull(),category:t("category").notNull(),title:t("title").notNull(),description:t("description"),amount:t("amount"),token:t("token").default("TB"),txHash:t("tx_hash"),referenceId:t("reference_id"),referenceType:t("reference_type"),metadata:p("metadata").notNull().default({}),createdAt:o("created_at").notNull().defaultNow()});s(Oc).omit({id:!0,createdAt:!0});s($c).omit({id:!0,createdAt:!0,updatedAt:!0});s(Gc).omit({id:!0,createdAt:!0});s(Zc).omit({id:!0,createdAt:!0,updatedAt:!0});s(Wc).omit({id:!0,createdAt:!0});const Xc=i("bug_bounty_reports",{id:a("id").primaryKey().default(c`gen_random_uuid()`),reporterEmail:t("reporter_email"),reporterWallet:t("reporter_wallet"),reporterName:t("reporter_name"),title:t("title").notNull(),description:t("description").notNull(),reproductionSteps:t("reproduction_steps"),assetTarget:t("asset_target").notNull().default("smart_contracts"),reportedSeverity:t("reported_severity").notNull().default("medium"),confirmedSeverity:t("confirmed_severity"),status:t("status").notNull().default("pending"),rewardUsd:N("reward_usd"),rewardTokenAmount:t("reward_token_amount"),rewardTxHash:t("reward_tx_hash"),adminNotes:t("admin_notes"),assignedTo:t("assigned_to"),createdAt:o("created_at").notNull().defaultNow(),updatedAt:o("updated_at").notNull().defaultNow(),reviewedAt:o("reviewed_at"),paidAt:o("paid_at")});s(Xc).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0,paidAt:!0});export{e_ as a,o_ as b,a_ as c,l_ as s,t_ as u};
