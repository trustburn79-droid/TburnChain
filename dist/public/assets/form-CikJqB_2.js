import{c as _,r as Q,j as re}from"./index-C7twzsev.js";import{e as Ve,S as Nt}from"./tburn-loader-Bju4kY-X.js";import{L as Lt}from"./label-Dv-XjUS4.js";var ye=e=>e.type==="checkbox",ne=e=>e instanceof Date,P=e=>e==null;const at=e=>typeof e=="object";var k=e=>!P(e)&&!Array.isArray(e)&&at(e)&&!ne(e),ot=e=>k(e)&&e.target?ye(e.target)?e.target.checked:e.target.value:e,Rt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,lt=(e,s)=>e.has(Rt(s)),It=e=>{const s=e.constructor&&e.constructor.prototype;return k(s)&&s.hasOwnProperty("isPrototypeOf")},Re=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function I(e){let s;const t=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Re&&(e instanceof Blob||n))&&(t||k(e)))if(s=t?[]:{},!t&&!It(e))s=e;else for(const a in e)e.hasOwnProperty(a)&&(s[a]=I(e[a]));else return e;return s}var xe=e=>Array.isArray(e)?e.filter(Boolean):[],S=e=>e===void 0,f=(e,s,t)=>{if(!s||!k(e))return t;const n=xe(s.split(/[,[\].]+?/)).reduce((a,o)=>P(a)?a:a[o],e);return S(n)||n===e?S(e[s])?t:e[s]:n},q=e=>typeof e=="boolean",Ie=e=>/^\w*$/.test(e),ut=e=>xe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),w=(e,s,t)=>{let n=-1;const a=Ie(s)?[s]:ut(s),o=a.length,d=o-1;for(;++n<o;){const y=a[n];let F=t;if(n!==d){const C=e[y];F=k(C)||Array.isArray(C)?C:isNaN(+a[n+1])?{}:[]}if(y==="__proto__"||y==="constructor"||y==="prototype")return;e[y]=F,e=e[y]}};const ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ct=_.createContext(null),Ae=()=>_.useContext(ct),Tt=e=>{const{children:s,...t}=e;return _.createElement(ct.Provider,{value:t},s)};var dt=(e,s,t,n=!0)=>{const a={defaultValues:s._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const d=o;return s._proxyFormState[d]!==K.all&&(s._proxyFormState[d]=!n||K.all),t&&(t[d]=!0),e[d]}});return a};function Ot(e){const s=Ae(),{control:t=s.control,disabled:n,name:a,exact:o}=e||{},[d,y]=_.useState(t._formState),F=_.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),C=_.useRef(a);return C.current=a,_.useEffect(()=>t._subscribe({name:C.current,formState:F.current,exact:o,callback:x=>{!n&&y({...t._formState,...x})}}),[t,n,o]),_.useEffect(()=>{F.current.isValid&&t._setValid(!0)},[t]),_.useMemo(()=>dt(d,t,F.current,!1),[d,t])}var J=e=>typeof e=="string",ft=(e,s,t,n,a)=>J(e)?(n&&s.watch.add(e),f(t,e,a)):Array.isArray(e)?e.map(o=>(n&&s.watch.add(o),f(t,o))):(n&&(s.watchAll=!0),t);function Mt(e){const s=Ae(),{control:t=s.control,name:n,defaultValue:a,disabled:o,exact:d}=e||{},y=_.useRef(n),F=_.useRef(a);y.current=n,_.useEffect(()=>t._subscribe({name:y.current,formState:{values:!0},exact:d,callback:D=>!o&&x(ft(y.current,t._names,D.values||t._formValues,!1,F.current))}),[t,o,d]);const[C,x]=_.useState(t._getWatch(n,a));return _.useEffect(()=>t._removeUnmounted()),C}function Ut(e){const s=Ae(),{name:t,disabled:n,control:a=s.control,shouldUnregister:o}=e,d=lt(a._names.array,t),y=Mt({control:a,name:t,defaultValue:f(a._formValues,t,f(a._defaultValues,t,e.defaultValue)),exact:!0}),F=Ot({control:a,name:t,exact:!0}),C=_.useRef(e),x=_.useRef(a.register(t,{...e.rules,value:y,...q(e.disabled)?{disabled:e.disabled}:{}})),D=_.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(F.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(F.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(F.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!f(F.validatingFields,t)},error:{enumerable:!0,get:()=>f(F.errors,t)}}),[F,t]),v=_.useCallback(O=>x.current.onChange({target:{value:ot(O),name:t},type:ve.CHANGE}),[t]),se=_.useCallback(()=>x.current.onBlur({target:{value:f(a._formValues,t),name:t},type:ve.BLUR}),[t,a._formValues]),$=_.useCallback(O=>{const M=f(a._fields,t);M&&O&&(M._f.ref={focus:()=>O.focus(),select:()=>O.select(),setCustomValidity:h=>O.setCustomValidity(h),reportValidity:()=>O.reportValidity()})},[a._fields,t]),R=_.useMemo(()=>({name:t,value:y,...q(n)||F.disabled?{disabled:F.disabled||n}:{},onChange:v,onBlur:se,ref:$}),[t,n,F.disabled,v,se,$,y]);return _.useEffect(()=>{const O=a._options.shouldUnregister||o;a.register(t,{...C.current.rules,...q(C.current.disabled)?{disabled:C.current.disabled}:{}});const M=(h,H)=>{const j=f(a._fields,h);j&&j._f&&(j._f.mount=H)};if(M(t,!0),O){const h=I(f(a._options.defaultValues,t));w(a._defaultValues,t,h),S(f(a._formValues,t))&&w(a._formValues,t,h)}return!d&&a.register(t),()=>{(d?O&&!a._state.action:O)?a.unregister(t):M(t,!1)}},[t,a,d,o]),_.useEffect(()=>{a._setDisabledField({disabled:n,name:t})},[n,t,a]),_.useMemo(()=>({field:R,formState:F,fieldState:D}),[R,F,D])}const Pt=e=>e.render(Ut(e));var Bt=(e,s,t,n,a)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:a||!0}}:{},fe=e=>Array.isArray(e)?e:[e],Ye=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},Le=e=>P(e)||!at(e);function te(e,s){if(Le(e)||Le(s))return e===s;if(ne(e)&&ne(s))return e.getTime()===s.getTime();const t=Object.keys(e),n=Object.keys(s);if(t.length!==n.length)return!1;for(const a of t){const o=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const d=s[a];if(ne(o)&&ne(d)||k(o)&&k(d)||Array.isArray(o)&&Array.isArray(d)?!te(o,d):o!==d)return!1}}return!0}var U=e=>k(e)&&!Object.keys(e).length,Te=e=>e.type==="file",z=e=>typeof e=="function",be=e=>{if(!Re)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},mt=e=>e.type==="select-multiple",Oe=e=>e.type==="radio",jt=e=>Oe(e)||ye(e),Ne=e=>be(e)&&e.isConnected;function qt(e,s){const t=s.slice(0,-1).length;let n=0;for(;n<t;)e=S(e)?n++:e[s[n++]];return e}function Wt(e){for(const s in e)if(e.hasOwnProperty(s)&&!S(e[s]))return!1;return!0}function N(e,s){const t=Array.isArray(s)?s:Ie(s)?[s]:ut(s),n=t.length===1?e:qt(e,t),a=t.length-1,o=t[a];return n&&delete n[o],a!==0&&(k(n)&&U(n)||Array.isArray(n)&&Wt(n))&&N(e,t.slice(0,-1)),e}var yt=e=>{for(const s in e)if(z(e[s]))return!0;return!1};function _e(e,s={}){const t=Array.isArray(e);if(k(e)||t)for(const n in e)Array.isArray(e[n])||k(e[n])&&!yt(e[n])?(s[n]=Array.isArray(e[n])?[]:{},_e(e[n],s[n])):P(e[n])||(s[n]=!0);return s}function gt(e,s,t){const n=Array.isArray(e);if(k(e)||n)for(const a in e)Array.isArray(e[a])||k(e[a])&&!yt(e[a])?S(s)||Le(t[a])?t[a]=Array.isArray(e[a])?_e(e[a],[]):{..._e(e[a])}:gt(e[a],P(s)?{}:s[a],t[a]):t[a]=!te(e[a],s[a]);return t}var ce=(e,s)=>gt(e,s,_e(s));const Je={value:!1,isValid:!1},Qe={value:!0,isValid:!0};var ht=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?Qe:{value:e[0].value,isValid:!0}:Qe:Je}return Je},vt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:n})=>S(e)?e:s?e===""?NaN:e&&+e:t&&J(e)?new Date(e):n?n(e):e;const Xe={isValid:!1,value:null};var bt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Xe):Xe;function Ze(e){const s=e.ref;return Te(s)?s.files:Oe(s)?bt(e.refs).value:mt(s)?[...s.selectedOptions].map(({value:t})=>t):ye(s)?ht(e.refs).value:vt(S(s.value)?e.ref.value:s.value,e)}var $t=(e,s,t,n)=>{const a={};for(const o of e){const d=f(s,o);d&&w(a,o,d._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:n}},Fe=e=>e instanceof RegExp,de=e=>S(e)?e:Fe(e)?e.source:k(e)?Fe(e.value)?e.value.source:e.value:e,et=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched});const tt="AsyncFunction";var Ht=e=>!!e&&!!e.validate&&!!(z(e.validate)&&e.validate.constructor.name===tt||k(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===tt)),Kt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),rt=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const me=(e,s,t,n)=>{for(const a of t||Object.keys(e)){const o=f(e,a);if(o){const{_f:d,...y}=o;if(d){if(d.refs&&d.refs[0]&&s(d.refs[0],a)&&!n)return!0;if(d.ref&&s(d.ref,d.name)&&!n)return!0;if(me(y,s))break}else if(k(y)&&me(y,s))break}}};function st(e,s,t){const n=f(e,t);if(n||Ie(t))return{error:n,name:t};const a=t.split(".");for(;a.length;){const o=a.join("."),d=f(s,o),y=f(e,o);if(d&&!Array.isArray(d)&&t!==o)return{name:t};if(y&&y.type)return{name:o,error:y};a.pop()}return{name:t}}var zt=(e,s,t,n)=>{t(e);const{name:a,...o}=e;return U(o)||Object.keys(o).length>=Object.keys(s).length||Object.keys(o).find(d=>s[d]===(!n||K.all))},Gt=(e,s,t)=>!e||!s||e===s||fe(e).some(n=>n&&(t?n===s:n.startsWith(s)||s.startsWith(n))),Yt=(e,s,t,n,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(s||e):(t?n.isOnBlur:a.isOnBlur)?!e:(t?n.isOnChange:a.isOnChange)?e:!0,Jt=(e,s)=>!xe(f(e,s)).length&&N(e,s),Qt=(e,s,t)=>{const n=fe(f(e,t));return w(n,"root",s[t]),w(e,t,n),e},he=e=>J(e);function it(e,s,t="validate"){if(he(e)||Array.isArray(e)&&e.every(he)||q(e)&&!e)return{type:t,message:he(e)?e:"",ref:s}}var ae=e=>k(e)&&!Fe(e)?e:{value:e,message:""},nt=async(e,s,t,n,a,o)=>{const{ref:d,refs:y,required:F,maxLength:C,minLength:x,min:D,max:v,pattern:se,validate:$,name:R,valueAsNumber:O,mount:M}=e._f,h=f(t,R);if(!M||s.has(R))return{};const H=y?y[0]:d,j=A=>{a&&H.reportValidity&&(H.setCustomValidity(q(A)?"":A||""),H.reportValidity())},L={},oe=Oe(d),le=ye(d),De=oe||le,G=(O||Te(d))&&S(d.value)&&S(h)||be(d)&&d.value===""||h===""||Array.isArray(h)&&!h.length,ie=Bt.bind(null,R,n,L),X=(A,b,E,B=Z.maxLength,W=Z.minLength)=>{const Y=A?b:E;L[R]={type:A?B:W,message:Y,ref:d,...ie(A?B:W,Y)}};if(o?!Array.isArray(h)||!h.length:F&&(!De&&(G||P(h))||q(h)&&!h||le&&!ht(y).isValid||oe&&!bt(y).isValid)){const{value:A,message:b}=he(F)?{value:!!F,message:F}:ae(F);if(A&&(L[R]={type:Z.required,message:b,ref:H,...ie(Z.required,b)},!n))return j(b),L}if(!G&&(!P(D)||!P(v))){let A,b;const E=ae(v),B=ae(D);if(!P(h)&&!isNaN(h)){const W=d.valueAsNumber||h&&+h;P(E.value)||(A=W>E.value),P(B.value)||(b=W<B.value)}else{const W=d.valueAsDate||new Date(h),Y=ge=>new Date(new Date().toDateString()+" "+ge),ee=d.type=="time",ue=d.type=="week";J(E.value)&&h&&(A=ee?Y(h)>Y(E.value):ue?h>E.value:W>new Date(E.value)),J(B.value)&&h&&(b=ee?Y(h)<Y(B.value):ue?h<B.value:W<new Date(B.value))}if((A||b)&&(X(!!A,E.message,B.message,Z.max,Z.min),!n))return j(L[R].message),L}if((C||x)&&!G&&(J(h)||o&&Array.isArray(h))){const A=ae(C),b=ae(x),E=!P(A.value)&&h.length>+A.value,B=!P(b.value)&&h.length<+b.value;if((E||B)&&(X(E,A.message,b.message),!n))return j(L[R].message),L}if(se&&!G&&J(h)){const{value:A,message:b}=ae(se);if(Fe(A)&&!h.match(A)&&(L[R]={type:Z.pattern,message:b,ref:d,...ie(Z.pattern,b)},!n))return j(b),L}if($){if(z($)){const A=await $(h,t),b=it(A,H);if(b&&(L[R]={...b,...ie(Z.validate,b.message)},!n))return j(b.message),L}else if(k($)){let A={};for(const b in $){if(!U(A)&&!n)break;const E=it(await $[b](h,t),H,b);E&&(A={...E,...ie(b,E.message)},j(E.message),n&&(L[R]=A))}if(!U(A)&&(L[R]={ref:H,...A},!n))return L}}return j(!0),L};const Xt={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function Zt(e={}){let s={...Xt,...e},t={submitCount:0,isDirty:!1,isLoading:z(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1};const n={};let a=k(s.defaultValues)||k(s.values)?I(s.values||s.defaultValues)||{}:{},o=s.shouldUnregister?{}:I(a),d={action:!1,mount:!1,watch:!1},y={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},F,C=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let D={...x};const v={array:Ye(),state:Ye()},se=et(s.mode),$=et(s.reValidateMode),R=s.criteriaMode===K.all,O=r=>i=>{clearTimeout(C),C=setTimeout(r,i)},M=async r=>{if(!s.disabled&&(x.isValid||D.isValid||r)){const i=s.resolver?U((await G()).errors):await X(n,!0);i!==t.isValid&&v.state.next({isValid:i})}},h=(r,i)=>{!s.disabled&&(x.isValidating||x.validatingFields||D.isValidating||D.validatingFields)&&((r||Array.from(y.mount)).forEach(l=>{l&&(i?w(t.validatingFields,l,i):N(t.validatingFields,l))}),v.state.next({validatingFields:t.validatingFields,isValidating:!U(t.validatingFields)}))},H=(r,i=[],l,m,c=!0,u=!0)=>{if(m&&l&&!s.disabled){if(d.action=!0,u&&Array.isArray(f(n,r))){const g=l(f(n,r),m.argA,m.argB);c&&w(n,r,g)}if(u&&Array.isArray(f(t.errors,r))){const g=l(f(t.errors,r),m.argA,m.argB);c&&w(t.errors,r,g),Jt(t.errors,r)}if((x.touchedFields||D.touchedFields)&&u&&Array.isArray(f(t.touchedFields,r))){const g=l(f(t.touchedFields,r),m.argA,m.argB);c&&w(t.touchedFields,r,g)}(x.dirtyFields||D.dirtyFields)&&(t.dirtyFields=ce(a,o)),v.state.next({name:r,isDirty:b(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else w(o,r,i)},j=(r,i)=>{w(t.errors,r,i),v.state.next({errors:t.errors})},L=r=>{t.errors=r,v.state.next({errors:t.errors,isValid:!1})},oe=(r,i,l,m)=>{const c=f(n,r);if(c){const u=f(o,r,S(l)?f(a,r):l);S(u)||m&&m.defaultChecked||i?w(o,r,i?u:Ze(c._f)):W(r,u),d.mount&&M()}},le=(r,i,l,m,c)=>{let u=!1,g=!1;const V={name:r};if(!s.disabled){if(!l||m){(x.isDirty||D.isDirty)&&(g=t.isDirty,t.isDirty=V.isDirty=b(),u=g!==V.isDirty);const p=te(f(a,r),i);g=!!f(t.dirtyFields,r),p?N(t.dirtyFields,r):w(t.dirtyFields,r,!0),V.dirtyFields=t.dirtyFields,u=u||(x.dirtyFields||D.dirtyFields)&&g!==!p}if(l){const p=f(t.touchedFields,r);p||(w(t.touchedFields,r,l),V.touchedFields=t.touchedFields,u=u||(x.touchedFields||D.touchedFields)&&p!==l)}u&&c&&v.state.next(V)}return u?V:{}},De=(r,i,l,m)=>{const c=f(t.errors,r),u=(x.isValid||D.isValid)&&q(i)&&t.isValid!==i;if(s.delayError&&l?(F=O(()=>j(r,l)),F(s.delayError)):(clearTimeout(C),F=null,l?w(t.errors,r,l):N(t.errors,r)),(l?!te(c,l):c)||!U(m)||u){const g={...m,...u&&q(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...g},v.state.next(g)}},G=async r=>{h(r,!0);const i=await s.resolver(o,s.context,$t(r||y.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return h(r),i},ie=async r=>{const{errors:i}=await G(r);if(r)for(const l of r){const m=f(i,l);m?w(t.errors,l,m):N(t.errors,l)}else t.errors=i;return i},X=async(r,i,l={valid:!0})=>{for(const m in r){const c=r[m];if(c){const{_f:u,...g}=c;if(u){const V=y.array.has(u.name),p=c._f&&Ht(c._f);p&&x.validatingFields&&h([m],!0);const T=await nt(c,y.disabled,o,R,s.shouldUseNativeValidation&&!i,V);if(p&&x.validatingFields&&h([m]),T[u.name]&&(l.valid=!1,i))break;!i&&(f(T,u.name)?V?Qt(t.errors,T,u.name):w(t.errors,u.name,T[u.name]):N(t.errors,u.name))}!U(g)&&await X(g,i,l)}}return l.valid},A=()=>{for(const r of y.unMount){const i=f(n,r);i&&(i._f.refs?i._f.refs.every(l=>!Ne(l)):!Ne(i._f.ref))&&Se(r)}y.unMount=new Set},b=(r,i)=>!s.disabled&&(r&&i&&w(o,r,i),!te(Me(),a)),E=(r,i,l)=>ft(r,y,{...d.mount?o:S(i)?a:J(r)?{[r]:i}:i},l,i),B=r=>xe(f(d.mount?o:a,r,s.shouldUnregister?f(a,r,[]):[])),W=(r,i,l={})=>{const m=f(n,r);let c=i;if(m){const u=m._f;u&&(!u.disabled&&w(o,r,vt(i,u)),c=be(u.ref)&&P(i)?"":i,mt(u.ref)?[...u.ref.options].forEach(g=>g.selected=c.includes(g.value)):u.refs?ye(u.ref)?u.refs.length>1?u.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(V=>V===g.value):c===g.value)):u.refs[0]&&(u.refs[0].checked=!!c):u.refs.forEach(g=>g.checked=g.value===c):Te(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||v.state.next({name:r,values:I(o)})))}(l.shouldDirty||l.shouldTouch)&&le(r,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&Ee(r)},Y=(r,i,l)=>{for(const m in i){const c=i[m],u=`${r}.${m}`,g=f(n,u);(y.array.has(r)||k(c)||g&&!g._f)&&!ne(c)?Y(u,c,l):W(u,c,l)}},ee=(r,i,l={})=>{const m=f(n,r),c=y.array.has(r),u=I(i);w(o,r,u),c?(v.array.next({name:r,values:I(o)}),(x.isDirty||x.dirtyFields||D.isDirty||D.dirtyFields)&&l.shouldDirty&&v.state.next({name:r,dirtyFields:ce(a,o),isDirty:b(r,u)})):m&&!m._f&&!P(u)?Y(r,u,l):W(r,u,l),rt(r,y)&&v.state.next({...t}),v.state.next({name:d.mount?r:void 0,values:I(o)})},ue=async r=>{d.mount=!0;const i=r.target;let l=i.name,m=!0;const c=f(n,l),u=g=>{m=Number.isNaN(g)||ne(g)&&isNaN(g.getTime())||te(g,f(o,l,g))};if(c){let g,V;const p=i.type?Ze(c._f):ot(r),T=r.type===ve.BLUR||r.type===ve.FOCUS_OUT,kt=!Kt(c._f)&&!s.resolver&&!f(t.errors,l)&&!c._f.deps||Yt(T,f(t.touchedFields,l),t.isSubmitted,$,se),pe=rt(l,y,T);w(o,l,p),T?(c._f.onBlur&&c._f.onBlur(r),F&&F(0)):c._f.onChange&&c._f.onChange(r);const Ce=le(l,p,T),pt=!U(Ce)||pe;if(!T&&v.state.next({name:l,type:r.type,values:I(o)}),kt)return(x.isValid||D.isValid)&&(s.mode==="onBlur"?T&&M():T||M()),pt&&v.state.next({name:l,...pe?{}:Ce});if(!T&&pe&&v.state.next({...t}),s.resolver){const{errors:ze}=await G([l]);if(u(p),m){const Ct=st(t.errors,n,l),Ge=st(ze,n,Ct.name||l);g=Ge.error,l=Ge.name,V=U(ze)}}else h([l],!0),g=(await nt(c,y.disabled,o,R,s.shouldUseNativeValidation))[l],h([l]),u(p),m&&(g?V=!1:(x.isValid||D.isValid)&&(V=await X(n,!0)));m&&(c._f.deps&&Ee(c._f.deps),De(l,V,g,Ce))}},ge=(r,i)=>{if(f(t.errors,i)&&r.focus)return r.focus(),1},Ee=async(r,i={})=>{let l,m;const c=fe(r);if(s.resolver){const u=await ie(S(r)?r:c);l=U(u),m=r?!c.some(g=>f(u,g)):l}else r?(m=(await Promise.all(c.map(async u=>{const g=f(n,u);return await X(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!m&&!t.isValid)&&M()):m=l=await X(n);return v.state.next({...!J(r)||(x.isValid||D.isValid)&&l!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:l}:{},errors:t.errors}),i.shouldFocus&&!m&&me(n,ge,r?c:y.mount),m},Me=r=>{const i={...d.mount?o:a};return S(r)?i:J(r)?f(i,r):r.map(l=>f(i,l))},Ue=(r,i)=>({invalid:!!f((i||t).errors,r),isDirty:!!f((i||t).dirtyFields,r),error:f((i||t).errors,r),isValidating:!!f(t.validatingFields,r),isTouched:!!f((i||t).touchedFields,r)}),Vt=r=>{r&&fe(r).forEach(i=>N(t.errors,i)),v.state.next({errors:r?t.errors:{}})},Pe=(r,i,l)=>{const m=(f(n,r,{_f:{}})._f||{}).ref,c=f(t.errors,r)||{},{ref:u,message:g,type:V,...p}=c;w(t.errors,r,{...p,...i,ref:m}),v.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},xt=(r,i)=>z(r)?v.state.subscribe({next:l=>r(E(void 0,i),l)}):E(r,i,!0),Be=r=>v.state.subscribe({next:i=>{Gt(r.name,i.name,r.exact)&&zt(i,r.formState||x,St,r.reRenderRoot)&&r.callback({values:{...o},...t,...i})}}).unsubscribe,At=r=>(d.mount=!0,D={...D,...r.formState},Be({...r,formState:D})),Se=(r,i={})=>{for(const l of r?fe(r):y.mount)y.mount.delete(l),y.array.delete(l),i.keepValue||(N(n,l),N(o,l)),!i.keepError&&N(t.errors,l),!i.keepDirty&&N(t.dirtyFields,l),!i.keepTouched&&N(t.touchedFields,l),!i.keepIsValidating&&N(t.validatingFields,l),!s.shouldUnregister&&!i.keepDefaultValue&&N(a,l);v.state.next({values:I(o)}),v.state.next({...t,...i.keepDirty?{isDirty:b()}:{}}),!i.keepIsValid&&M()},je=({disabled:r,name:i})=>{(q(r)&&d.mount||r||y.disabled.has(i))&&(r?y.disabled.add(i):y.disabled.delete(i))},ke=(r,i={})=>{let l=f(n,r);const m=q(i.disabled)||q(s.disabled);return w(n,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...i}}),y.mount.add(r),l?je({disabled:q(i.disabled)?i.disabled:s.disabled,name:r}):oe(r,!0,i.value),{...m?{disabled:i.disabled||s.disabled}:{},...s.progressive?{required:!!i.required,min:de(i.min),max:de(i.max),minLength:de(i.minLength),maxLength:de(i.maxLength),pattern:de(i.pattern)}:{},name:r,onChange:ue,onBlur:ue,ref:c=>{if(c){ke(r,i),l=f(n,r);const u=S(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=jt(u),V=l._f.refs||[];if(g?V.find(p=>p===u):u===l._f.ref)return;w(n,r,{_f:{...l._f,...g?{refs:[...V.filter(Ne),u,...Array.isArray(f(a,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),oe(r,!1,void 0,u)}else l=f(n,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(lt(y.array,r)&&d.action)&&y.unMount.add(r)}}},qe=()=>s.shouldFocusError&&me(n,ge,y.mount),wt=r=>{q(r)&&(v.state.next({disabled:r}),me(n,(i,l)=>{const m=f(n,l);m&&(i.disabled=m._f.disabled||r,Array.isArray(m._f.refs)&&m._f.refs.forEach(c=>{c.disabled=m._f.disabled||r}))},0,!1))},We=(r,i)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=I(o);if(v.state.next({isSubmitting:!0}),s.resolver){const{errors:u,values:g}=await G();t.errors=u,c=g}else await X(n);if(y.disabled.size)for(const u of y.disabled)w(c,u,void 0);if(N(t.errors,"root"),U(t.errors)){v.state.next({errors:{}});try{await r(c,l)}catch(u){m=u}}else i&&await i({...t.errors},l),qe(),setTimeout(qe);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},Dt=(r,i={})=>{f(n,r)&&(S(i.defaultValue)?ee(r,I(f(a,r))):(ee(r,i.defaultValue),w(a,r,I(i.defaultValue))),i.keepTouched||N(t.touchedFields,r),i.keepDirty||(N(t.dirtyFields,r),t.isDirty=i.defaultValue?b(r,I(f(a,r))):b()),i.keepError||(N(t.errors,r),x.isValid&&M()),v.state.next({...t}))},$e=(r,i={})=>{const l=r?I(r):a,m=I(l),c=U(r),u=c?a:m;if(i.keepDefaultValues||(a=l),!i.keepValues){if(i.keepDirtyValues){const g=new Set([...y.mount,...Object.keys(ce(a,o))]);for(const V of Array.from(g))f(t.dirtyFields,V)?w(u,V,f(o,V)):ee(V,f(u,V))}else{if(Re&&S(r))for(const g of y.mount){const V=f(n,g);if(V&&V._f){const p=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(be(p)){const T=p.closest("form");if(T){T.reset();break}}}}for(const g of y.mount)ee(g,f(u,g))}o=I(u),v.array.next({values:{...u}}),v.state.next({values:{...u}})}y={mount:i.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!x.isValid||!!i.keepIsValid||!!i.keepDirtyValues,d.watch=!!s.shouldUnregister,v.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:c?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!te(r,a)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:i.keepDirtyValues?i.keepDefaultValues&&o?ce(a,o):t.dirtyFields:i.keepDefaultValues&&r?ce(a,r):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},He=(r,i)=>$e(z(r)?r(o):r,i),Et=(r,i={})=>{const l=f(n,r),m=l&&l._f;if(m){const c=m.refs?m.refs[0]:m.ref;c.focus&&(c.focus(),i.shouldSelect&&z(c.select)&&c.select())}},St=r=>{t={...t,...r}},Ke={control:{register:ke,unregister:Se,getFieldState:Ue,handleSubmit:We,setError:Pe,_subscribe:Be,_runSchema:G,_getWatch:E,_getDirty:b,_setValid:M,_setFieldArray:H,_setDisabledField:je,_setErrors:L,_getFieldArray:B,_reset:$e,_resetDefaultValues:()=>z(s.defaultValues)&&s.defaultValues().then(r=>{He(r,s.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:wt,_subjects:v,_proxyFormState:x,get _fields(){return n},get _formValues(){return o},get _state(){return d},set _state(r){d=r},get _defaultValues(){return a},get _names(){return y},set _names(r){y=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:At,trigger:Ee,register:ke,handleSubmit:We,watch:xt,setValue:ee,getValues:Me,reset:He,resetField:Dt,clearErrors:Vt,unregister:Se,setError:Pe,setFocus:Et,getFieldState:Ue};return{...Ke,formControl:Ke}}function ur(e={}){const s=_.useRef(void 0),t=_.useRef(void 0),[n,a]=_.useState({isDirty:!1,isValidating:!1,isLoading:z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:z(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...e.formControl?e.formControl:Zt(e),formState:n},e.formControl&&e.defaultValues&&!z(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=s.current.control;return o._options=e,_.useLayoutEffect(()=>o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0}),[o]),_.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),_.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==n.isDirty&&o._subjects.state.next({isDirty:d})}},[o,n.isDirty]),_.useEffect(()=>{e.values&&!te(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values,a(d=>({...d}))):o._resetDefaultValues()},[e.values,o]),_.useEffect(()=>{e.errors&&!U(e.errors)&&o._setErrors(e.errors)},[e.errors,o]),_.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),_.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[e.shouldUnregister,o]),s.current.formState=dt(n,o),s.current}const cr=Tt,_t=Q.createContext({}),dr=({...e})=>re.jsxDEV(_t.Provider,{"data-replit-metadata":"client/src/components/ui/form.tsx:38:4","data-component-name":"FormFieldContext.Provider",value:{name:e.name},children:re.jsxDEV(Pt,{"data-replit-metadata":"client/src/components/ui/form.tsx:39:6","data-component-name":"Controller",...e},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:38,columnNumber:5},void 0),we=()=>{const e=Q.useContext(_t),s=Q.useContext(Ft),{getFieldState:t,formState:n}=Ae(),a=t(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=s;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},Ft=Q.createContext({}),er=Q.forwardRef(({className:e,...s},t)=>{const n=Q.useId();return re.jsxDEV(Ft.Provider,{"data-replit-metadata":"client/src/components/ui/form.tsx:82:4","data-component-name":"FormItemContext.Provider",value:{id:n},children:re.jsxDEV("div",{"data-replit-metadata":"client/src/components/ui/form.tsx:83:6","data-component-name":"div",ref:t,className:Ve("space-y-2",e),...s},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:83,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:82,columnNumber:5},void 0)});er.displayName="FormItem";const tr=Q.forwardRef(({className:e,...s},t)=>{const{error:n,formItemId:a}=we();return re.jsxDEV(Lt,{"data-replit-metadata":"client/src/components/ui/form.tsx:96:4","data-component-name":"Label",ref:t,className:Ve(n&&"text-destructive",e),htmlFor:a,...s},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:96,columnNumber:5},void 0)});tr.displayName="FormLabel";const rr=Q.forwardRef(({...e},s)=>{const{error:t,formItemId:n,formDescriptionId:a,formMessageId:o}=we();return re.jsxDEV(Nt,{"data-replit-metadata":"client/src/components/ui/form.tsx:113:4","data-component-name":"Slot",ref:s,id:n,"aria-describedby":t?`${a} ${o}`:`${a}`,"aria-invalid":!!t,...e},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:113,columnNumber:5},void 0)});rr.displayName="FormControl";const sr=Q.forwardRef(({className:e,...s},t)=>{const{formDescriptionId:n}=we();return re.jsxDEV("p",{"data-replit-metadata":"client/src/components/ui/form.tsx:135:4","data-component-name":"p",ref:t,id:n,className:Ve("text-sm text-muted-foreground",e),...s},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:135,columnNumber:5},void 0)});sr.displayName="FormDescription";const ir=Q.forwardRef(({className:e,children:s,...t},n)=>{const{error:a,formMessageId:o}=we(),d=a?String((a==null?void 0:a.message)??""):s;return d?re.jsxDEV("p",{"data-replit-metadata":"client/src/components/ui/form.tsx:157:4","data-component-name":"p",ref:n,id:o,className:Ve("text-sm font-medium text-destructive",e),...t,children:d},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/form.tsx",lineNumber:157,columnNumber:5},void 0):null});ir.displayName="FormMessage";export{cr as F,dr as a,er as b,tr as c,rr as d,sr as e,ir as f,f as g,Bt as h,w as s,ur as u};
