var _r=Object.defineProperty;var mr=(n,o,r)=>o in n?_r(n,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[o]=r;var _=(n,o,r)=>mr(n,typeof o!="symbol"?o+"":o,r);import{r as et}from"./index-f5JN47So.js";import{r as pr}from"./tburn-loader-BTRnvHL3.js";import{u as fr}from"./App-CNPM920q.js";import{B as Nr,D as gr,E as yr,I as hr,N as Ar,O as vr,P as br,Z as it,b as wr,c as kr,d as Sr,e as Tr,f as xr,g as Pr,h as Ir,i as Cr,j as Dr,k as bt,l as Rr,m as qr,n as Kr,o as Br,p as Ur,q as Vr,r as Mr,s as zr,t as Er,u as Lr,v as Fr,w as jr,x as Hr,y as Qr,z as Or,A as $r,C as Gr,F as Wr,G as Zr,H as Xr,J as Jr,K as Yr,L as tu,M as eu,Q as au,R as lu,S as ou,T as nu,U as ru,V as uu,W as du,a as at,X as L,Y as iu,_ as po,$ as su,a0 as fo,a1 as z,a2 as cu,a3 as _u,a4 as mu,a5 as wt,a6 as No,a7 as pu,a8 as fu,a9 as Nu,aa as gu,ab as yu,ac as hu,ad as Au,ae as vu,af as bu,ag as wu,ah as ku,ai as Su,aj as Tu,ak as xu,al as Pu,am as Iu,an as Cu,ao as go,ap as Du,aq as V,ar as dt,as as Ru,at as qu,au as Ku,av as Bu,aw as Uu,ax as Vu,ay as Mu,az as zu,aA as Eu,aB as yo,aC as Lu,aD as Fu,aE as ju,aF as P,aG as Hu,aH as Qu,aI as Ou,aJ as ft,aK as $u,aL as Gu,aM as Wu}from"./types-DeR_-SxA.js";function O_({channel:n,schema:o,queryKey:r,updateMode:u="snapshot",onMessage:f,enabled:g=!0}){const{lastMessage:A,isConnected:w}=fr(),b=pr(),x=et.useRef(""),y=et.useRef(!0);return et.useEffect(()=>(y.current=!0,()=>{y.current=!1}),[n,r,u]),et.useEffect(()=>{if(!(!g||!A||!w)&&y.current)try{const R=JSON.parse(A.data);if(R.type!==n)return;const T=`${R.type}-${R.timestamp}-${JSON.stringify(R.data)}`;if(T===x.current)return;x.current=T;const C=o.safeParse(R.data);if(!C.success){console.error(`[WebSocket] Schema validation failed for channel '${n}':`,C.error);return}const E=C.data,Z=Array.isArray(r)?r:[r];switch(u){case"snapshot":const ir=b.getQueryData(Z),sr=JSON.stringify(E),cr=JSON.stringify(ir);if(sr===cr)return;b.setQueryData(Z,E);break;case"update":b.setQueryData(Z,Y=>{if(!Array.isArray(Y))return[E];const At=E;if(At.id){const vt=Y.findIndex(tt=>tt.id===At.id);if(vt>=0){const tt=[...Y];return tt[vt]=E,tt}}return[E,...Y]});break;case"replace":b.setQueryData(Z,E);break}f==null||f(E),console.log(`[WebSocket] Updated cache for ${n}:`,{queryKey:Z,mode:u,timestamp:R.timestamp})}catch(R){console.error(`[WebSocket] Error processing message for channel '${n}':`,R)}},[A,n,o,r,u,f,g,w,b]),{isConnected:w}}const N=Symbol.for("drizzle:entityKind");function B(n,o){if(!n||typeof n!="object")return!1;if(n instanceof o)return!0;if(!Object.prototype.hasOwnProperty.call(o,N))throw new Error(`Class "${o.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(n).constructor;if(r)for(;r;){if(N in r&&r[N]===o[N])return!0;r=Object.getPrototypeOf(r)}return!1}var Dt;Dt=N;class O{constructor(o,r){_(this,"name");_(this,"keyAsName");_(this,"primary");_(this,"notNull");_(this,"default");_(this,"defaultFn");_(this,"onUpdateFn");_(this,"hasDefault");_(this,"isUnique");_(this,"uniqueName");_(this,"uniqueType");_(this,"dataType");_(this,"columnType");_(this,"enumValues");_(this,"generated");_(this,"generatedIdentity");_(this,"config");this.table=o,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(o){return o}mapToDriverValue(o){return o}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}_(O,Dt,"Column");var Rt;Rt=N;class ho{constructor(o,r,u){_(this,"config");_(this,"$default",this.$defaultFn);_(this,"$onUpdate",this.$onUpdateFn);this.config={name:o,keyAsName:o==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:u,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(o){return this.config.default=o,this.config.hasDefault=!0,this}$defaultFn(o){return this.config.defaultFn=o,this.config.hasDefault=!0,this}$onUpdateFn(o){return this.config.onUpdateFn=o,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(o){this.config.name===""&&(this.config.name=o)}}_(ho,Rt,"ColumnBuilder");const H=Symbol.for("drizzle:Name");var qt;qt=N;class Ao{constructor(o,r){_(this,"reference");_(this,"_onUpdate","no action");_(this,"_onDelete","no action");this.reference=()=>{const{name:u,columns:f,foreignColumns:g}=o();return{name:u,columns:f,foreignTable:g[0].table,foreignColumns:g}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(o){return this._onUpdate=o===void 0?"no action":o,this}onDelete(o){return this._onDelete=o===void 0?"no action":o,this}build(o){return new vo(o,this)}}_(Ao,qt,"PgForeignKeyBuilder");var Kt;Kt=N;class vo{constructor(o,r){_(this,"reference");_(this,"onUpdate");_(this,"onDelete");this.table=o,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:o,columns:r,foreignColumns:u}=this.reference(),f=r.map(w=>w.name),g=u.map(w=>w.name),A=[this.table[H],...f,u[0].table[H],...g];return o??`${A.join("_")}_fk`}}_(vo,Kt,"PgForeignKey");function Zu(n,...o){return n(...o)}function Xu(n,o){return`${n[H]}_${o.join("_")}_unique`}function kt(n,o,r){for(let u=o;u<n.length;u++){const f=n[u];if(f==="\\"){u++;continue}if(f==='"')return[n.slice(o,u).replace(/\\/g,""),u+1];if(!r&&(f===","||f==="}"))return[n.slice(o,u).replace(/\\/g,""),u]}return[n.slice(o).replace(/\\/g,""),n.length]}function bo(n,o=0){const r=[];let u=o,f=!1;for(;u<n.length;){const g=n[u];if(g===","){(f||u===o)&&r.push(""),f=!0,u++;continue}if(f=!1,g==="\\"){u+=2;continue}if(g==='"'){const[b,x]=kt(n,u+1,!0);r.push(b),u=x;continue}if(g==="}")return[r,u+1];if(g==="{"){const[b,x]=bo(n,u+1);r.push(b),u=x;continue}const[A,w]=kt(n,u,!1);r.push(A),u=w}return[r,u]}function Ju(n){const[o]=bo(n,1);return o}function wo(n){return`{${n.map(o=>Array.isArray(o)?wo(o):typeof o=="string"?`"${o.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${o}`).join(",")}}`}var Bt,Ut;class k extends(Ut=ho,Bt=N,Ut){constructor(){super(...arguments);_(this,"foreignKeyConfigs",[])}array(r){return new So(this.config.name,this,r)}references(r,u={}){return this.foreignKeyConfigs.push({ref:r,actions:u}),this}unique(r,u){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=u==null?void 0:u.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,u){return this.foreignKeyConfigs.map(({ref:f,actions:g})=>Zu((A,w)=>{const b=new Ao(()=>{const x=A();return{columns:[r],foreignColumns:[x]}});return w.onUpdate&&b.onUpdate(w.onUpdate),w.onDelete&&b.onDelete(w.onDelete),b.build(u)},f,g))}buildExtraConfigColumn(r){return new ko(r,this.config)}}_(k,Bt,"PgColumnBuilder");var Vt,Mt;class v extends(Mt=O,Vt=N,Mt){constructor(o,r){r.uniqueName||(r.uniqueName=Xu(o,[r.name])),super(o,r),this.table=o}}_(v,Vt,"PgColumn");var zt,Et;class ko extends(Et=v,zt=N,Et){constructor(){super(...arguments);_(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});_(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}_(ko,zt,"ExtraConfigColumn");var Lt,Ft;class So extends(Ft=k,Lt=N,Ft){constructor(o,r,u){super(o,"array","PgArray"),this.config.baseBuilder=r,this.config.size=u}build(o){const r=this.config.baseBuilder.build(o);return new mt(o,this.config,r)}}_(So,Lt,"PgArrayBuilder");var jt,Ht;const ut=class ut extends(Ht=v,jt=N,Ht){constructor(r,u,f,g){super(r,u);_(this,"size");this.baseColumn=f,this.range=g,this.size=u.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=Ju(r)),r.map(u=>this.baseColumn.mapFromDriverValue(u))}mapToDriverValue(r,u=!1){const f=r.map(g=>g===null?null:B(this.baseColumn,ut)?this.baseColumn.mapToDriverValue(g,!0):this.baseColumn.mapToDriverValue(g));return u?f:wo(f)}};_(ut,jt,"PgArray");let mt=ut;const St=Symbol.for("drizzle:isPgEnum");function Yu(n){return!!n&&typeof n=="function"&&St in n&&n[St]===!0}var Qt;Qt=N;class Nt{constructor(o,r,u,f=!1){this._={brand:"Subquery",sql:o,selectedFields:r,alias:u,isWith:f}}}_(Nt,Qt,"Subquery");const td={startActiveSpan(n,o){return o()}},Q=Symbol.for("drizzle:ViewBaseConfig"),st=Symbol.for("drizzle:Schema"),Tt=Symbol.for("drizzle:Columns"),xt=Symbol.for("drizzle:ExtraConfigColumns"),ct=Symbol.for("drizzle:OriginalName"),_t=Symbol.for("drizzle:BaseName"),lt=Symbol.for("drizzle:IsAlias"),Pt=Symbol.for("drizzle:ExtraConfigBuilder"),To=Symbol.for("drizzle:IsDrizzleTable");var Ot,$t,Gt,Wt,Zt,Xt,Jt,Yt,te,ee;ee=N,te=H,Yt=ct,Jt=st,Xt=Tt,Zt=xt,Wt=_t,Gt=lt,$t=To,Ot=Pt;class U{constructor(o,r,u){_(this,te);_(this,Yt);_(this,Jt);_(this,Xt);_(this,Zt);_(this,Wt);_(this,Gt,!1);_(this,$t,!0);_(this,Ot);this[H]=this[ct]=o,this[st]=r,this[_t]=u}}_(U,ee,"Table"),_(U,"Symbol",{Name:H,Schema:st,OriginalName:ct,Columns:Tt,ExtraConfigColumns:xt,BaseName:_t,IsAlias:lt,ExtraConfigBuilder:Pt});function xo(n){return typeof n=="object"&&n!==null&&To in n}function ed(n){return n!=null&&typeof n.getSQL=="function"}function ad(n){var r;const o={sql:"",params:[]};for(const u of n)o.sql+=u.sql,o.params.push(...u.params),(r=u.typings)!=null&&r.length&&(o.typings||(o.typings=[]),o.typings.push(...u.typings));return o}var ae;ae=N;class M{constructor(o){_(this,"value");this.value=Array.isArray(o)?o:[o]}getSQL(){return new q([this])}}_(M,ae,"StringChunk");var le;le=N;const F=class F{constructor(o){_(this,"decoder",Po);_(this,"shouldInlineParams",!1);this.queryChunks=o}append(o){return this.queryChunks.push(...o.queryChunks),this}toQuery(o){return td.startActiveSpan("drizzle.buildSQL",r=>{const u=this.buildQueryFromSourceParams(this.queryChunks,o);return r==null||r.setAttributes({"drizzle.query.text":u.sql,"drizzle.query.params":JSON.stringify(u.params)}),u})}buildQueryFromSourceParams(o,r){const u=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:f,escapeName:g,escapeParam:A,prepareTyping:w,inlineParams:b,paramStartIndex:x}=u;return ad(o.map(y=>{var R;if(B(y,M))return{sql:y.value.join(""),params:[]};if(B(y,ot))return{sql:g(y.value),params:[]};if(y===void 0)return{sql:"",params:[]};if(Array.isArray(y)){const T=[new M("(")];for(const[C,E]of y.entries())T.push(E),C<y.length-1&&T.push(new M(", "));return T.push(new M(")")),this.buildQueryFromSourceParams(T,u)}if(B(y,F))return this.buildQueryFromSourceParams(y.queryChunks,{...u,inlineParams:b||y.shouldInlineParams});if(B(y,U)){const T=y[U.Symbol.Schema],C=y[U.Symbol.Name];return{sql:T===void 0||y[lt]?g(C):g(T)+"."+g(C),params:[]}}if(B(y,O)){const T=f.getColumnCasing(y);if(r.invokeSource==="indexes")return{sql:g(T),params:[]};const C=y.table[U.Symbol.Schema];return{sql:y.table[lt]||C===void 0?g(y.table[U.Symbol.Name])+"."+g(T):g(C)+"."+g(y.table[U.Symbol.Name])+"."+g(T),params:[]}}if(B(y,Do)){const T=y[Q].schema,C=y[Q].name;return{sql:T===void 0||y[Q].isAlias?g(C):g(T)+"."+g(C),params:[]}}if(B(y,gt)){if(B(y.value,nt))return{sql:A(x.value++,y),params:[y],typings:["none"]};const T=y.value===null?null:y.encoder.mapToDriverValue(y.value);if(B(T,F))return this.buildQueryFromSourceParams([T],u);if(b)return{sql:this.mapInlineParam(T,u),params:[]};let C=["none"];return w&&(C=[w(y.encoder)]),{sql:A(x.value++,T),params:[T],typings:C}}return B(y,nt)?{sql:A(x.value++,y),params:[y],typings:["none"]}:B(y,F.Aliased)&&y.fieldAlias!==void 0?{sql:g(y.fieldAlias),params:[]}:B(y,Nt)?y._.isWith?{sql:g(y._.alias),params:[]}:this.buildQueryFromSourceParams([new M("("),y._.sql,new M(") "),new ot(y._.alias)],u):Yu(y)?y.schema?{sql:g(y.schema)+"."+g(y.enumName),params:[]}:{sql:g(y.enumName),params:[]}:ed(y)?(R=y.shouldOmitSQLParens)!=null&&R.call(y)?this.buildQueryFromSourceParams([y.getSQL()],u):this.buildQueryFromSourceParams([new M("("),y.getSQL(),new M(")")],u):b?{sql:this.mapInlineParam(y,u),params:[]}:{sql:A(x.value++,y),params:[y],typings:["none"]}}))}mapInlineParam(o,{escapeString:r}){if(o===null)return"null";if(typeof o=="number"||typeof o=="boolean")return o.toString();if(typeof o=="string")return r(o);if(typeof o=="object"){const u=o.toString();return r(u==="[object Object]"?JSON.stringify(o):u)}throw new Error("Unexpected param value: "+o)}getSQL(){return this}as(o){return o===void 0?this:new F.Aliased(this,o)}mapWith(o){return this.decoder=typeof o=="function"?{mapFromDriverValue:o}:o,this}inlineParams(){return this.shouldInlineParams=!0,this}if(o){return o?this:void 0}};_(F,le,"SQL");let q=F;var oe;oe=N;class ot{constructor(o){_(this,"brand");this.value=o}getSQL(){return new q([this])}}_(ot,oe,"Name");const Po={mapFromDriverValue:n=>n},Io={mapToDriverValue:n=>n};({...Po,...Io});var ne;ne=N;class gt{constructor(o,r=Io){_(this,"brand");this.value=o,this.encoder=r}getSQL(){return new q([this])}}_(gt,ne,"Param");function s(n,...o){const r=[];(o.length>0||n.length>0&&n[0]!=="")&&r.push(new M(n[0]));for(const[u,f]of o.entries())r.push(f,new M(n[u+1]));return new q(r)}(n=>{function o(){return new q([])}n.empty=o;function r(b){return new q(b)}n.fromList=r;function u(b){return new q([new M(b)])}n.raw=u;function f(b,x){const y=[];for(const[R,T]of b.entries())R>0&&x!==void 0&&y.push(x),y.push(T);return new q(y)}n.join=f;function g(b){return new ot(b)}n.identifier=g;function A(b){return new nt(b)}n.placeholder=A;function w(b,x){return new gt(b,x)}n.param=w})(s||(s={}));(n=>{var r;r=N;const u=class u{constructor(g,A){_(this,"isSelectionField",!1);this.sql=g,this.fieldAlias=A}getSQL(){return this.sql}clone(){return new u(this.sql,this.fieldAlias)}};_(u,r,"SQL.Aliased");let o=u;n.Aliased=o})(q||(q={}));var re;re=N;class nt{constructor(o){this.name=o}getSQL(){return new q([this])}}_(nt,re,"Placeholder");const Co=Symbol.for("drizzle:IsDrizzleView");var ue,de,ie;ie=N,de=Q,ue=Co;class Do{constructor({name:o,schema:r,selectedFields:u,query:f}){_(this,de);_(this,ue,!0);this[Q]={name:o,originalName:o,schema:r,selectedFields:u,query:f,isExisting:!f,isAlias:!1}}getSQL(){return new q([this])}}_(Do,ie,"View");function ld(n){return typeof n=="object"&&n!==null&&Co in n}O.prototype.getSQL=function(){return new q([this])};U.prototype.getSQL=function(){return new q([this])};Nt.prototype.getSQL=function(){return new q([this])};function od(n){return n[U.Symbol.Columns]}function nd(n){return n[Q].selectedFields}function K(n,o){return{name:typeof n=="string"&&n.length>0?n:"",config:typeof n=="object"?n:o}}var se,ce;class X extends(ce=k,se=N,ce){generatedAlwaysAsIdentity(o){if(o){const{name:r,...u}=o;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:u}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(o){if(o){const{name:r,...u}=o;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:u}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}_(X,se,"PgIntColumnBaseBuilder");var _e,me;class Ro extends(me=X,_e=N,me){constructor(o){super(o,"number","PgBigInt53")}build(o){return new qo(o,this.config)}}_(Ro,_e,"PgBigInt53Builder");var pe,fe;class qo extends(fe=v,pe=N,fe){getSQLType(){return"bigint"}mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}}_(qo,pe,"PgBigInt53");var Ne,ge;class Ko extends(ge=X,Ne=N,ge){constructor(o){super(o,"bigint","PgBigInt64")}build(o){return new Bo(o,this.config)}}_(Ko,Ne,"PgBigInt64Builder");var ye,he;class Bo extends(he=v,ye=N,he){getSQLType(){return"bigint"}mapFromDriverValue(o){return BigInt(o)}}_(Bo,ye,"PgBigInt64");function h(n,o){const{name:r,config:u}=K(n,o);return u.mode==="number"?new Ro(r):new Ko(r)}var Ae,ve;class Uo extends(ve=k,Ae=N,ve){constructor(o){super(o,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(o){return new Vo(o,this.config)}}_(Uo,Ae,"PgBigSerial53Builder");var be,we;class Vo extends(we=v,be=N,we){getSQLType(){return"bigserial"}mapFromDriverValue(o){return typeof o=="number"?o:Number(o)}}_(Vo,be,"PgBigSerial53");var ke,Se;class Mo extends(Se=k,ke=N,Se){constructor(o){super(o,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(o){return new zo(o,this.config)}}_(Mo,ke,"PgBigSerial64Builder");var Te,xe;class zo extends(xe=v,Te=N,xe){getSQLType(){return"bigserial"}mapFromDriverValue(o){return BigInt(o)}}_(zo,Te,"PgBigSerial64");function rd(n,o){const{name:r,config:u}=K(n,o);return u.mode==="number"?new Uo(r):new Mo(r)}var Pe,Ie;class Eo extends(Ie=k,Pe=N,Ie){constructor(o){super(o,"boolean","PgBoolean")}build(o){return new Lo(o,this.config)}}_(Eo,Pe,"PgBooleanBuilder");var Ce,De;class Lo extends(De=v,Ce=N,De){getSQLType(){return"boolean"}}_(Lo,Ce,"PgBoolean");function c(n){return new Eo(n??"")}var Re,qe;class Fo extends(qe=k,Re=N,qe){constructor(o,r){super(o,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(o){return new jo(o,this.config)}}_(Fo,Re,"PgCharBuilder");var Ke,Be;class jo extends(Be=v,Ke=N,Be){constructor(){super(...arguments);_(this,"length",this.config.length);_(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}_(jo,Ke,"PgChar");function ud(n,o={}){const{name:r,config:u}=K(n,o);return new Fo(r,u)}var Ue,Ve;class Ho extends(Ve=k,Ue=N,Ve){constructor(o){super(o,"string","PgCidr")}build(o){return new Qo(o,this.config)}}_(Ho,Ue,"PgCidrBuilder");var Me,ze;class Qo extends(ze=v,Me=N,ze){getSQLType(){return"cidr"}}_(Qo,Me,"PgCidr");function dd(n){return new Ho(n??"")}var Ee,Le;class Oo extends(Le=k,Ee=N,Le){constructor(o,r,u){super(o,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=u}build(o){return new $o(o,this.config)}}_(Oo,Ee,"PgCustomColumnBuilder");var Fe,je;class $o extends(je=v,Fe=N,je){constructor(r,u){super(r,u);_(this,"sqlName");_(this,"mapTo");_(this,"mapFrom");this.sqlName=u.customTypeParams.dataType(u.fieldConfig),this.mapTo=u.customTypeParams.toDriver,this.mapFrom=u.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}_($o,Fe,"PgCustomColumn");function id(n){return(o,r)=>{const{name:u,config:f}=K(o,r);return new Oo(u,f,n)}}var He,Qe;class $ extends(Qe=k,He=N,Qe){defaultNow(){return this.default(s`now()`)}}_($,He,"PgDateColumnBaseBuilder");var Oe,$e;class Go extends($e=$,Oe=N,$e){constructor(o){super(o,"date","PgDate")}build(o){return new Wo(o,this.config)}}_(Go,Oe,"PgDateBuilder");var Ge,We;class Wo extends(We=v,Ge=N,We){getSQLType(){return"date"}mapFromDriverValue(o){return new Date(o)}mapToDriverValue(o){return o.toISOString()}}_(Wo,Ge,"PgDate");var Ze,Xe;class Zo extends(Xe=$,Ze=N,Xe){constructor(o){super(o,"string","PgDateString")}build(o){return new Xo(o,this.config)}}_(Zo,Ze,"PgDateStringBuilder");var Je,Ye;class Xo extends(Ye=v,Je=N,Ye){getSQLType(){return"date"}}_(Xo,Je,"PgDateString");function sd(n,o){const{name:r,config:u}=K(n,o);return(u==null?void 0:u.mode)==="date"?new Go(r):new Zo(r)}var ta,ea;class Jo extends(ea=k,ta=N,ea){constructor(o){super(o,"number","PgDoublePrecision")}build(o){return new Yo(o,this.config)}}_(Jo,ta,"PgDoublePrecisionBuilder");var aa,la;class Yo extends(la=v,aa=N,la){getSQLType(){return"double precision"}mapFromDriverValue(o){return typeof o=="string"?Number.parseFloat(o):o}}_(Yo,aa,"PgDoublePrecision");function cd(n){return new Jo(n??"")}var oa,na;class tn extends(na=k,oa=N,na){constructor(o){super(o,"string","PgInet")}build(o){return new en(o,this.config)}}_(tn,oa,"PgInetBuilder");var ra,ua;class en extends(ua=v,ra=N,ua){getSQLType(){return"inet"}}_(en,ra,"PgInet");function _d(n){return new tn(n??"")}var da,ia;class an extends(ia=X,da=N,ia){constructor(o){super(o,"number","PgInteger")}build(o){return new ln(o,this.config)}}_(an,da,"PgIntegerBuilder");var sa,ca;class ln extends(ca=v,sa=N,ca){getSQLType(){return"integer"}mapFromDriverValue(o){return typeof o=="string"?Number.parseInt(o):o}}_(ln,sa,"PgInteger");function e(n){return new an(n??"")}var _a,ma;class on extends(ma=k,_a=N,ma){constructor(o,r){super(o,"string","PgInterval"),this.config.intervalConfig=r}build(o){return new nn(o,this.config)}}_(on,_a,"PgIntervalBuilder");var pa,fa;class nn extends(fa=v,pa=N,fa){constructor(){super(...arguments);_(this,"fields",this.config.intervalConfig.fields);_(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",u=this.precision?`(${this.precision})`:"";return`interval${r}${u}`}}_(nn,pa,"PgInterval");function md(n,o={}){const{name:r,config:u}=K(n,o);return new on(r,u)}var Na,ga;class rn extends(ga=k,Na=N,ga){constructor(o){super(o,"json","PgJson")}build(o){return new un(o,this.config)}}_(rn,Na,"PgJsonBuilder");var ya,ha;class un extends(ha=v,ya=N,ha){constructor(o,r){super(o,r)}getSQLType(){return"json"}mapToDriverValue(o){return JSON.stringify(o)}mapFromDriverValue(o){if(typeof o=="string")try{return JSON.parse(o)}catch{return o}return o}}_(un,ya,"PgJson");function pd(n){return new rn(n??"")}var Aa,va;class dn extends(va=k,Aa=N,va){constructor(o){super(o,"json","PgJsonb")}build(o){return new sn(o,this.config)}}_(dn,Aa,"PgJsonbBuilder");var ba,wa;class sn extends(wa=v,ba=N,wa){constructor(o,r){super(o,r)}getSQLType(){return"jsonb"}mapToDriverValue(o){return JSON.stringify(o)}mapFromDriverValue(o){if(typeof o=="string")try{return JSON.parse(o)}catch{return o}return o}}_(sn,ba,"PgJsonb");function p(n){return new dn(n??"")}var ka,Sa;class cn extends(Sa=k,ka=N,Sa){constructor(o){super(o,"array","PgLine")}build(o){return new _n(o,this.config)}}_(cn,ka,"PgLineBuilder");var Ta,xa;class _n extends(xa=v,Ta=N,xa){getSQLType(){return"line"}mapFromDriverValue(o){const[r,u,f]=o.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(u),Number.parseFloat(f)]}mapToDriverValue(o){return`{${o[0]},${o[1]},${o[2]}}`}}_(_n,Ta,"PgLine");var Pa,Ia;class mn extends(Ia=k,Pa=N,Ia){constructor(o){super(o,"json","PgLineABC")}build(o){return new pn(o,this.config)}}_(mn,Pa,"PgLineABCBuilder");var Ca,Da;class pn extends(Da=v,Ca=N,Da){getSQLType(){return"line"}mapFromDriverValue(o){const[r,u,f]=o.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(u),c:Number.parseFloat(f)}}mapToDriverValue(o){return`{${o.a},${o.b},${o.c}}`}}_(pn,Ca,"PgLineABC");function fd(n,o){const{name:r,config:u}=K(n,o);return!(u!=null&&u.mode)||u.mode==="tuple"?new cn(r):new mn(r)}var Ra,qa;class fn extends(qa=k,Ra=N,qa){constructor(o){super(o,"string","PgMacaddr")}build(o){return new Nn(o,this.config)}}_(fn,Ra,"PgMacaddrBuilder");var Ka,Ba;class Nn extends(Ba=v,Ka=N,Ba){getSQLType(){return"macaddr"}}_(Nn,Ka,"PgMacaddr");function Nd(n){return new fn(n??"")}var Ua,Va;class gn extends(Va=k,Ua=N,Va){constructor(o){super(o,"string","PgMacaddr8")}build(o){return new yn(o,this.config)}}_(gn,Ua,"PgMacaddr8Builder");var Ma,za;class yn extends(za=v,Ma=N,za){getSQLType(){return"macaddr8"}}_(yn,Ma,"PgMacaddr8");function gd(n){return new gn(n??"")}var Ea,La;class hn extends(La=k,Ea=N,La){constructor(o,r,u){super(o,"string","PgNumeric"),this.config.precision=r,this.config.scale=u}build(o){return new An(o,this.config)}}_(hn,Ea,"PgNumericBuilder");var Fa,ja;class An extends(ja=v,Fa=N,ja){constructor(r,u){super(r,u);_(this,"precision");_(this,"scale");this.precision=u.precision,this.scale=u.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}_(An,Fa,"PgNumeric");function m(n,o){const{name:r,config:u}=K(n,o);return new hn(r,u==null?void 0:u.precision,u==null?void 0:u.scale)}var Ha,Qa;class vn extends(Qa=k,Ha=N,Qa){constructor(o){super(o,"array","PgPointTuple")}build(o){return new bn(o,this.config)}}_(vn,Ha,"PgPointTupleBuilder");var Oa,$a;class bn extends($a=v,Oa=N,$a){getSQLType(){return"point"}mapFromDriverValue(o){if(typeof o=="string"){const[r,u]=o.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(u)]}return[o.x,o.y]}mapToDriverValue(o){return`(${o[0]},${o[1]})`}}_(bn,Oa,"PgPointTuple");var Ga,Wa;class wn extends(Wa=k,Ga=N,Wa){constructor(o){super(o,"json","PgPointObject")}build(o){return new kn(o,this.config)}}_(wn,Ga,"PgPointObjectBuilder");var Za,Xa;class kn extends(Xa=v,Za=N,Xa){getSQLType(){return"point"}mapFromDriverValue(o){if(typeof o=="string"){const[r,u]=o.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(u)}}return o}mapToDriverValue(o){return`(${o.x},${o.y})`}}_(kn,Za,"PgPointObject");function yd(n,o){const{name:r,config:u}=K(n,o);return!(u!=null&&u.mode)||u.mode==="tuple"?new vn(r):new wn(r)}function hd(n){const o=[];for(let r=0;r<n.length;r+=2)o.push(Number.parseInt(n.slice(r,r+2),16));return new Uint8Array(o)}function It(n,o){const r=new ArrayBuffer(8),u=new DataView(r);for(let f=0;f<8;f++)u.setUint8(f,n[o+f]);return u.getFloat64(0,!0)}function Sn(n){const o=hd(n);let r=0;const u=o[r];r+=1;const f=new DataView(o.buffer),g=f.getUint32(r,u===1);if(r+=4,g&536870912&&(f.getUint32(r,u===1),r+=4),(g&65535)===1){const A=It(o,r);r+=8;const w=It(o,r);return r+=8,[A,w]}throw new Error("Unsupported geometry type")}var Ja,Ya;class Tn extends(Ya=k,Ja=N,Ya){constructor(o){super(o,"array","PgGeometry")}build(o){return new xn(o,this.config)}}_(Tn,Ja,"PgGeometryBuilder");var tl,el;class xn extends(el=v,tl=N,el){getSQLType(){return"geometry(point)"}mapFromDriverValue(o){return Sn(o)}mapToDriverValue(o){return`point(${o[0]} ${o[1]})`}}_(xn,tl,"PgGeometry");var al,ll;class Pn extends(ll=k,al=N,ll){constructor(o){super(o,"json","PgGeometryObject")}build(o){return new In(o,this.config)}}_(Pn,al,"PgGeometryObjectBuilder");var ol,nl;class In extends(nl=v,ol=N,nl){getSQLType(){return"geometry(point)"}mapFromDriverValue(o){const r=Sn(o);return{x:r[0],y:r[1]}}mapToDriverValue(o){return`point(${o.x} ${o.y})`}}_(In,ol,"PgGeometryObject");function Ad(n,o){const{name:r,config:u}=K(n,o);return!(u!=null&&u.mode)||u.mode==="tuple"?new Tn(r):new Pn(r)}var rl,ul;class Cn extends(ul=k,rl=N,ul){constructor(o,r){super(o,"number","PgReal"),this.config.length=r}build(o){return new Dn(o,this.config)}}_(Cn,rl,"PgRealBuilder");var dl,il;class Dn extends(il=v,dl=N,il){constructor(r,u){super(r,u);_(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}_(Dn,dl,"PgReal");function S(n){return new Cn(n??"")}var sl,cl;class Rn extends(cl=k,sl=N,cl){constructor(o){super(o,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(o){return new qn(o,this.config)}}_(Rn,sl,"PgSerialBuilder");var _l,ml;class qn extends(ml=v,_l=N,ml){getSQLType(){return"serial"}}_(qn,_l,"PgSerial");function vd(n){return new Rn(n??"")}var pl,fl;class Kn extends(fl=X,pl=N,fl){constructor(o){super(o,"number","PgSmallInt")}build(o){return new Bn(o,this.config)}}_(Kn,pl,"PgSmallIntBuilder");var Nl,gl;class Bn extends(gl=v,Nl=N,gl){constructor(){super(...arguments);_(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}_(Bn,Nl,"PgSmallInt");function bd(n){return new Kn(n??"")}var yl,hl;class Un extends(hl=k,yl=N,hl){constructor(o){super(o,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(o){return new Vn(o,this.config)}}_(Un,yl,"PgSmallSerialBuilder");var Al,vl;class Vn extends(vl=v,Al=N,vl){getSQLType(){return"smallserial"}}_(Vn,Al,"PgSmallSerial");function wd(n){return new Un(n??"")}var bl,wl;class Mn extends(wl=k,bl=N,wl){constructor(o,r){super(o,"string","PgText"),this.config.enumValues=r.enum}build(o){return new zn(o,this.config)}}_(Mn,bl,"PgTextBuilder");var kl,Sl;class zn extends(Sl=v,kl=N,Sl){constructor(){super(...arguments);_(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}_(zn,kl,"PgText");function t(n,o={}){const{name:r,config:u}=K(n,o);return new Mn(r,u)}var Tl,xl;class En extends(xl=$,Tl=N,xl){constructor(o,r,u){super(o,"string","PgTime"),this.withTimezone=r,this.precision=u,this.config.withTimezone=r,this.config.precision=u}build(o){return new Ln(o,this.config)}}_(En,Tl,"PgTimeBuilder");var Pl,Il;class Ln extends(Il=v,Pl=N,Il){constructor(r,u){super(r,u);_(this,"withTimezone");_(this,"precision");this.withTimezone=u.withTimezone,this.precision=u.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}_(Ln,Pl,"PgTime");function kd(n,o={}){const{name:r,config:u}=K(n,o);return new En(r,u.withTimezone??!1,u.precision)}var Cl,Dl;class Fn extends(Dl=$,Cl=N,Dl){constructor(o,r,u){super(o,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=u}build(o){return new jn(o,this.config)}}_(Fn,Cl,"PgTimestampBuilder");var Rl,ql;class jn extends(ql=v,Rl=N,ql){constructor(r,u){super(r,u);_(this,"withTimezone");_(this,"precision");_(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));_(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=u.withTimezone,this.precision=u.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}_(jn,Rl,"PgTimestamp");var Kl,Bl;class Hn extends(Bl=$,Kl=N,Bl){constructor(o,r,u){super(o,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=u}build(o){return new Qn(o,this.config)}}_(Hn,Kl,"PgTimestampStringBuilder");var Ul,Vl;class Qn extends(Vl=v,Ul=N,Vl){constructor(r,u){super(r,u);_(this,"withTimezone");_(this,"precision");this.withTimezone=u.withTimezone,this.precision=u.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}_(Qn,Ul,"PgTimestampString");function l(n,o={}){const{name:r,config:u}=K(n,o);return(u==null?void 0:u.mode)==="string"?new Hn(r,u.withTimezone??!1,u.precision):new Fn(r,(u==null?void 0:u.withTimezone)??!1,u==null?void 0:u.precision)}var Ml,zl;class On extends(zl=k,Ml=N,zl){constructor(o){super(o,"string","PgUUID")}defaultRandom(){return this.default(s`gen_random_uuid()`)}build(o){return new $n(o,this.config)}}_(On,Ml,"PgUUIDBuilder");var El,Ll;class $n extends(Ll=v,El=N,Ll){getSQLType(){return"uuid"}}_($n,El,"PgUUID");function Sd(n){return new On(n??"")}var Fl,jl;class Gn extends(jl=k,Fl=N,jl){constructor(o,r){super(o,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(o){return new Wn(o,this.config)}}_(Gn,Fl,"PgVarcharBuilder");var Hl,Ql;class Wn extends(Ql=v,Hl=N,Ql){constructor(){super(...arguments);_(this,"length",this.config.length);_(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}_(Wn,Hl,"PgVarchar");function a(n,o={}){const{name:r,config:u}=K(n,o);return new Gn(r,u)}var Ol,$l;class Zn extends($l=k,Ol=N,$l){constructor(o,r){super(o,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(o){return new Xn(o,this.config)}}_(Zn,Ol,"PgBinaryVectorBuilder");var Gl,Wl;class Xn extends(Wl=v,Gl=N,Wl){constructor(){super(...arguments);_(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}_(Xn,Gl,"PgBinaryVector");function Td(n,o){const{name:r,config:u}=K(n,o);return new Zn(r,u)}var Zl,Xl;class Jn extends(Xl=k,Zl=N,Xl){constructor(o,r){super(o,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(o){return new Yn(o,this.config)}}_(Jn,Zl,"PgHalfVectorBuilder");var Jl,Yl;class Yn extends(Yl=v,Jl=N,Yl){constructor(){super(...arguments);_(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(u=>Number.parseFloat(u))}}_(Yn,Jl,"PgHalfVector");function xd(n,o){const{name:r,config:u}=K(n,o);return new Jn(r,u)}var to,eo;class tr extends(eo=k,to=N,eo){constructor(o,r){super(o,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(o){return new er(o,this.config)}}_(tr,to,"PgSparseVectorBuilder");var ao,lo;class er extends(lo=v,ao=N,lo){constructor(){super(...arguments);_(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}_(er,ao,"PgSparseVector");function Pd(n,o){const{name:r,config:u}=K(n,o);return new tr(r,u)}var oo,no;class ar extends(no=k,oo=N,no){constructor(o,r){super(o,"array","PgVector"),this.config.dimensions=r.dimensions}build(o){return new lr(o,this.config)}}_(ar,oo,"PgVectorBuilder");var ro,uo;class lr extends(uo=v,ro=N,uo){constructor(){super(...arguments);_(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(u=>Number.parseFloat(u))}}_(lr,ro,"PgVector");function Id(n,o){const{name:r,config:u}=K(n,o);return new ar(r,u)}function Cd(){return{bigint:h,bigserial:rd,boolean:c,char:ud,cidr:dd,customType:id,date:sd,doublePrecision:cd,inet:_d,integer:e,interval:md,json:pd,jsonb:p,line:fd,macaddr:Nd,macaddr8:gd,numeric:m,point:yd,geometry:Ad,real:S,serial:vd,smallint:bd,smallserial:wd,text:t,time:kd,timestamp:l,uuid:Sd,varchar:a,bit:Td,halfvec:xd,sparsevec:Pd,vector:Id}}const pt=Symbol.for("drizzle:PgInlineForeignKeys"),Ct=Symbol.for("drizzle:EnableRLS");var io,so,co,_o,mo;class rt extends(mo=U,_o=N,co=pt,so=Ct,io=U.Symbol.ExtraConfigBuilder,mo){constructor(){super(...arguments);_(this,co,[]);_(this,so,!1);_(this,io)}}_(rt,_o,"PgTable"),_(rt,"Symbol",Object.assign({},U.Symbol,{InlineForeignKeys:pt,EnableRLS:Ct}));function Dd(n,o,r,u,f=n){const g=new rt(n,u,f),A=typeof o=="function"?o(Cd()):o,w=Object.fromEntries(Object.entries(A).map(([y,R])=>{const T=R;T.setName(y);const C=T.build(g);return g[pt].push(...T.buildForeignKeys(C,g)),[y,C]})),b=Object.fromEntries(Object.entries(A).map(([y,R])=>{const T=R;T.setName(y);const C=T.buildExtraConfigColumn(g);return[y,C]})),x=Object.assign(g,w);return x[U.Symbol.Columns]=w,x[U.Symbol.ExtraConfigColumns]=b,Object.assign(x,{enableRLS:()=>(x[rt.Symbol.EnableRLS]=!0,x)})}const d=(n,o,r)=>Dd(n,o,r,void 0),Rd=Object.freeze(Object.defineProperty({__proto__:null,BRAND:Nr,DIRTY:gr,EMPTY_PATH:yr,INVALID:hr,NEVER:Ar,OK:vr,ParseStatus:br,Schema:it,ZodAny:wr,ZodArray:kr,ZodBigInt:Sr,ZodBoolean:Tr,ZodBranded:xr,ZodCatch:Pr,ZodDate:Ir,ZodDefault:Cr,ZodDiscriminatedUnion:Dr,ZodEffects:bt,ZodEnum:Rr,ZodError:qr,get ZodFirstPartyTypeKind(){return Kr},ZodFunction:Br,ZodIntersection:Ur,ZodIssueCode:Vr,ZodLazy:Mr,ZodLiteral:zr,ZodMap:Er,ZodNaN:Lr,ZodNativeEnum:Fr,ZodNever:jr,ZodNull:Hr,ZodNullable:Qr,ZodNumber:Or,ZodObject:$r,ZodOptional:Gr,ZodParsedType:Wr,ZodPipeline:Zr,ZodPromise:Xr,ZodReadonly:Jr,ZodRecord:Yr,ZodSchema:it,ZodSet:tu,ZodString:eu,ZodSymbol:au,ZodTransformer:bt,ZodTuple:lu,ZodType:it,ZodUndefined:ou,ZodUnion:nu,ZodUnknown:ru,ZodVoid:uu,addIssueToContext:du,any:at,array:L,bigint:iu,boolean:po,coerce:su,custom:fo,date:z,datetimeRegex:cu,defaultErrorMap:_u,discriminatedUnion:mu,effect:wt,enum:No,function:pu,getErrorMap:fu,getParsedType:Nu,instanceof:gu,intersection:yu,isAborted:hu,isAsync:Au,isDirty:vu,isValid:bu,late:wu,lazy:ku,literal:Su,makeIssue:Tu,map:xu,nan:Pu,nativeEnum:Iu,never:Cu,null:go,nullable:Du,number:V,object:dt,get objectUtil(){return Ru},oboolean:qu,onumber:Ku,optional:Bu,ostring:Uu,pipeline:Vu,preprocess:Mu,promise:zu,quotelessJson:Eu,record:yo,set:Lu,setErrorMap:Fu,strictObject:ju,string:P,symbol:Hu,transformer:wt,tuple:Qu,undefined:Ou,union:ft,unknown:$u,get util(){return Gu},void:Wu},Symbol.toStringTag,{value:"Module"})),I={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function D(n,o){return o.includes(n.columnType)}function qd(n){return"enumValues"in n&&Array.isArray(n.enumValues)&&n.enumValues.length>0}const Kd=ft([P(),V(),po(),go()]),Bd=ft([Kd,yo(at()),L(at())]),Ud=fo(n=>n instanceof Buffer);function or(n,o){const r=(o==null?void 0:o.zodInstance)??Rd,u=(o==null?void 0:o.coerce)??{};let f;return qd(n)&&(f=n.enumValues.length?r.enum(n.enumValues):r.string()),f||(D(n,["PgGeometry","PgPointTuple"])?f=r.tuple([r.number(),r.number()]):D(n,["PgGeometryObject","PgPointObject"])?f=r.object({x:r.number(),y:r.number()}):D(n,["PgHalfVector","PgVector"])?(f=r.array(r.number()),f=n.dimensions?f.length(n.dimensions):f):D(n,["PgLine"])?f=r.tuple([r.number(),r.number(),r.number()]):D(n,["PgLineABC"])?f=r.object({a:r.number(),b:r.number(),c:r.number()}):D(n,["PgArray"])?(f=r.array(or(n.baseColumn,r)),f=n.size?f.length(n.size):f):n.dataType==="array"?f=r.array(r.any()):n.dataType==="number"?f=Vd(n,r,u):n.dataType==="bigint"?f=Md(n,r,u):n.dataType==="boolean"?f=u===!0||u.boolean?r.coerce.boolean():r.boolean():n.dataType==="date"?f=u===!0||u.date?r.coerce.date():r.date():n.dataType==="string"?f=zd(n,r,u):n.dataType==="json"?f=Bd:n.dataType==="custom"?f=r.any():n.dataType==="buffer"&&(f=Ud)),f||(f=r.any()),f}function Vd(n,o,r){let u=n.getSQLType().includes("unsigned"),f,g,A=!1;D(n,["MySqlTinyInt","SingleStoreTinyInt"])?(f=u?0:I.INT8_MIN,g=u?I.INT8_UNSIGNED_MAX:I.INT8_MAX,A=!0):D(n,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(f=u?0:I.INT16_MIN,g=u?I.INT16_UNSIGNED_MAX:I.INT16_MAX,A=!0):D(n,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(f=u?0:I.INT24_MIN,g=u?I.INT24_UNSIGNED_MAX:I.INT24_MAX,A=D(n,["MySqlMediumInt","SingleStoreMediumInt"])):D(n,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(f=u?0:I.INT32_MIN,g=u?I.INT32_UNSIGNED_MAX:I.INT32_MAX,A=!0):D(n,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(f=u?0:I.INT48_MIN,g=u?I.INT48_UNSIGNED_MAX:I.INT48_MAX):D(n,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(u=u||D(n,["MySqlSerial","SingleStoreSerial"]),f=u?0:Number.MIN_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,A=!0):D(n,["MySqlYear","SingleStoreYear"])?(f=1901,g=2155,A=!0):(f=Number.MIN_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER);let w=r===!0||r!=null&&r.number?o.coerce.number():o.number();return w=w.min(f).max(g),A?w.int():w}function Md(n,o,r){const u=n.getSQLType().includes("unsigned"),f=u?0n:I.INT64_MIN,g=u?I.INT64_UNSIGNED_MAX:I.INT64_MAX;return(r===!0||r!=null&&r.bigint?o.coerce.bigint():o.bigint()).min(f).max(g)}function zd(n,o,r){if(D(n,["PgUUID"]))return o.string().uuid();let u,f,g=!1;D(n,["PgVarchar","SQLiteText"])?u=n.length:D(n,["MySqlVarChar","SingleStoreVarChar"])?u=n.length??I.INT16_UNSIGNED_MAX:D(n,["MySqlText","SingleStoreText"])&&(n.textType==="longtext"?u=I.INT32_UNSIGNED_MAX:n.textType==="mediumtext"?u=I.INT24_UNSIGNED_MAX:n.textType==="text"?u=I.INT16_UNSIGNED_MAX:u=I.INT8_UNSIGNED_MAX),D(n,["PgChar","MySqlChar","SingleStoreChar"])&&(u=n.length,g=!0),D(n,["PgBinaryVector"])&&(f=/^[01]+$/,u=n.dimensions);let A=r===!0||r!=null&&r.string?o.coerce.string():o.string();return A=f?A.regex(f):A,u&&g?A.length(u):u?A.max(u):A}function nr(n){return xo(n)?od(n):nd(n)}function rr(n,o,r,u){const f={};for(const[g,A]of Object.entries(n)){if(!B(A,O)&&!B(A,q)&&!B(A,q.Aliased)&&typeof A=="object"){const R=xo(A)||ld(A)?nr(A):A;f[g]=rr(R,o[g]??{},r,u);continue}const w=o[g];if(w!==void 0&&typeof w!="function"){f[g]=w;continue}const b=B(A,O)?A:void 0,x=b?or(b,u):at(),y=typeof w=="function"?w(x):x;r.never(b)||(f[g]=y,b&&(r.nullable(b)&&(f[g]=f[g].nullable()),r.optional(b)&&(f[g]=f[g].optional())))}return dt(f)}const Ed={never:n=>{var o,r;return((o=n==null?void 0:n.generated)==null?void 0:o.type)==="always"||((r=n==null?void 0:n.generatedIdentity)==null?void 0:r.type)==="always"},optional:n=>!n.notNull||n.notNull&&n.hasDefault,nullable:n=>!n.notNull},i=(n,o)=>{const r=nr(n);return rr(r,{},Ed)},Ld=d("blocks",{id:a("id").primaryKey().default(s`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull().unique(),hash:t("hash").notNull().unique(),parentHash:t("parent_hash").notNull(),timestamp:h("timestamp",{mode:"number"}).notNull(),transactionCount:e("transaction_count").notNull().default(0),validatorAddress:t("validator_address").notNull(),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),gasLimit:h("gas_limit",{mode:"number"}).notNull().default(0),size:e("size").notNull(),shardId:e("shard_id").notNull().default(0),stateRoot:t("state_root").notNull(),receiptsRoot:t("receipts_root").notNull(),executionClass:t("execution_class").notNull().default("standard"),latencyNs:h("latency_ns",{mode:"number"}).notNull().default(0),parallelBatchId:a("parallel_batch_id"),hashAlgorithm:t("hash_algorithm").notNull().default("blake3"),finalityStatus:t("finality_status").notNull().default("finalized"),finalityConfirmations:e("finality_confirmations").notNull().default(0),verificationCount:e("verification_count").notNull().default(0),requiredVerifications:e("required_verifications").notNull().default(0),finalizedAt:l("finalized_at"),totalBlockReward:t("total_block_reward").notNull().default("0"),rewardDistributed:c("reward_distributed").notNull().default(!1)}),Fd=d("transactions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),hash:t("hash").notNull().unique(),blockNumber:h("block_number",{mode:"number"}).notNull(),blockHash:t("block_hash").notNull(),from:t("from").notNull(),to:t("to"),value:t("value").notNull(),gas:h("gas",{mode:"number"}).notNull(),gasPrice:t("gas_price").notNull(),gasUsed:h("gas_used",{mode:"number"}),nonce:e("nonce").notNull(),timestamp:h("timestamp",{mode:"number"}).notNull(),status:t("status").notNull().default("pending"),input:t("input"),contractAddress:t("contract_address"),shardId:e("shard_id").notNull().default(0),executionClass:t("execution_class").notNull().default("standard"),latencyNs:h("latency_ns",{mode:"number"}).notNull().default(0),parallelBatchId:a("parallel_batch_id"),crossShardMessageId:a("cross_shard_message_id"),hashAlgorithm:t("hash_algorithm").notNull().default("blake3"),signature:t("signature"),signatureVerified:c("signature_verified").notNull().default(!1),signatureAlgorithm:t("signature_algorithm").notNull().default("secp256k1"),publicKey:t("public_key"),verifiedAt:l("verified_at")}),jd=d("accounts",{id:a("id").primaryKey().default(s`gen_random_uuid()`),address:t("address").notNull().unique(),balance:t("balance").notNull().default("0"),nonce:e("nonce").notNull().default(0),code:t("code"),isContract:c("is_contract").notNull().default(!1),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Hd=d("validators",{id:a("id").primaryKey().default(s`gen_random_uuid()`),address:t("address").notNull().unique(),name:t("name").notNull(),stake:t("stake").notNull(),delegatedStake:t("delegated_stake").notNull().default("0"),commission:e("commission").notNull().default(500),status:t("status").notNull().default("active"),uptime:e("uptime").notNull().default(1e4),totalBlocks:e("total_blocks").notNull().default(0),votingPower:t("voting_power").notNull().default("0"),apy:e("apy").notNull().default(0),delegators:e("delegators").notNull().default(0),joinedAt:l("joined_at").notNull().defaultNow(),missedBlocks:e("missed_blocks").notNull().default(0),avgBlockTime:e("avg_block_time").notNull().default(0),rewardEarned:t("reward_earned").notNull().default("0"),slashCount:e("slash_count").notNull().default(0),lastActiveAt:l("last_active_at"),reputationScore:e("reputation_score").notNull().default(8500),performanceScore:e("performance_score").notNull().default(9e3),committeeSelectionCount:e("committee_selection_count").notNull().default(0),aiTrustScore:e("ai_trust_score").notNull().default(7500),behaviorScore:e("behavior_score").notNull().default(9500),adaptiveWeight:e("adaptive_weight").notNull().default(1e4)}),Qd=d("block_verifications",{id:a("id").primaryKey().default(s`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull(),blockHash:t("block_hash").notNull(),validatorAddress:t("validator_address").notNull(),verificationResult:t("verification_result").notNull().default("valid"),verificationSignature:t("verification_signature").notNull(),stateRootMatch:c("state_root_match").notNull().default(!0),receiptsRootMatch:c("receipts_root_match").notNull().default(!0),transactionsValid:c("transactions_valid").notNull().default(!0),verificationTimeMs:e("verification_time_ms").notNull().default(0),createdAt:l("created_at").notNull().defaultNow()}),Od=d("validator_block_rewards",{id:a("id").primaryKey().default(s`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull(),validatorAddress:t("validator_address").notNull(),rewardType:t("reward_type").notNull(),rewardAmount:t("reward_amount").notNull(),gasFeesEarned:t("gas_fees_earned").notNull().default("0"),participationRole:t("participation_role").notNull(),votePower:t("vote_power").notNull().default("0"),distributed:c("distributed").notNull().default(!1),distributedAt:l("distributed_at"),txHash:t("tx_hash"),createdAt:l("created_at").notNull().defaultNow()}),$d=d("block_finality_confirmations",{id:a("id").primaryKey().default(s`gen_random_uuid()`),blockNumber:h("block_number",{mode:"number"}).notNull().unique(),blockHash:t("block_hash").notNull(),finalityStatus:t("finality_status").notNull().default("pending"),totalVerifications:e("total_verifications").notNull().default(0),requiredVerifications:e("required_verifications").notNull(),validVotes:e("valid_votes").notNull().default(0),invalidVotes:e("invalid_votes").notNull().default(0),abstainVotes:e("abstain_votes").notNull().default(0),totalRewardsDistributed:t("total_rewards_distributed").notNull().default("0"),proposerReward:t("proposer_reward").notNull().default("0"),verifierRewardsTotal:t("verifier_rewards_total").notNull().default("0"),consensusStartAt:l("consensus_start_at").notNull().defaultNow(),finalizedAt:l("finalized_at"),confirmationLatencyMs:e("confirmation_latency_ms"),createdAt:l("created_at").notNull().defaultNow()});i(Qd).omit({id:!0,createdAt:!0});i(Od).omit({id:!0,createdAt:!0});i($d).omit({id:!0,createdAt:!0});const Gd=d("smart_contracts",{id:a("id").primaryKey().default(s`gen_random_uuid()`),address:t("address").notNull().unique(),name:t("name").notNull(),creator:t("creator").notNull(),bytecode:t("bytecode").notNull(),abi:p("abi"),sourceCode:t("source_code"),deployedAt:l("deployed_at").notNull().defaultNow(),transactionCount:e("transaction_count").notNull().default(0),balance:t("balance").notNull().default("0"),verified:c("verified").notNull().default(!1)}),Wd=d("ai_models",{id:a("id").primaryKey().default(s`gen_random_uuid()`),name:t("name").notNull().unique(),band:t("band").notNull().default("operational"),status:t("status").notNull().default("active"),requestCount:e("request_count").notNull().default(0),successCount:e("success_count").notNull().default(0),failureCount:e("failure_count").notNull().default(0),avgResponseTime:e("avg_response_time").notNull().default(0),totalCost:t("total_cost").notNull().default("0"),lastUsed:l("last_used"),cacheHitRate:e("cache_hit_rate").notNull().default(0),accuracy:e("accuracy").notNull().default(0),uptime:e("uptime").notNull().default(1e4),feedbackLearningScore:e("feedback_learning_score").notNull().default(8e3),crossBandInteractions:e("cross_band_interactions").notNull().default(0),strategicDecisions:e("strategic_decisions").notNull().default(0),tacticalDecisions:e("tactical_decisions").notNull().default(0),operationalDecisions:e("operational_decisions").notNull().default(0),modelWeight:e("model_weight").notNull().default(3333),consensusContribution:e("consensus_contribution").notNull().default(0)}),Zd=d("ai_decisions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),band:t("band").notNull(),modelName:t("model_name").notNull(),provider:t("provider").notNull().default("unknown"),decision:t("decision").notNull(),impact:t("impact").notNull(),category:t("category").notNull(),shardId:e("shard_id"),validatorAddress:t("validator_address"),status:t("status").notNull().default("executed"),confidence:e("confidence"),executionTime:e("execution_time"),promptText:t("prompt_text"),responseText:t("response_text"),tokensUsed:e("tokens_used").default(0),costUsd:t("cost_usd").default("0"),isRealAi:c("is_real_ai").notNull().default(!0),actionApplied:t("action_applied"),blockchainTxHash:t("blockchain_tx_hash"),metadata:p("metadata"),createdAt:l("created_at").notNull().defaultNow(),executedAt:l("executed_at")}),Xd=d("ai_usage_logs",{id:a("id").primaryKey().default(s`gen_random_uuid()`),provider:t("provider").notNull(),model:t("model").notNull(),band:t("band").notNull(),requestType:t("request_type").notNull(),promptTokens:e("prompt_tokens").notNull().default(0),completionTokens:e("completion_tokens").notNull().default(0),totalTokens:e("total_tokens").notNull().default(0),costUsd:t("cost_usd").notNull().default("0"),responseTimeMs:e("response_time_ms").notNull().default(0),success:c("success").notNull().default(!0),errorType:t("error_type"),errorMessage:t("error_message"),wasFailover:c("was_failover").notNull().default(!1),originalProvider:t("original_provider"),createdAt:l("created_at").notNull().defaultNow()}),Jd=d("ai_execution_logs",{id:a("id").primaryKey().default(s`gen_random_uuid()`),decisionId:a("decision_id").notNull(),executionType:t("execution_type").notNull(),status:t("status").notNull().default("pending"),confidence:e("confidence").notNull(),impactLevel:t("impact_level").notNull(),beforeState:p("before_state").notNull(),afterState:p("after_state"),executionTimeMs:e("execution_time_ms").notNull().default(0),blockchainTxHash:t("blockchain_tx_hash"),rolledBack:c("rolled_back").notNull().default(!1),rollbackReason:t("rollback_reason"),rollbackAt:l("rollback_at"),metricsImprovement:p("metrics_improvement"),createdAt:l("created_at").notNull().defaultNow(),completedAt:l("completed_at")}),Yd=d("governance_prevalidations",{id:a("id").primaryKey().default(s`gen_random_uuid()`),proposalId:a("proposal_id").notNull(),proposalTitle:t("proposal_title").notNull(),proposalType:t("proposal_type").notNull(),aiConfidence:e("ai_confidence").notNull(),aiRecommendation:t("ai_recommendation").notNull(),aiReasoning:t("ai_reasoning").notNull(),riskLevel:t("risk_level").notNull(),riskFactors:p("risk_factors"),economicImpact:p("economic_impact"),securityImpact:p("security_impact"),autoDecision:c("auto_decision").notNull().default(!1),autoDecisionResult:t("auto_decision_result"),validatorNotified:c("validator_notified").notNull().default(!1),validatorVoteRequired:c("validator_vote_required").notNull().default(!0),similarProposals:p("similar_proposals"),analysisTimeMs:e("analysis_time_ms").notNull().default(0),provider:t("provider").notNull(),model:t("model").notNull(),tokensUsed:e("tokens_used").notNull().default(0),costUsd:t("cost_usd").notNull().default("0"),createdAt:l("created_at").notNull().defaultNow(),decidedAt:l("decided_at")}),ti=d("ai_training_jobs",{id:a("id").primaryKey().default(s`gen_random_uuid()`),name:t("name").notNull(),model:t("model").notNull(),status:t("status").notNull().default("queued"),progress:e("progress").notNull().default(0),eta:t("eta"),dataPoints:t("data_points").notNull().default("0"),epochs:e("epochs").notNull().default(10),currentEpoch:e("current_epoch").notNull().default(0),learningRate:S("learning_rate").notNull().default(.001),batchSize:e("batch_size").notNull().default(32),accuracy:S("accuracy").notNull().default(0),loss:S("loss").notNull().default(0),validationAccuracy:S("validation_accuracy").notNull().default(0),validationLoss:S("validation_loss").notNull().default(0),datasetName:t("dataset_name"),datasetSize:t("dataset_size"),errorMessage:t("error_message"),retryCount:e("retry_count").notNull().default(0),startedAt:l("started_at"),pausedAt:l("paused_at"),completedAt:l("completed_at"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),ei=d("ai_parameters",{id:a("id").primaryKey().default(s`gen_random_uuid()`),configName:t("config_name").notNull().default("default"),isActive:c("is_active").notNull().default(!0),modelConfigs:p("model_configs").notNull().default([]),decisionParams:p("decision_params").notNull().default([]),strategicWeight:e("strategic_weight").notNull().default(50),tacticalWeight:e("tactical_weight").notNull().default(30),operationalWeight:e("operational_weight").notNull().default(20),autoExecuteThreshold:e("auto_execute_threshold").notNull().default(70),humanReviewThreshold:e("human_review_threshold").notNull().default(50),rejectionThreshold:e("rejection_threshold").notNull().default(30),strategicPerHour:e("strategic_per_hour").notNull().default(10),tacticalPerMinute:e("tactical_per_minute").notNull().default(100),operationalPerSecond:e("operational_per_second").notNull().default(1e3),allowEmergencyActions:c("allow_emergency_actions").notNull().default(!0),circuitBreaker:c("circuit_breaker").notNull().default(!0),consensusTimeout:e("consensus_timeout").notNull().default(5e3),retryAttempts:e("retry_attempts").notNull().default(3),backoffMultiplier:S("backoff_multiplier").notNull().default(1.5),cacheTtl:e("cache_ttl").notNull().default(300),createdBy:t("created_by"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),ai=d("ai_training_metrics",{id:a("id").primaryKey().default(s`gen_random_uuid()`),jobId:a("job_id").notNull(),epoch:e("epoch").notNull(),trainLoss:S("train_loss").notNull().default(0),validationLoss:S("validation_loss").notNull().default(0),trainAccuracy:S("train_accuracy").notNull().default(0),validationAccuracy:S("validation_accuracy").notNull().default(0),learningRate:S("learning_rate").notNull().default(0),gradientNorm:S("gradient_norm").notNull().default(0),throughputSamplesPerSec:e("throughput_samples_per_sec").notNull().default(0),gpuMemoryUsedMb:e("gpu_memory_used_mb").notNull().default(0),epochDurationMs:e("epoch_duration_ms").notNull().default(0),createdAt:l("created_at").notNull().defaultNow()}),li=d("ai_model_deployments",{id:a("id").primaryKey().default(s`gen_random_uuid()`),modelName:t("model_name").notNull(),version:t("version").notNull(),status:t("status").notNull().default("pending"),environment:t("environment").notNull().default("production"),trainingJobId:a("training_job_id"),baseModel:t("base_model").notNull(),accuracy:S("accuracy").notNull().default(0),latencyMs:e("latency_ms").notNull().default(0),throughputRps:e("throughput_rps").notNull().default(0),memoryMb:e("memory_mb").notNull().default(0),gpuUtilization:e("gpu_utilization").notNull().default(0),healthScore:e("health_score").notNull().default(100),requestCount:h("request_count",{mode:"number"}).notNull().default(0),errorCount:e("error_count").notNull().default(0),trafficPercent:e("traffic_percent").notNull().default(100),isCanary:c("is_canary").notNull().default(!1),previousVersionId:a("previous_version_id"),rollbackCount:e("rollback_count").notNull().default(0),deployedBy:t("deployed_by"),deployedAt:l("deployed_at"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),oi=d("ai_training_datasets",{id:a("id").primaryKey().default(s`gen_random_uuid()`),name:t("name").notNull(),description:t("description"),records:h("records",{mode:"number"}).notNull().default(0),sizeBytes:h("size_bytes",{mode:"number"}).notNull().default(0),format:t("format").notNull().default("jsonl"),qualityScore:e("quality_score").notNull().default(0),completeness:e("completeness").notNull().default(0),consistency:e("consistency").notNull().default(0),duplicateRate:S("duplicate_rate").notNull().default(0),columns:p("columns"),sampleData:p("sample_data"),usedInJobs:e("used_in_jobs").notNull().default(0),lastUsedAt:l("last_used_at"),version:e("version").notNull().default(1),parentDatasetId:a("parent_dataset_id"),tags:t("tags").array(),createdBy:t("created_by"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),ni=d("ai_training_logs",{id:a("id").primaryKey().default(s`gen_random_uuid()`),jobId:a("job_id").notNull(),level:t("level").notNull().default("info"),message:t("message").notNull(),details:p("details"),epoch:e("epoch"),step:e("step"),createdAt:l("created_at").notNull().defaultNow()}),ri=d("shards",{id:a("id").primaryKey().default(s`gen_random_uuid()`),shardId:e("shard_id").notNull().unique(),name:t("name").notNull(),status:t("status").notNull().default("active"),blockHeight:h("block_height",{mode:"number"}).notNull().default(0),transactionCount:e("transaction_count").notNull().default(0),validatorCount:e("validator_count").notNull().default(0),tps:e("tps").notNull().default(0),load:e("load").notNull().default(0),peakTps:e("peak_tps").notNull().default(0),avgBlockTime:e("avg_block_time").notNull().default(0),crossShardTxCount:e("cross_shard_tx_count").notNull().default(0),stateSize:t("state_size").notNull().default("0"),lastSyncedAt:l("last_synced_at"),mlOptimizationScore:e("ml_optimization_score").notNull().default(8500),predictedLoad:e("predicted_load").notNull().default(0),rebalanceCount:e("rebalance_count").notNull().default(0),aiRecommendation:t("ai_recommendation").notNull().default("stable"),profilingScore:e("profiling_score").notNull().default(9e3),capacityUtilization:e("capacity_utilization").notNull().default(5e3)}),ui=d("network_stats",{id:a("id").primaryKey().default("singleton"),currentBlockHeight:h("current_block_height",{mode:"number"}).notNull().default(0),tps:e("tps").notNull().default(0),peakTps:e("peak_tps").notNull().default(0),avgBlockTime:e("avg_block_time").notNull().default(0),blockTimeP99:e("block_time_p99").notNull().default(0),slaUptime:e("sla_uptime").notNull().default(9990),latency:e("latency").notNull().default(0),latencyP99:e("latency_p99").notNull().default(0),activeValidators:e("active_validators").notNull().default(0),totalValidators:e("total_validators").notNull().default(0),totalTransactions:h("total_transactions",{mode:"number"}).notNull().default(0),totalAccounts:e("total_accounts").notNull().default(0),marketCap:t("market_cap").notNull().default("0"),circulatingSupply:t("circulating_supply").notNull().default("0"),successRate:e("success_rate").notNull().default(9970),updatedAt:l("updated_at").notNull().defaultNow(),trendAnalysisScore:e("trend_analysis_score").notNull().default(8500),anomalyDetectionScore:e("anomaly_detection_score").notNull().default(9200),patternMatchingScore:e("pattern_matching_score").notNull().default(8800),timeseriesScore:e("timeseries_score").notNull().default(9e3),healingEventsCount:e("healing_events_count").notNull().default(0),anomaliesDetected:e("anomalies_detected").notNull().default(0),predictedFailureRisk:e("predicted_failure_risk").notNull().default(500),selfHealingStatus:t("self_healing_status").notNull().default("healthy")}),di=d("consensus_rounds",{id:a("id").primaryKey().default(s`gen_random_uuid()`),blockHeight:h("block_height",{mode:"number"}).notNull().unique(),proposerAddress:t("proposer_address").notNull(),currentPhase:e("current_phase").notNull().default(1),prevoteCount:e("prevote_count").notNull().default(0),precommitCount:e("precommit_count").notNull().default(0),totalValidators:e("total_validators").notNull().default(0),requiredQuorum:e("required_quorum").notNull().default(0),avgBlockTimeMs:e("avg_block_time_ms").notNull().default(0),status:t("status").notNull().default("in_progress"),startTime:h("start_time",{mode:"number"}).notNull(),completedTime:h("completed_time",{mode:"number"}),phasesJson:t("phases_json").notNull(),createdAt:l("created_at").notNull().defaultNow()}),ii=d("api_keys",{id:a("id").primaryKey().default(s`gen_random_uuid()`),label:t("label").notNull(),description:t("description"),hashedKey:t("hashed_key").notNull().unique(),keyPrefix:t("key_prefix").notNull().default(""),userId:a("user_id"),environment:t("environment").notNull().default("production"),scopes:t("scopes").array().notNull().default(s`ARRAY['read']::text[]`),expiresAt:l("expires_at"),rateLimitPerMinute:e("rate_limit_per_minute").notNull().default(60),rateLimitPerHour:e("rate_limit_per_hour").notNull().default(1e3),rateLimitPerDay:e("rate_limit_per_day").notNull().default(1e4),ipWhitelist:t("ip_whitelist").array().default(s`ARRAY[]::text[]`),allowedOrigins:t("allowed_origins").array().default(s`ARRAY[]::text[]`),totalRequests:h("total_requests",{mode:"number"}).notNull().default(0),requestsToday:e("requests_today").notNull().default(0),requestsThisMonth:e("requests_this_month").notNull().default(0),lastErrorAt:l("last_error_at"),errorCount:e("error_count").notNull().default(0),isActive:c("is_active").notNull().default(!0),requiresMfa:c("requires_mfa").notNull().default(!1),lastRotatedAt:l("last_rotated_at"),rotationCount:e("rotation_count").notNull().default(0),rotationScheduleDays:e("rotation_schedule_days"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow(),lastUsedAt:l("last_used_at"),revokedAt:l("revoked_at"),revokedBy:a("revoked_by"),revokeReason:t("revoke_reason")}),si=d("api_key_logs",{id:a("id").primaryKey().default(s`gen_random_uuid()`),apiKeyId:a("api_key_id").notNull(),action:t("action").notNull().default("used"),endpoint:t("endpoint"),method:t("method"),statusCode:e("status_code"),responseTimeMs:e("response_time_ms").default(0),ipAddress:t("ip_address"),userAgent:t("user_agent"),origin:t("origin"),details:p("details"),requestBody:p("request_body"),errorMessage:t("error_message"),createdAt:l("created_at").notNull().defaultNow()}),ci=d("cross_shard_messages",{id:a("id").primaryKey().default(s`gen_random_uuid()`),messageId:t("message_id").notNull().unique(),fromShardId:e("from_shard_id").notNull(),toShardId:e("to_shard_id").notNull(),transactionHash:t("transaction_hash").notNull(),status:t("status").notNull().default("pending"),messageType:t("message_type").notNull(),payload:p("payload").notNull(),sentAt:l("sent_at").notNull().defaultNow(),confirmedAt:l("confirmed_at"),failedAt:l("failed_at"),retryCount:e("retry_count").notNull().default(0),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),routingPriority:e("routing_priority").notNull().default(5),peerReputation:e("peer_reputation").notNull().default(8e3),networkQuality:e("network_quality").notNull().default(9e3),routeOptimization:t("route_optimization").notNull().default("balanced")}),_i=d("wallet_balances",{id:a("id").primaryKey().default(s`gen_random_uuid()`),address:t("address").notNull().unique(),walletName:t("wallet_name"),ownerId:a("owner_id"),balance:t("balance").notNull().default("0"),stakedBalance:t("staked_balance").notNull().default("0"),unstakedBalance:t("unstaked_balance").notNull().default("0"),rewardsEarned:t("rewards_earned").notNull().default("0"),transactionCount:e("transaction_count").notNull().default(0),lastTransactionAt:l("last_transaction_at"),firstSeenAt:l("first_seen_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),mi=d("delegations",{id:a("id").primaryKey().default(s`gen_random_uuid()`),delegatorAddress:t("delegator_address").notNull(),validatorAddress:t("validator_address").notNull(),amount:t("amount").notNull(),shares:t("shares").notNull(),rewardsClaimed:t("rewards_claimed").notNull().default("0"),delegatedAt:l("delegated_at").notNull().defaultNow(),unbondingEndTime:l("unbonding_end_time"),status:t("status").notNull().default("bonded")}),pi=d("validator_votes",{id:a("id").primaryKey().default(s`gen_random_uuid()`),roundNumber:h("round_number",{mode:"number"}).notNull(),validatorAddress:t("validator_address").notNull(),voteType:t("vote_type").notNull(),votingPower:t("voting_power").notNull(),signature:t("signature").notNull(),timestamp:l("timestamp").notNull().defaultNow(),decision:t("decision").notNull(),reason:t("reason")}),fi=d("committee_snapshots",{id:a("id").primaryKey().default(s`gen_random_uuid()`),epochNumber:h("epoch_number",{mode:"number"}).notNull(),validatorAddress:t("validator_address").notNull(),votingPower:t("voting_power").notNull(),adaptiveWeight:e("adaptive_weight").notNull(),isLeader:c("is_leader").notNull().default(!1),committeeRole:t("committee_role").notNull().default("member"),createdAt:l("created_at").notNull().defaultNow()}),Ni=d("members",{id:a("id").primaryKey().default(s`gen_random_uuid()`),accountAddress:t("account_address").notNull().unique(),publicKey:t("public_key").notNull(),displayName:t("display_name"),username:t("username").unique(),legalName:t("legal_name"),entityType:t("entity_type").notNull().default("individual"),jurisdiction:t("jurisdiction"),registrationNumber:t("registration_number"),email:t("email").unique(),avatarUrl:t("avatar_url"),walletAddress:t("wallet_address"),googleId:t("google_id").unique(),memberTier:t("member_tier").notNull().default("basic_user"),memberStatus:t("member_status").notNull().default("pending"),kycLevel:t("kyc_level").notNull().default("none"),kycProvider:t("kyc_provider"),kycVerifiedAt:l("kyc_verified_at"),kycExpiryDate:l("kyc_expiry_date"),amlRiskScore:e("aml_risk_score").notNull().default(0),sanctionsCheckPassed:c("sanctions_check_passed").notNull().default(!1),pepStatus:c("pep_status").notNull().default(!1),encryptedEmail:t("encrypted_email"),encryptedPhone:t("encrypted_phone"),passwordHash:t("password_hash"),validatorId:a("validator_id"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow(),lastActivityAt:l("last_activity_at")}),gi=d("member_profiles",{id:a("id").primaryKey().default(s`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),bio:t("bio"),avatarUrl:t("avatar_url"),website:t("website"),twitter:t("twitter"),telegram:t("telegram"),discord:t("discord"),github:t("github"),preferredLanguage:t("preferred_language").notNull().default("en"),preferredCurrency:t("preferred_currency").notNull().default("USD"),timezone:t("timezone").notNull().default("UTC"),emailNotifications:c("email_notifications").notNull().default(!0),smsNotifications:c("sms_notifications").notNull().default(!1),pushNotifications:c("push_notifications").notNull().default(!0),referralCode:t("referral_code").unique(),referredBy:t("referred_by"),referralCount:e("referral_count").notNull().default(0),referralRewardsEarned:t("referral_rewards_earned").notNull().default("0"),updatedAt:l("updated_at").notNull().defaultNow()}),yi=d("member_staking_positions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),memberId:a("member_id").notNull(),stakingType:t("staking_type").notNull(),validatorAddress:t("validator_address"),amount:t("amount").notNull(),shares:t("shares").notNull().default("0"),stakedAt:l("staked_at").notNull().defaultNow(),lockPeriod:e("lock_period").notNull().default(0),unlockAt:l("unlock_at"),autoCompound:c("auto_compound").notNull().default(!1),tierBonus:e("tier_bonus").notNull().default(0),status:t("status").notNull().default("active"),accumulatedRewards:t("accumulated_rewards").notNull().default("0"),claimedRewards:t("claimed_rewards").notNull().default("0"),lastClaimAt:l("last_claim_at")}),hi=d("member_governance_profiles",{id:a("id").primaryKey().default(s`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),votingPower:t("voting_power").notNull().default("0"),delegatedVotingPower:t("delegated_voting_power").notNull().default("0"),receivedVotingPower:t("received_voting_power").notNull().default("0"),proposalsCreated:e("proposals_created").notNull().default(0),proposalsPassed:e("proposals_passed").notNull().default(0),proposalsRejected:e("proposals_rejected").notNull().default(0),proposalsVoted:e("proposals_voted").notNull().default(0),totalVotesCast:e("total_votes_cast").notNull().default(0),votesCast:e("votes_cast").notNull().default(0),votesDelegated:e("votes_delegated").notNull().default(0),votesFor:e("votes_for").notNull().default(0),votesAgainst:e("votes_against").notNull().default(0),votesAbstain:e("votes_abstain").notNull().default(0),votingParticipationRate:e("voting_participation_rate").notNull().default(0),participationRate:e("participation_rate").notNull().default(0),proposalSuccessRate:e("proposal_success_rate").notNull().default(0),votingConsistency:e("voting_consistency").notNull().default(0),delegatedTo:t("delegated_to"),delegatedFrom:p("delegated_from").notNull().default([]),activeDelegations:e("active_delegations").notNull().default(0),receivedDelegations:e("received_delegations").notNull().default(0),maxDelegationsAllowed:e("max_delegations_allowed").notNull().default(100),daoMemberships:p("dao_memberships").notNull().default([]),committeePositions:p("committee_positions").notNull().default([]),reputationScore:e("reputation_score").notNull().default(5e3),governanceScore:e("governance_score").notNull().default(5e3),influenceScore:e("influence_score").notNull().default(0),contributionLevel:t("contribution_level").notNull().default("observer"),lastVoteAt:l("last_vote_at"),lastProposalAt:l("last_proposal_at")}),Ai=d("member_financial_profiles",{id:a("id").primaryKey().default(s`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),totalBalance:t("total_balance").notNull().default("0"),availableBalance:t("available_balance").notNull().default("0"),lockedBalance:t("locked_balance").notNull().default("0"),stakedBalance:t("staked_balance").notNull().default("0"),totalTransactions:h("total_transactions",{mode:"number"}).notNull().default(0),totalSent:t("total_sent").notNull().default("0"),totalReceived:t("total_received").notNull().default("0"),totalFeesPaid:t("total_fees_paid").notNull().default("0"),validatorRewards:t("validator_rewards").notNull().default("0"),stakingRewards:t("staking_rewards").notNull().default("0"),delegationRewards:t("delegation_rewards").notNull().default("0"),referralRewards:t("referral_rewards").notNull().default("0"),totalSlashed:t("total_slashed").notNull().default("0"),slashCount:e("slash_count").notNull().default(0),taxReportingEnabled:c("tax_reporting_enabled").notNull().default(!1),taxJurisdiction:t("tax_jurisdiction"),firstTransactionAt:l("first_transaction_at"),lastTransactionAt:l("last_transaction_at"),updatedAt:l("updated_at").notNull().defaultNow()}),vi=d("member_security_profiles",{id:a("id").primaryKey().default(s`gen_random_uuid()`),memberId:a("member_id").notNull().unique(),twoFactorEnabled:c("two_factor_enabled").notNull().default(!1),twoFactorMethod:t("two_factor_method"),twoFactorBackupCodes:p("two_factor_backup_codes").notNull().default([]),securityKeys:p("security_keys").notNull().default([]),passkeyEnabled:c("passkey_enabled").notNull().default(!1),multiSigEnabled:c("multi_sig_enabled").notNull().default(!1),requiredConfirmations:e("required_confirmations").notNull().default(1),activeSessions:e("active_sessions").notNull().default(0),maxSessions:e("max_sessions").notNull().default(5),sessionTimeout:e("session_timeout").notNull().default(3600),ipWhitelist:p("ip_whitelist").notNull().default([]),ipBlacklist:p("ip_blacklist").notNull().default([]),allowedRegions:p("allowed_regions").notNull().default([]),countryRestrictions:p("country_restrictions").notNull().default([]),maxSessionDuration:e("max_session_duration").notNull().default(86400),failedLoginAttempts:e("failed_login_attempts").notNull().default(0),lastFailedLogin:l("last_failed_login"),lastSuccessfulLogin:l("last_successful_login"),lastPasswordChange:l("last_password_change"),lastKeyRotation:l("last_key_rotation"),nextKeyRotationDue:l("next_key_rotation_due"),riskScore:e("risk_score").notNull().default(0),fraudScore:e("fraud_score").notNull().default(0),suspiciousActivityCount:e("suspicious_activity_count").notNull().default(0),lastRiskAssessment:l("last_risk_assessment").notNull().defaultNow(),recoveryEmail:t("recovery_email"),recoveryPhone:t("recovery_phone"),recoveryQuestions:p("recovery_questions").notNull().default([]),accountLocked:c("account_locked").notNull().default(!1),lockReason:t("lock_reason"),lockedAt:l("locked_at"),updatedAt:l("updated_at").notNull().defaultNow()}),bi=d("member_performance_metrics",{id:a("id").primaryKey().default(s`gen_random_uuid()`),memberId:a("member_id").notNull(),validatorAddress:t("validator_address"),currentUptime:e("current_uptime").notNull().default(0),currentTps:e("current_tps").notNull().default(0),currentLatencyMs:e("current_latency_ms").notNull().default(0),slaComplianceRate:e("sla_compliance_rate").notNull().default(0),downtimeIncidents:e("downtime_incidents").notNull().default(0),performanceGrade:t("performance_grade").notNull().default("B"),performanceScore:e("performance_score").notNull().default(5e3),performanceRank:e("performance_rank"),lastLoginAt:l("last_login_at"),metricsUpdatedAt:l("metrics_updated_at").notNull().defaultNow()}),wi=d("member_slash_events",{id:a("id").primaryKey().default(s`gen_random_uuid()`),memberId:a("member_id").notNull(),validatorAddress:t("validator_address"),slashType:t("slash_type").notNull(),amount:t("amount").notNull(),reason:t("reason").notNull(),evidenceHash:t("evidence_hash"),appealStatus:t("appeal_status").notNull().default("none"),appealDeadline:l("appeal_deadline"),occurredAt:l("occurred_at").notNull().defaultNow()}),ki=d("member_audit_logs",{id:a("id").primaryKey().default(s`gen_random_uuid()`),memberId:a("member_id").notNull(),action:t("action").notNull(),resource:t("resource").notNull(),resourceId:t("resource_id"),oldValue:p("old_value"),newValue:p("new_value"),actor:t("actor").notNull(),actorType:t("actor_type").notNull().default("system"),ipAddress:t("ip_address"),userAgent:t("user_agent"),status:t("status").notNull().default("success"),errorMessage:t("error_message"),metadata:p("metadata"),createdAt:l("created_at").notNull().defaultNow()}),Si=d("email_verifications",{id:a("id").primaryKey().default(s`gen_random_uuid()`),email:t("email").notNull(),verificationCode:t("verification_code").notNull(),type:t("type").notNull(),expiresAt:l("expires_at").notNull(),verified:c("verified").notNull().default(!1),attempts:e("attempts").notNull().default(0),createdAt:l("created_at").notNull().defaultNow()});i(Si).omit({id:!0,verified:!0,attempts:!0,createdAt:!0});const Ti=d("admin_audit_logs",{id:a("id").primaryKey().default(s`gen_random_uuid()`),operatorId:a("operator_id").notNull(),operatorIp:t("operator_ip"),operatorUserAgent:t("operator_user_agent"),sessionId:a("session_id"),actionType:t("action_type").notNull(),actionCategory:t("action_category").notNull(),resource:t("resource").notNull(),resourceId:t("resource_id"),previousState:p("previous_state"),newState:p("new_state"),reason:t("reason"),metadata:p("metadata"),status:t("status").notNull().default("success"),errorMessage:t("error_message"),riskLevel:t("risk_level").notNull().default("low"),requiresReview:c("requires_review").notNull().default(!1),reviewedBy:a("reviewed_by"),reviewedAt:l("reviewed_at"),createdAt:l("created_at").notNull().defaultNow()}),xi=d("security_events",{id:a("id").primaryKey().default(s`gen_random_uuid()`),eventType:t("event_type").notNull(),severity:t("severity").notNull().default("info"),targetType:t("target_type").notNull(),targetId:a("target_id"),targetAddress:t("target_address"),sourceIp:t("source_ip"),sourceUserAgent:t("source_user_agent"),sourceGeo:p("source_geo"),description:t("description").notNull(),evidence:p("evidence"),metadata:p("metadata"),status:t("status").notNull().default("open"),resolvedBy:a("resolved_by"),resolvedAt:l("resolved_at"),resolution:t("resolution"),occurredAt:l("occurred_at").notNull().defaultNow(),detectedAt:l("detected_at").notNull().defaultNow()}),Pi=d("compliance_reports",{id:a("id").primaryKey().default(s`gen_random_uuid()`),reportType:t("report_type").notNull(),reportPeriod:t("report_period").notNull(),periodStart:l("period_start").notNull(),periodEnd:l("period_end").notNull(),jurisdiction:t("jurisdiction").notNull(),regulatoryBody:t("regulatory_body"),summary:p("summary").notNull(),details:p("details"),attachments:p("attachments").notNull().default([]),status:t("status").notNull().default("draft"),generatedBy:a("generated_by").notNull(),reviewedBy:a("reviewed_by"),reviewedAt:l("reviewed_at"),approvedBy:a("approved_by"),approvedAt:l("approved_at"),submittedAt:l("submitted_at"),reviewNotes:t("review_notes"),rejectionReason:t("rejection_reason"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Ii=d("validator_applications",{id:a("id").primaryKey().default(s`gen_random_uuid()`),applicantMemberId:a("applicant_member_id").notNull(),applicantAddress:t("applicant_address").notNull(),applicantName:t("applicant_name").notNull(),applicationType:t("application_type").notNull(),requestedTier:t("requested_tier").notNull(),proposedCommission:e("proposed_commission").notNull().default(500),proposedStake:t("proposed_stake").notNull(),stakeSource:t("stake_source").notNull(),hardwareSpecs:p("hardware_specs").notNull(),networkEndpoints:p("network_endpoints").notNull(),geographicLocation:p("geographic_location").notNull(),documents:p("documents").notNull().default([]),status:t("status").notNull().default("pending"),assignedTo:a("assigned_to"),reviewNotes:t("review_notes"),rejectionReason:t("rejection_reason"),approvalConditions:p("approval_conditions"),conditionsMet:c("conditions_met").notNull().default(!1),submittedAt:l("submitted_at").notNull().defaultNow(),reviewStartedAt:l("review_started_at"),decidedAt:l("decided_at"),decidedBy:a("decided_by"),activatedAt:l("activated_at"),validatorId:a("validator_id")}),Ci=d("operator_sessions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),operatorId:a("operator_id").notNull(),sessionToken:t("session_token").notNull().unique(),ipAddress:t("ip_address").notNull(),userAgent:t("user_agent"),geoLocation:p("geo_location"),twoFactorVerified:c("two_factor_verified").notNull().default(!1),twoFactorMethod:t("two_factor_method"),isActive:c("is_active").notNull().default(!0),lastActivityAt:l("last_activity_at").notNull().defaultNow(),expiresAt:l("expires_at").notNull(),terminatedAt:l("terminated_at"),terminationReason:t("termination_reason"),createdAt:l("created_at").notNull().defaultNow()}),Di=d("member_documents",{id:a("id").primaryKey().default(s`gen_random_uuid()`),memberId:a("member_id").notNull(),documentType:t("document_type").notNull(),documentName:t("document_name").notNull(),encryptedFileHash:t("encrypted_file_hash").notNull(),encryptedStoragePath:t("encrypted_storage_path").notNull(),mimeType:t("mime_type").notNull(),fileSize:e("file_size").notNull(),verificationStatus:t("verification_status").notNull().default("pending"),verifiedBy:a("verified_by"),verifiedAt:l("verified_at"),rejectionReason:t("rejection_reason"),expiryDate:l("expiry_date"),isExpired:c("is_expired").notNull().default(!1),accessLog:p("access_log").notNull().default([]),uploadedAt:l("uploaded_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Ri=d("restart_sessions",{id:a("id").primaryKey().default("singleton"),isRestarting:c("is_restarting").notNull().default(!1),restartInitiatedAt:l("restart_initiated_at"),expectedRestartTime:e("expected_restart_time").notNull().default(6e4),lastHealthCheck:l("last_health_check"),isHealthy:c("is_healthy").notNull().default(!1),sessionId:a("session_id"),phase:a("phase").notNull().default("idle"),phaseStartTime:l("phase_start_time"),phaseMessage:t("phase_message"),progressPercentage:e("progress_percentage").notNull().default(0),initiatingTime:l("initiating_time"),shuttingDownTime:l("shutting_down_time"),restartingTime:l("restarting_time"),reconnectingTime:l("reconnecting_time"),validatingTime:l("validating_time"),completedTime:l("completed_time"),failedTime:l("failed_time"),failureReason:t("failure_reason"),postRestartTps:e("post_restart_tps"),postRestartBlockHeight:e("post_restart_block_height"),postRestartValidators:e("post_restart_validators"),updatedAt:l("updated_at").notNull().defaultNow()}),qi=d("member_notes",{id:a("id").primaryKey().default(s`gen_random_uuid()`),memberId:a("member_id").notNull(),operatorId:a("operator_id").notNull(),noteType:t("note_type").notNull().default("general"),title:t("title").notNull(),content:t("content").notNull(),priority:t("priority").notNull().default("normal"),isPrivate:c("is_private").notNull().default(!1),isPinned:c("is_pinned").notNull().default(!1),requiresFollowUp:c("requires_follow_up").notNull().default(!1),followUpDate:l("follow_up_date"),followUpCompleted:c("follow_up_completed").notNull().default(!1),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Ki=d("ip_blocklist",{id:a("id").primaryKey().default(s`gen_random_uuid()`),ipAddress:t("ip_address").notNull(),ipRange:t("ip_range"),reason:t("reason").notNull(),blockType:t("block_type").notNull().default("permanent"),severity:t("severity").notNull().default("medium"),relatedSecurityEventId:a("related_security_event_id"),relatedMemberId:a("related_member_id"),expiresAt:l("expires_at"),isActive:c("is_active").notNull().default(!0),blockedBy:a("blocked_by").notNull(),unblockedBy:a("unblocked_by"),unblockedAt:l("unblocked_at"),unblockReason:t("unblock_reason"),hitCount:e("hit_count").notNull().default(0),lastHitAt:l("last_hit_at"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Bi=d("system_health_snapshots",{id:a("id").primaryKey().default(s`gen_random_uuid()`),tps:e("tps").notNull().default(0),blockHeight:h("block_height",{mode:"number"}).notNull().default(0),avgBlockTime:e("avg_block_time").notNull().default(0),latency:e("latency").notNull().default(0),activeValidators:e("active_validators").notNull().default(0),totalValidators:e("total_validators").notNull().default(0),validatorUptime:e("validator_uptime").notNull().default(1e4),cpuUsage:e("cpu_usage").notNull().default(0),memoryUsage:e("memory_usage").notNull().default(0),diskUsage:e("disk_usage").notNull().default(0),networkBandwidth:e("network_bandwidth").notNull().default(0),peerCount:e("peer_count").notNull().default(0),pendingTxCount:e("pending_tx_count").notNull().default(0),mempoolSize:e("mempool_size").notNull().default(0),overallHealthScore:e("overall_health_score").notNull().default(1e4),networkHealthScore:e("network_health_score").notNull().default(1e4),consensusHealthScore:e("consensus_health_score").notNull().default(1e4),storageHealthScore:e("storage_health_score").notNull().default(1e4),status:t("status").notNull().default("healthy"),alerts:p("alerts").notNull().default([]),snapshotAt:l("snapshot_at").notNull().defaultNow()}),Ui=d("alert_queue",{id:a("id").primaryKey().default(s`gen_random_uuid()`),alertType:t("alert_type").notNull(),severity:t("severity").notNull().default("medium"),title:t("title").notNull(),message:t("message").notNull(),sourceType:t("source_type").notNull(),sourceId:a("source_id"),targetType:t("target_type"),targetId:a("target_id"),status:t("status").notNull().default("active"),acknowledgedBy:a("acknowledged_by"),acknowledgedAt:l("acknowledged_at"),resolvedBy:a("resolved_by"),resolvedAt:l("resolved_at"),resolution:t("resolution"),priority:e("priority").notNull().default(50),requiresImmediateAction:c("requires_immediate_action").notNull().default(!1),escalationLevel:e("escalation_level").notNull().default(0),escalatedAt:l("escalated_at"),autoEscalateAfter:l("auto_escalate_after"),metadata:p("metadata").notNull().default({}),actionsTaken:p("actions_taken").notNull().default([]),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Vi=d("validator_performance_history",{id:a("id").primaryKey().default(s`gen_random_uuid()`),validatorAddress:t("validator_address").notNull(),uptime:e("uptime").notNull().default(1e4),blocksProduced:e("blocks_produced").notNull().default(0),blocksMissed:e("blocks_missed").notNull().default(0),avgBlockTime:e("avg_block_time").notNull().default(0),totalStake:t("total_stake").notNull().default("0"),delegatedStake:t("delegated_stake").notNull().default("0"),delegatorCount:e("delegator_count").notNull().default(0),rewardsEarned:t("rewards_earned").notNull().default("0"),commissionsEarned:t("commissions_earned").notNull().default("0"),latency:e("latency").notNull().default(0),peerCount:e("peer_count").notNull().default(0),aiTrustScore:e("ai_trust_score").notNull().default(7500),behaviorScore:e("behavior_score").notNull().default(9500),reputationScore:e("reputation_score").notNull().default(8500),slashEvents:e("slash_events").notNull().default(0),totalSlashed:t("total_slashed").notNull().default("0"),periodStart:l("period_start").notNull(),periodEnd:l("period_end").notNull(),periodType:t("period_type").notNull().default("hourly"),createdAt:l("created_at").notNull().defaultNow()}),Mi=d("report_schedules",{id:a("id").primaryKey().default(s`gen_random_uuid()`),name:t("name").notNull(),description:t("description"),reportType:t("report_type").notNull(),scheduleType:t("schedule_type").notNull().default("manual"),cronExpression:t("cron_expression"),timezone:t("timezone").notNull().default("UTC"),parameters:p("parameters").notNull().default({}),jurisdiction:t("jurisdiction").notNull().default("global"),outputFormat:t("output_format").notNull().default("pdf"),deliveryMethod:t("delivery_method").notNull().default("download"),deliveryConfig:p("delivery_config").notNull().default({}),isActive:c("is_active").notNull().default(!0),lastRunAt:l("last_run_at"),lastRunStatus:t("last_run_status"),lastRunReportId:a("last_run_report_id"),nextRunAt:l("next_run_at"),totalRuns:e("total_runs").notNull().default(0),successfulRuns:e("successful_runs").notNull().default(0),failedRuns:e("failed_runs").notNull().default(0),createdBy:a("created_by").notNull(),updatedBy:a("updated_by"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),zi=d("hardware_verification_checklists",{id:a("id").primaryKey().default(s`gen_random_uuid()`),validatorApplicationId:a("validator_application_id").notNull(),validatorAddress:t("validator_address"),cpuSpecsVerified:c("cpu_specs_verified").notNull().default(!1),cpuNotes:t("cpu_notes"),memorySpecsVerified:c("memory_specs_verified").notNull().default(!1),memoryNotes:t("memory_notes"),storageSpecsVerified:c("storage_specs_verified").notNull().default(!1),storageNotes:t("storage_notes"),networkSpecsVerified:c("network_specs_verified").notNull().default(!1),networkNotes:t("network_notes"),bandwidthTestResult:e("bandwidth_test_result"),latencyTestResult:e("latency_test_result"),securityConfigVerified:c("security_config_verified").notNull().default(!1),securityNotes:t("security_notes"),firewallConfigured:c("firewall_configured").notNull().default(!1),sslCertificateValid:c("ssl_certificate_valid").notNull().default(!1),uptimeGuaranteeVerified:c("uptime_guarantee_verified").notNull().default(!1),uptimeNotes:t("uptime_notes"),redundancyConfigured:c("redundancy_configured").notNull().default(!1),geographicLocationVerified:c("geographic_location_verified").notNull().default(!1),geographicNotes:t("geographic_notes"),overallStatus:t("overall_status").notNull().default("pending"),overallScore:e("overall_score"),reviewedBy:a("reviewed_by"),reviewedAt:l("reviewed_at"),reviewNotes:t("review_notes"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Ei=d("deployed_tokens",{id:a("id").primaryKey().default(s`gen_random_uuid()`),name:t("name").notNull(),symbol:t("symbol").notNull(),contractAddress:t("contract_address").notNull().unique(),standard:t("standard").notNull(),totalSupply:t("total_supply").notNull(),decimals:e("decimals").notNull().default(18),initialSupply:t("initial_supply"),maxSupply:t("max_supply"),mintable:c("mintable").notNull().default(!1),burnable:c("burnable").notNull().default(!0),pausable:c("pausable").notNull().default(!1),baseUri:t("base_uri"),maxTokens:e("max_tokens"),royaltyPercentage:e("royalty_percentage").default(0),royaltyRecipient:t("royalty_recipient"),tokenTypes:p("token_types"),aiOptimizationEnabled:c("ai_optimization_enabled").notNull().default(!0),aiBurnOptimization:c("ai_burn_optimization").notNull().default(!1),aiPriceOracle:c("ai_price_oracle").notNull().default(!1),aiSupplyManagement:c("ai_supply_management").notNull().default(!1),quantumResistant:c("quantum_resistant").notNull().default(!0),mevProtection:c("mev_protection").notNull().default(!0),zkPrivacy:c("zk_privacy").notNull().default(!1),deployerAddress:t("deployer_address").notNull(),deploymentTxHash:t("deployment_tx_hash").notNull(),deployedAt:l("deployed_at").notNull().defaultNow(),holders:e("holders").notNull().default(0),transactionCount:e("transaction_count").notNull().default(0),volume24h:t("volume_24h").notNull().default("0"),verified:c("verified").notNull().default(!1),status:t("status").notNull().default("active"),deploymentSource:t("deployment_source").notNull().default("token-system"),deploymentMode:t("deployment_mode").notNull().default("simulation"),blockNumber:e("block_number"),securityScore:e("security_score"),updatedAt:l("updated_at").notNull().defaultNow()});i(Ld).omit({id:!0});i(Fd).omit({id:!0});i(jd).omit({id:!0,createdAt:!0,updatedAt:!0});i(Hd).omit({id:!0,joinedAt:!0,lastActiveAt:!0});i(Gd).omit({id:!0,deployedAt:!0});i(Wd).omit({id:!0,lastUsed:!0});const Li=i(Zd).omit({id:!0,createdAt:!0,executedAt:!0});i(Xd).omit({id:!0,createdAt:!0});i(Jd).omit({id:!0,createdAt:!0,completedAt:!0,rollbackAt:!0});i(Yd).omit({id:!0,createdAt:!0,decidedAt:!0});i(ti).omit({id:!0,createdAt:!0,updatedAt:!0,startedAt:!0,pausedAt:!0,completedAt:!0});i(ai).omit({id:!0,createdAt:!0});i(li).omit({id:!0,createdAt:!0,updatedAt:!0,deployedAt:!0});i(oi).omit({id:!0,createdAt:!0,updatedAt:!0,lastUsedAt:!0});i(ni).omit({id:!0,createdAt:!0});i(ei).omit({id:!0,createdAt:!0,updatedAt:!0});const Fi=i(ri).omit({id:!0,lastSyncedAt:!0});i(ui).omit({id:!0,updatedAt:!0});const ji=i(di).omit({id:!0,createdAt:!0});i(ii).omit({id:!0,createdAt:!0,updatedAt:!0,lastUsedAt:!0,revokedAt:!0,revokedBy:!0,revokeReason:!0,lastRotatedAt:!0,lastErrorAt:!0,totalRequests:!0,requestsToday:!0,requestsThisMonth:!0,errorCount:!0});i(si).omit({id:!0,createdAt:!0});const Hi=i(ci).omit({id:!0,sentAt:!0,confirmedAt:!0,failedAt:!0}),Qi=i(_i).omit({id:!0,firstSeenAt:!0,updatedAt:!0,lastTransactionAt:!0});i(mi).omit({id:!0,delegatedAt:!0});i(pi).omit({id:!0,timestamp:!0});i(fi).omit({id:!0,createdAt:!0});i(Ni).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivityAt:!0});i(gi).omit({id:!0,updatedAt:!0});i(yi).omit({id:!0,stakedAt:!0,lastClaimAt:!0});i(hi).omit({id:!0,lastVoteAt:!0,lastProposalAt:!0});i(Ai).omit({id:!0,updatedAt:!0,firstTransactionAt:!0,lastTransactionAt:!0});i(vi).omit({id:!0,updatedAt:!0,lastFailedLogin:!0,lastKeyRotation:!0,nextKeyRotationDue:!0,lastRiskAssessment:!0});i(bi).omit({id:!0,metricsUpdatedAt:!0});i(wi).omit({id:!0,occurredAt:!0});i(ki).omit({id:!0,createdAt:!0});i(Ri).omit({updatedAt:!0});i(Ti).omit({id:!0,createdAt:!0,reviewedAt:!0});i(xi).omit({id:!0,occurredAt:!0,detectedAt:!0,resolvedAt:!0});i(Pi).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0,approvedAt:!0,submittedAt:!0});i(Ii).omit({id:!0,submittedAt:!0,reviewStartedAt:!0,decidedAt:!0,activatedAt:!0});i(Ci).omit({id:!0,createdAt:!0,lastActivityAt:!0,terminatedAt:!0});i(Di).omit({id:!0,uploadedAt:!0,updatedAt:!0,verifiedAt:!0});i(qi).omit({id:!0,createdAt:!0,updatedAt:!0});i(Ki).omit({id:!0,createdAt:!0,updatedAt:!0,lastHitAt:!0,unblockedAt:!0});i(Bi).omit({id:!0,snapshotAt:!0});i(Ui).omit({id:!0,createdAt:!0,updatedAt:!0,acknowledgedAt:!0,resolvedAt:!0,escalatedAt:!0});i(Vi).omit({id:!0,createdAt:!0});i(Mi).omit({id:!0,createdAt:!0,updatedAt:!0,lastRunAt:!0,nextRunAt:!0});i(zi).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0});i(Ei).omit({id:!0,deployedAt:!0,updatedAt:!0});const Oi=Li.extend({id:P(),band:P().optional(),modelName:P().optional(),decision:P().optional(),impact:P().optional(),category:P().optional(),createdAt:P().or(z()).optional(),executedAt:P().or(z()).optional()}).partial(),$i=Hi.extend({id:P(),sentAt:P().or(z()),confirmedAt:P().or(z()).optional(),failedAt:P().or(z()).optional()}),Gi=Qi.extend({id:P(),firstSeenAt:P().or(z()).optional(),updatedAt:P().or(z()).optional(),lastTransactionAt:P().or(z()).nullish()}),Wi=ji.extend({id:P(),createdAt:P().or(z())}),Zi=Fi.extend({id:P(),lastSyncedAt:P().or(z()).nullish()}),$_=L(Oi),G_=L($i);L(Gi);L(Wi);const W_=L(Zi),Xi=d("staking_pools",{id:a("id").primaryKey().default(s`gen_random_uuid()`),name:t("name").notNull(),symbol:t("symbol").notNull(),poolType:t("pool_type").notNull().default("public"),tier:t("tier").notNull().default("bronze"),status:t("status").notNull().default("active"),minStake:t("min_stake").notNull().default("1000000000000000000"),maxStake:t("max_stake"),maxTotalStake:t("max_total_stake"),validatorId:a("validator_id"),validatorAddress:t("validator_address"),validatorName:t("validator_name"),lockPeriod:t("lock_period").notNull().default("30days"),lockPeriodDays:e("lock_period_days").notNull().default(30),rewardType:t("reward_type").notNull().default("fixed"),rewardFrequency:t("reward_frequency").notNull().default("daily"),baseApy:e("base_apy").notNull().default(1200),maxApy:e("max_apy").notNull().default(2500),apyBoost:e("apy_boost").notNull().default(0),entryFee:e("entry_fee").notNull().default(0),exitFee:e("exit_fee").notNull().default(50),performanceFee:e("performance_fee").notNull().default(1e3),earlyWithdrawalPenalty:e("early_withdrawal_penalty").notNull().default(500),autoCompoundEnabled:c("auto_compound_enabled").notNull().default(!0),compoundFrequencyHours:e("compound_frequency_hours").notNull().default(24),totalStaked:t("total_staked").notNull().default("0"),totalRewards:t("total_rewards").notNull().default("0"),totalStakers:e("total_stakers").notNull().default(0),totalValidators:e("total_validators").notNull().default(0),currentApy:e("current_apy").notNull().default(1200),description:t("description"),logoUrl:t("logo_url"),websiteUrl:t("website_url"),termsUrl:t("terms_url"),auditReportUrl:t("audit_report_url"),whitelistEnabled:c("whitelist_enabled").notNull().default(!1),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow(),lastRewardUpdate:l("last_reward_update")}),Ji=d("staking_positions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull(),stakerAddress:t("staker_address").notNull(),stakedAmount:t("staked_amount").notNull(),tier:t("tier").notNull().default("bronze"),rewardsEarned:t("rewards_earned").notNull().default("0"),rewardsClaimed:t("rewards_claimed").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),autoCompound:c("auto_compound").notNull().default(!1),lastCompoundAt:l("last_compound_at"),lockPeriod:t("lock_period").notNull(),unlockAt:l("unlock_at"),delegatedValidatorId:a("delegated_validator_id"),status:t("status").notNull().default("active"),stakedAt:l("staked_at").notNull().defaultNow(),lastActionAt:l("last_action_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Yi=d("staking_delegations",{id:a("id").primaryKey().default(s`gen_random_uuid()`),delegatorAddress:t("delegator_address").notNull(),validatorId:a("validator_id").notNull(),poolId:a("pool_id"),amount:t("amount").notNull(),shares:t("shares").notNull().default("0"),status:t("status").notNull().default("active"),unbondingStartAt:l("unbonding_start_at"),unbondingEndAt:l("unbonding_end_at"),redelegatingToValidatorId:a("redelegating_to_validator_id"),redelegationCompleteAt:l("redelegation_complete_at"),rewardsEarned:t("rewards_earned").notNull().default("0"),rewardsClaimed:t("rewards_claimed").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),slashedAmount:t("slashed_amount").notNull().default("0"),slashCount:e("slash_count").notNull().default(0),delegatedAt:l("delegated_at").notNull().defaultNow(),lastActionAt:l("last_action_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),ts=d("unbonding_requests",{id:a("id").primaryKey().default(s`gen_random_uuid()`),delegationId:a("delegation_id").notNull(),delegatorAddress:t("delegator_address").notNull(),validatorId:a("validator_id").notNull(),amount:t("amount").notNull(),startedAt:l("started_at").notNull().defaultNow(),completesAt:l("completes_at").notNull(),status:t("status").notNull().default("pending"),completedAt:l("completed_at"),createdAt:l("created_at").notNull().defaultNow()}),es=d("reward_cycles",{id:a("id").primaryKey().default(s`gen_random_uuid()`),cycleNumber:e("cycle_number").notNull().unique(),poolId:a("pool_id"),startedAt:l("started_at").notNull(),endedAt:l("ended_at"),durationHours:e("duration_hours").notNull().default(24),totalRewards:t("total_rewards").notNull().default("0"),distributedRewards:t("distributed_rewards").notNull().default("0"),treasurySplit:t("treasury_split").notNull().default("0"),validatorFees:t("validator_fees").notNull().default("0"),totalStakersRewarded:e("total_stakers_rewarded").notNull().default(0),averageRewardPerStaker:t("average_reward_per_staker").notNull().default("0"),status:t("status").notNull().default("active"),createdAt:l("created_at").notNull().defaultNow()}),as=d("reward_events",{id:a("id").primaryKey().default(s`gen_random_uuid()`),cycleId:a("cycle_id").notNull(),recipientAddress:t("recipient_address").notNull(),poolId:a("pool_id"),validatorId:a("validator_id"),rewardType:t("reward_type").notNull(),amount:t("amount").notNull(),tierMultiplier:e("tier_multiplier").notNull().default(1e4),status:t("status").notNull().default("pending"),distributedAt:l("distributed_at"),claimedAt:l("claimed_at"),createdAt:l("created_at").notNull().defaultNow()}),ls=d("slashing_events",{id:a("id").primaryKey().default(s`gen_random_uuid()`),validatorId:a("validator_id").notNull(),reason:t("reason").notNull(),severity:t("severity").notNull(),slashPercentage:e("slash_percentage").notNull(),totalSlashed:t("total_slashed").notNull(),affectedDelegators:e("affected_delegators").notNull().default(0),evidence:p("evidence"),blockNumber:h("block_number",{mode:"number"}),status:t("status").notNull().default("executed"),occurredAt:l("occurred_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow()}),os=d("pool_whitelist",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull(),address:t("address").notNull(),addedBy:t("added_by").notNull(),addedAt:l("added_at").notNull().defaultNow()}),ns=d("staking_stats",{id:a("id").primaryKey().default("singleton"),totalValueLocked:t("total_value_locked").notNull().default("0"),totalRewardsDistributed:t("total_rewards_distributed").notNull().default("0"),totalStakers:e("total_stakers").notNull().default(0),totalPools:e("total_pools").notNull().default(0),averageApy:e("average_apy").notNull().default(0),highestApy:e("highest_apy").notNull().default(0),lowestApy:e("lowest_apy").notNull().default(0),bronzeStakers:e("bronze_stakers").notNull().default(0),silverStakers:e("silver_stakers").notNull().default(0),goldStakers:e("gold_stakers").notNull().default(0),platinumStakers:e("platinum_stakers").notNull().default(0),diamondStakers:e("diamond_stakers").notNull().default(0),currentRewardCycle:e("current_reward_cycle").notNull().default(0),lastRewardDistribution:l("last_reward_distribution"),updatedAt:l("updated_at").notNull().defaultNow()});i(Xi).omit({id:!0,createdAt:!0,updatedAt:!0});i(Ji).omit({id:!0,createdAt:!0,updatedAt:!0});i(Yi).omit({id:!0,createdAt:!0,updatedAt:!0});i(ts).omit({id:!0,createdAt:!0});i(es).omit({id:!0,createdAt:!0});i(as).omit({id:!0,createdAt:!0});i(ls).omit({id:!0,createdAt:!0});i(os).omit({id:!0,addedAt:!0});i(ns).omit({updatedAt:!0});const rs=d("staking_tier_config",{id:a("id").primaryKey(),tier:t("tier").notNull().unique(),displayName:t("display_name").notNull(),minApy:e("min_apy").notNull(),maxApy:e("max_apy").notNull(),apyMultiplier:e("apy_multiplier").notNull().default(1e4),minLockDays:e("min_lock_days").notNull(),maxLockDays:e("max_lock_days").notNull(),minStakeWei:t("min_stake_wei").notNull(),maxStakeWei:t("max_stake_wei"),earlyAdopterBonus:e("early_adopter_bonus").notNull().default(0),loyaltyBonus:e("loyalty_bonus").notNull().default(0),feeDiscount:e("fee_discount").notNull().default(0),priorityRewards:c("priority_rewards").notNull().default(!1),governanceWeight:e("governance_weight").notNull().default(1),color:t("color").notNull().default("#CD7F32"),iconUrl:t("icon_url"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),us=d("pool_validator_assignments",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull(),validatorId:a("validator_id").notNull(),allocationWeight:e("allocation_weight").notNull().default(1e4),status:t("status").notNull().default("active"),totalDelegated:t("total_delegated").notNull().default("0"),rewardsGenerated:t("rewards_generated").notNull().default("0"),assignedAt:l("assigned_at").notNull().defaultNow(),lastRewardAt:l("last_reward_at")}),ds=d("staking_audit_logs",{id:a("id").primaryKey().default(s`gen_random_uuid()`),action:t("action").notNull(),actorAddress:t("actor_address").notNull(),actorType:t("actor_type").notNull().default("user"),targetType:t("target_type").notNull(),targetId:a("target_id").notNull(),previousValue:p("previous_value"),newValue:p("new_value"),amount:t("amount"),txHash:t("tx_hash"),blockNumber:h("block_number",{mode:"number"}),ipAddress:t("ip_address"),userAgent:t("user_agent"),requestId:t("request_id"),status:t("status").notNull().default("success"),errorMessage:t("error_message"),createdAt:l("created_at").notNull().defaultNow()}),is=d("staking_snapshots",{id:a("id").primaryKey().default(s`gen_random_uuid()`),snapshotType:t("snapshot_type").notNull(),snapshotAt:l("snapshot_at").notNull(),epochNumber:e("epoch_number"),totalValueLocked:t("total_value_locked").notNull(),totalStakers:e("total_stakers").notNull(),totalPools:e("total_pools").notNull(),totalValidators:e("total_validators").notNull(),averageApy:e("average_apy").notNull(),weightedApy:e("weighted_apy").notNull(),rewardsDistributed:t("rewards_distributed").notNull(),newStakes:t("new_stakes").notNull(),withdrawals:t("withdrawals").notNull(),poolMetrics:p("pool_metrics"),tierDistribution:p("tier_distribution"),validatorMetrics:p("validator_metrics"),createdAt:l("created_at").notNull().defaultNow()}),ss=d("staking_ai_assessments",{id:a("id").primaryKey().default(s`gen_random_uuid()`),assessmentType:t("assessment_type").notNull(),targetType:t("target_type").notNull(),targetId:a("target_id").notNull(),aiModel:t("ai_model").notNull(),modelVersion:t("model_version"),riskScore:e("risk_score").notNull(),riskLevel:t("risk_level").notNull(),confidenceScore:e("confidence_score").notNull(),predictedApy:e("predicted_apy"),predictedRisk:p("predicted_risk"),analysisFactors:p("analysis_factors"),recommendations:p("recommendations"),validUntil:l("valid_until").notNull(),isActive:c("is_active").notNull().default(!0),assessedAt:l("assessed_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow()});i(rs).omit({createdAt:!0,updatedAt:!0});i(us).omit({id:!0,assignedAt:!0});i(ds).omit({id:!0,createdAt:!0});i(is).omit({id:!0,createdAt:!0});i(ss).omit({id:!0,createdAt:!0});const cs=dt({number:V(),label:P(),time:P(),status:No(["completed","active","pending"])}),Z_=dt({currentPhase:V(),phases:L(cs),proposer:P(),blockHeight:V(),prevoteCount:V(),precommitCount:V(),totalValidators:V(),participatingValidators:V().optional(),participationRate:V().optional(),requiredQuorum:V(),avgBlockTimeMs:V(),startTime:V(),consensusType:P().optional(),consensusDescription:P().optional()}),_s=d("dex_pools",{id:a("id").primaryKey().default(s`gen_random_uuid()`),name:t("name").notNull(),symbol:t("symbol").notNull(),contractAddress:t("contract_address").notNull().unique(),poolType:t("pool_type").notNull().default("standard"),feeTier:e("fee_tier").notNull().default(300),status:t("status").notNull().default("active"),token0Address:t("token0_address").notNull(),token0Symbol:t("token0_symbol").notNull(),token0Decimals:e("token0_decimals").notNull().default(18),token1Address:t("token1_address").notNull(),token1Symbol:t("token1_symbol").notNull(),token1Decimals:e("token1_decimals").notNull().default(18),reserve0:t("reserve0").notNull().default("0"),reserve1:t("reserve1").notNull().default("0"),tickSpacing:e("tick_spacing"),currentTick:e("current_tick"),sqrtPriceX96:t("sqrt_price_x96"),amplificationParameter:e("amplification_parameter"),token0Weight:e("token0_weight"),token1Weight:e("token1_weight"),price0:t("price0").notNull().default("0"),price1:t("price1").notNull().default("0"),priceUsd0:t("price_usd_0").notNull().default("0"),priceUsd1:t("price_usd_1").notNull().default("0"),lpTokenSupply:t("lp_token_supply").notNull().default("0"),lpTokenDecimals:e("lp_token_decimals").notNull().default(18),volume24h:t("volume_24h").notNull().default("0"),volume7d:t("volume_7d").notNull().default("0"),volumeAllTime:t("volume_all_time").notNull().default("0"),fees24h:t("fees_24h").notNull().default("0"),fees7d:t("fees_7d").notNull().default("0"),feesAllTime:t("fees_all_time").notNull().default("0"),tvlUsd:t("tvl_usd").notNull().default("0"),swapCount24h:e("swap_count_24h").notNull().default(0),swapCountAllTime:e("swap_count_all_time").notNull().default(0),lpCount:e("lp_count").notNull().default(0),feeApy:e("fee_apy").notNull().default(0),rewardApy:e("reward_apy").notNull().default(0),totalApy:e("total_apy").notNull().default(0),aiPriceOracle:c("ai_price_oracle").notNull().default(!0),aiRouteOptimization:c("ai_route_optimization").notNull().default(!0),aiMevProtection:c("ai_mev_protection").notNull().default(!0),aiRiskScore:e("ai_risk_score").notNull().default(0),mevProtectionEnabled:c("mev_protection_enabled").notNull().default(!0),flashloanGuardEnabled:c("flashloan_guard_enabled").notNull().default(!0),circuitBreakerEnabled:c("circuit_breaker_enabled").notNull().default(!0),creatorAddress:t("creator_address").notNull(),deploymentTxHash:t("deployment_tx_hash"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow(),lastSwapAt:l("last_swap_at")}),ms=d("dex_pool_assets",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull(),tokenAddress:t("token_address").notNull(),tokenSymbol:t("token_symbol").notNull(),tokenDecimals:e("token_decimals").notNull().default(18),reserve:t("reserve").notNull().default("0"),weight:e("weight").notNull().default(0),priceUsd:t("price_usd").notNull().default("0"),assetIndex:e("asset_index").notNull().default(0),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),ps=d("dex_pool_ticks",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull(),tickIndex:e("tick_index").notNull(),liquidityGross:t("liquidity_gross").notNull().default("0"),liquidityNet:t("liquidity_net").notNull().default("0"),feeGrowthOutside0:t("fee_growth_outside_0").notNull().default("0"),feeGrowthOutside1:t("fee_growth_outside_1").notNull().default("0"),secondsOutside:h("seconds_outside",{mode:"number"}).notNull().default(0),initialized:c("initialized").notNull().default(!1),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),fs=d("dex_positions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),positionNftId:t("position_nft_id"),poolId:a("pool_id").notNull(),ownerAddress:t("owner_address").notNull(),isConcentrated:c("is_concentrated").notNull().default(!1),lpTokenAmount:t("lp_token_amount").notNull().default("0"),tickLower:e("tick_lower"),tickUpper:e("tick_upper"),liquidity:t("liquidity").notNull().default("0"),amount0:t("amount0").notNull().default("0"),amount1:t("amount1").notNull().default("0"),valueUsd:t("value_usd").notNull().default("0"),unclaimedFees0:t("unclaimed_fees_0").notNull().default("0"),unclaimedFees1:t("unclaimed_fees_1").notNull().default("0"),totalFeesEarned0:t("total_fees_earned_0").notNull().default("0"),totalFeesEarned1:t("total_fees_earned_1").notNull().default("0"),feeGrowthInside0LastX128:t("fee_growth_inside_0_last_x128"),feeGrowthInside1LastX128:t("fee_growth_inside_1_last_x128"),status:t("status").notNull().default("active"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow(),closedAt:l("closed_at")}),Ns=d("dex_swaps",{id:a("id").primaryKey().default(s`gen_random_uuid()`),txHash:t("tx_hash").notNull(),poolId:a("pool_id").notNull(),traderAddress:t("trader_address").notNull(),tokenInAddress:t("token_in_address").notNull(),tokenInSymbol:t("token_in_symbol").notNull(),tokenOutAddress:t("token_out_address").notNull(),tokenOutSymbol:t("token_out_symbol").notNull(),amountIn:t("amount_in").notNull(),amountOut:t("amount_out").notNull(),amountInUsd:t("amount_in_usd").notNull().default("0"),amountOutUsd:t("amount_out_usd").notNull().default("0"),priceImpact:e("price_impact").notNull().default(0),effectivePrice:t("effective_price").notNull(),feeAmount:t("fee_amount").notNull().default("0"),feeUsd:t("fee_usd").notNull().default("0"),slippageTolerance:e("slippage_tolerance").notNull().default(50),actualSlippage:e("actual_slippage").notNull().default(0),mevProtected:c("mev_protected").notNull().default(!1),isPrivate:c("is_private").notNull().default(!1),routePath:p("route_path"),isMultiHop:c("is_multi_hop").notNull().default(!1),aiOptimizedRoute:c("ai_optimized_route").notNull().default(!1),aiPredictedPrice:t("ai_predicted_price"),aiConfidence:e("ai_confidence"),status:t("status").notNull().default("pending"),failureReason:t("failure_reason"),blockNumber:h("block_number",{mode:"number"}),blockTimestamp:h("block_timestamp",{mode:"number"}),gasUsed:h("gas_used",{mode:"number"}),gasPrice:t("gas_price"),createdAt:l("created_at").notNull().defaultNow(),completedAt:l("completed_at")}),gs=d("dex_price_history",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull(),interval:t("interval").notNull(),periodStart:l("period_start").notNull(),periodEnd:l("period_end").notNull(),open:t("open").notNull(),high:t("high").notNull(),low:t("low").notNull(),close:t("close").notNull(),volume:t("volume").notNull().default("0"),volumeUsd:t("volume_usd").notNull().default("0"),tradeCount:e("trade_count").notNull().default(0),twap:t("twap").notNull(),createdAt:l("created_at").notNull().defaultNow()}),ys=d("dex_twap_oracle",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull(),observationIndex:e("observation_index").notNull(),blockTimestamp:h("block_timestamp",{mode:"number"}).notNull(),tickCumulative:t("tick_cumulative").notNull(),secondsPerLiquidityCumulativeX128:t("seconds_per_liquidity_cumulative_x128").notNull(),price0CumulativeX128:t("price0_cumulative_x128").notNull(),price1CumulativeX128:t("price1_cumulative_x128").notNull(),initialized:c("initialized").notNull().default(!1),createdAt:l("created_at").notNull().defaultNow()}),hs=d("dex_circuit_breakers",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull().unique(),status:t("status").notNull().default("normal"),priceDeviationThreshold:e("price_deviation_threshold").notNull().default(1e3),volumeSpikeThreshold:e("volume_spike_threshold").notNull().default(5e4),liquidityDropThreshold:e("liquidity_drop_threshold").notNull().default(3e3),currentPriceDeviation:e("current_price_deviation").notNull().default(0),currentVolumeSpike:e("current_volume_spike").notNull().default(0),currentLiquidityDrop:e("current_liquidity_drop").notNull().default(0),lastTriggeredAt:l("last_triggered_at"),triggerCount24h:e("trigger_count_24h").notNull().default(0),triggerCountAllTime:e("trigger_count_all_time").notNull().default(0),cooldownEndsAt:l("cooldown_ends_at"),cooldownDurationMinutes:e("cooldown_duration_minutes").notNull().default(15),aiRiskLevel:t("ai_risk_level").notNull().default("low"),aiRecommendation:t("ai_recommendation"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),As=d("dex_mev_events",{id:a("id").primaryKey().default(s`gen_random_uuid()`),eventType:t("event_type").notNull(),severity:t("severity").notNull().default("low"),victimTxHash:t("victim_tx_hash"),attackerTxHash:t("attacker_tx_hash"),poolId:a("pool_id"),victimAddress:t("victim_address"),attackerAddress:t("attacker_address"),estimatedLossUsd:t("estimated_loss_usd").notNull().default("0"),preventedLossUsd:t("prevented_loss_usd").notNull().default("0"),detectionMethod:t("detection_method").notNull(),aiConfidence:e("ai_confidence").notNull().default(0),status:t("status").notNull().default("detected"),mitigationAction:t("mitigation_action"),blockNumber:h("block_number",{mode:"number"}),createdAt:l("created_at").notNull().defaultNow(),resolvedAt:l("resolved_at")}),vs=d("dex_liquidity_rewards",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull(),rewardTokenAddress:t("reward_token_address").notNull(),rewardTokenSymbol:t("reward_token_symbol").notNull(),rewardRate:t("reward_rate").notNull(),totalRewards:t("total_rewards").notNull(),distributedRewards:t("distributed_rewards").notNull().default("0"),startTime:l("start_time").notNull(),endTime:l("end_time").notNull(),isActive:c("is_active").notNull().default(!0),boostMultiplier:e("boost_multiplier").notNull().default(1e4),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),bs=d("dex_user_analytics",{id:a("id").primaryKey().default(s`gen_random_uuid()`),userAddress:t("user_address").notNull().unique(),totalSwaps:e("total_swaps").notNull().default(0),totalVolumeUsd:t("total_volume_usd").notNull().default("0"),totalFeePaid:t("total_fee_paid").notNull().default("0"),totalPositions:e("total_positions").notNull().default(0),activePositions:e("active_positions").notNull().default(0),totalLiquidityProvidedUsd:t("total_liquidity_provided_usd").notNull().default("0"),totalFeesEarnedUsd:t("total_fees_earned_usd").notNull().default("0"),realizedPnlUsd:t("realized_pnl_usd").notNull().default("0"),unrealizedPnlUsd:t("unrealized_pnl_usd").notNull().default("0"),firstTradeAt:l("first_trade_at"),lastTradeAt:l("last_trade_at"),traderTier:t("trader_tier").notNull().default("bronze"),feeDiscount:e("fee_discount").notNull().default(0),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()});i(_s).omit({id:!0,createdAt:!0,updatedAt:!0,lastSwapAt:!0});i(ms).omit({id:!0,createdAt:!0,updatedAt:!0});i(ps).omit({id:!0,createdAt:!0,updatedAt:!0});i(fs).omit({id:!0,createdAt:!0,updatedAt:!0,closedAt:!0});i(Ns).omit({id:!0,createdAt:!0,completedAt:!0});i(gs).omit({id:!0,createdAt:!0});i(ys).omit({id:!0,createdAt:!0});i(hs).omit({id:!0,createdAt:!0,updatedAt:!0});i(As).omit({id:!0,createdAt:!0,resolvedAt:!0});i(vs).omit({id:!0,createdAt:!0,updatedAt:!0});i(bs).omit({id:!0,createdAt:!0,updatedAt:!0});const ws=d("lending_markets",{id:a("id").primaryKey().default(s`gen_random_uuid()`),assetAddress:t("asset_address").notNull().unique(),assetSymbol:t("asset_symbol").notNull(),assetName:t("asset_name").notNull(),assetDecimals:e("asset_decimals").notNull().default(18),priceFeedId:t("price_feed_id").notNull(),totalSupply:t("total_supply").notNull().default("0"),totalBorrowed:t("total_borrowed").notNull().default("0"),totalReserves:t("total_reserves").notNull().default("0"),availableLiquidity:t("available_liquidity").notNull().default("0"),supplyRate:e("supply_rate").notNull().default(0),borrowRateVariable:e("borrow_rate_variable").notNull().default(0),borrowRateStable:e("borrow_rate_stable").notNull().default(0),utilizationRate:e("utilization_rate").notNull().default(0),exchangeRate:t("exchange_rate").notNull().default("1000000000000000000"),collateralFactor:e("collateral_factor").notNull().default(7500),liquidationThreshold:e("liquidation_threshold").notNull().default(8e3),liquidationPenalty:e("liquidation_penalty").notNull().default(500),reserveFactor:e("reserve_factor").notNull().default(1e3),supplyCap:t("supply_cap"),borrowCap:t("borrow_cap"),interestRateModel:t("interest_rate_model").notNull().default("jump_rate"),baseRate:e("base_rate").notNull().default(200),optimalUtilization:e("optimal_utilization").notNull().default(8e3),slope1:e("slope_1").notNull().default(400),slope2:e("slope_2").notNull().default(6e3),canBeCollateral:c("can_be_collateral").notNull().default(!0),canBeBorrowed:c("can_be_borrowed").notNull().default(!0),status:t("status").notNull().default("active"),totalSuppliers:e("total_suppliers").notNull().default(0),totalBorrowers:e("total_borrowers").notNull().default(0),lastInterestUpdate:l("last_interest_update").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),ks=d("lending_positions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),userAddress:t("user_address").notNull().unique(),totalCollateralValueUsd:t("total_collateral_value_usd").notNull().default("0"),totalBorrowedValueUsd:t("total_borrowed_value_usd").notNull().default("0"),availableBorrowUsd:t("available_borrow_usd").notNull().default("0"),liquidationThresholdUsd:t("liquidation_threshold_usd").notNull().default("0"),healthFactor:e("health_factor").notNull().default(1e6),healthStatus:t("health_status").notNull().default("healthy"),netApy:e("net_apy").notNull().default(0),totalInterestEarned:t("total_interest_earned").notNull().default("0"),totalInterestOwed:t("total_interest_owed").notNull().default("0"),suppliedAssetCount:e("supplied_asset_count").notNull().default(0),borrowedAssetCount:e("borrowed_asset_count").notNull().default(0),lastActivityAt:l("last_activity_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Ss=d("lending_supplies",{id:a("id").primaryKey().default(s`gen_random_uuid()`),positionId:a("position_id").notNull(),marketId:a("market_id").notNull(),userAddress:t("user_address").notNull(),assetAddress:t("asset_address").notNull(),suppliedAmount:t("supplied_amount").notNull().default("0"),suppliedShares:t("supplied_shares").notNull().default("0"),suppliedValueUsd:t("supplied_value_usd").notNull().default("0"),isCollateral:c("is_collateral").notNull().default(!0),supplyApy:e("supply_apy").notNull().default(0),interestEarned:t("interest_earned").notNull().default("0"),lastUpdateAt:l("last_update_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow()}),Ts=d("lending_borrows",{id:a("id").primaryKey().default(s`gen_random_uuid()`),positionId:a("position_id").notNull(),marketId:a("market_id").notNull(),userAddress:t("user_address").notNull(),assetAddress:t("asset_address").notNull(),borrowedAmount:t("borrowed_amount").notNull().default("0"),borrowedShares:t("borrowed_shares").notNull().default("0"),borrowedValueUsd:t("borrowed_value_usd").notNull().default("0"),rateMode:t("rate_mode").notNull().default("variable"),borrowApy:e("borrow_apy").notNull().default(0),stableRate:e("stable_rate"),accruedInterest:t("accrued_interest").notNull().default("0"),lastUpdateAt:l("last_update_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow()}),xs=d("lending_liquidations",{id:a("id").primaryKey().default(s`gen_random_uuid()`),liquidatorAddress:t("liquidator_address").notNull(),borrowerAddress:t("borrower_address").notNull(),positionId:a("position_id").notNull(),collateralAsset:t("collateral_asset").notNull(),collateralSymbol:t("collateral_symbol").notNull(),debtAsset:t("debt_asset").notNull(),debtSymbol:t("debt_symbol").notNull(),debtRepaid:t("debt_repaid").notNull(),collateralSeized:t("collateral_seized").notNull(),liquidationBonus:t("liquidation_bonus").notNull(),protocolFee:t("protocol_fee").notNull().default("0"),debtRepaidUsd:t("debt_repaid_usd").notNull(),collateralSeizedUsd:t("collateral_seized_usd").notNull(),healthFactorBefore:e("health_factor_before").notNull(),healthFactorAfter:e("health_factor_after").notNull(),closeFactorUsed:e("close_factor_used").notNull(),status:t("status").notNull().default("completed"),txHash:t("tx_hash"),aiRiskAssessment:t("ai_risk_assessment"),aiRecommendation:t("ai_recommendation"),executedAt:l("executed_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow()}),Ps=d("lending_rate_history",{id:a("id").primaryKey().default(s`gen_random_uuid()`),marketId:a("market_id").notNull(),assetSymbol:t("asset_symbol").notNull(),supplyRate:e("supply_rate").notNull(),borrowRateVariable:e("borrow_rate_variable").notNull(),borrowRateStable:e("borrow_rate_stable").notNull(),utilizationRate:e("utilization_rate").notNull(),totalSupply:t("total_supply").notNull(),totalBorrowed:t("total_borrowed").notNull(),blockNumber:h("block_number",{mode:"number"}),recordedAt:l("recorded_at").notNull().defaultNow()}),Is=d("lending_transactions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),txType:t("tx_type").notNull(),userAddress:t("user_address").notNull(),positionId:a("position_id"),marketId:a("market_id").notNull(),assetAddress:t("asset_address").notNull(),assetSymbol:t("asset_symbol").notNull(),amount:t("amount").notNull(),shares:t("shares").notNull().default("0"),amountUsd:t("amount_usd").notNull(),rateMode:t("rate_mode"),interestRate:e("interest_rate"),exchangeRate:t("exchange_rate"),healthFactorAfter:e("health_factor_after"),status:t("status").notNull().default("completed"),txHash:t("tx_hash"),blockNumber:h("block_number",{mode:"number"}),createdAt:l("created_at").notNull().defaultNow()}),Cs=d("lending_protocol_stats",{id:a("id").primaryKey().default(s`gen_random_uuid()`),totalValueLockedUsd:t("total_value_locked_usd").notNull().default("0"),totalBorrowedUsd:t("total_borrowed_usd").notNull().default("0"),totalReservesUsd:t("total_reserves_usd").notNull().default("0"),activeMarkets:e("active_markets").notNull().default(0),totalMarkets:e("total_markets").notNull().default(0),totalSuppliers:e("total_suppliers").notNull().default(0),totalBorrowers:e("total_borrowers").notNull().default(0),uniqueUsers:e("unique_users").notNull().default(0),volume24hSupply:t("volume_24h_supply").notNull().default("0"),volume24hBorrow:t("volume_24h_borrow").notNull().default("0"),volume24hRepay:t("volume_24h_repay").notNull().default("0"),liquidations24h:e("liquidations_24h").notNull().default(0),liquidationVolume24hUsd:t("liquidation_volume_24h_usd").notNull().default("0"),protocolRevenueUsd:t("protocol_revenue_usd").notNull().default("0"),avgSupplyRate:e("avg_supply_rate").notNull().default(0),avgBorrowRate:e("avg_borrow_rate").notNull().default(0),avgUtilization:e("avg_utilization").notNull().default(0),atRiskPositions:e("at_risk_positions").notNull().default(0),liquidatablePositions:e("liquidatable_positions").notNull().default(0),snapshotAt:l("snapshot_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow()});i(ws).omit({id:!0,createdAt:!0,updatedAt:!0,lastInterestUpdate:!0});i(ks).omit({id:!0,createdAt:!0,updatedAt:!0,lastActivityAt:!0});i(Ss).omit({id:!0,createdAt:!0,lastUpdateAt:!0});i(Ts).omit({id:!0,createdAt:!0,lastUpdateAt:!0});i(xs).omit({id:!0,createdAt:!0,executedAt:!0});i(Ps).omit({id:!0,recordedAt:!0});i(Is).omit({id:!0,createdAt:!0});i(Cs).omit({id:!0,createdAt:!0,snapshotAt:!0});const Ds=d("yield_vaults",{id:a("id").primaryKey().default(s`gen_random_uuid()`),name:t("name").notNull(),symbol:t("symbol").notNull(),description:t("description"),contractAddress:t("contract_address").notNull().unique(),underlyingAsset:t("underlying_asset").notNull(),underlyingSymbol:t("underlying_symbol").notNull(),underlyingDecimals:e("underlying_decimals").notNull().default(18),vaultType:t("vault_type").notNull().default("auto_compound"),strategyType:t("strategy_type").notNull().default("yield_aggregator"),riskLevel:t("risk_level").notNull().default("medium"),totalDeposited:t("total_deposited").notNull().default("0"),totalShares:t("total_shares").notNull().default("0"),sharePrice:t("share_price").notNull().default("1000000000000000000"),tvlUsd:t("tvl_usd").notNull().default("0"),allTimeHighTvl:t("all_time_high_tvl").notNull().default("0"),baseApy:e("base_apy").notNull().default(0),boostApy:e("boost_apy").notNull().default(0),rewardApy:e("reward_apy").notNull().default(0),totalApy:e("total_apy").notNull().default(0),apySource:t("apy_source").notNull().default("combined"),dailyApy:e("daily_apy").notNull().default(0),weeklyApy:e("weekly_apy").notNull().default(0),monthlyApy:e("monthly_apy").notNull().default(0),depositFee:e("deposit_fee").notNull().default(0),withdrawalFee:e("withdrawal_fee").notNull().default(10),performanceFee:e("performance_fee").notNull().default(1e3),managementFee:e("management_fee").notNull().default(200),depositCap:t("deposit_cap"),minDeposit:t("min_deposit").notNull().default("0"),maxDeposit:t("max_deposit"),dexPoolId:a("dex_pool_id"),lendingMarketId:a("lending_market_id"),aiOptimized:c("ai_optimized").notNull().default(!0),aiStrategyScore:e("ai_strategy_score").notNull().default(8e3),aiRiskScore:e("ai_risk_score").notNull().default(5e3),status:t("status").notNull().default("active"),isEmergencyWithdrawEnabled:c("is_emergency_withdraw_enabled").notNull().default(!1),totalDepositors:e("total_depositors").notNull().default(0),deposits24h:t("deposits_24h").notNull().default("0"),withdrawals24h:t("withdrawals_24h").notNull().default("0"),harvestCount:e("harvest_count").notNull().default(0),lastHarvestAt:l("last_harvest_at"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Rs=d("yield_strategies",{id:a("id").primaryKey().default(s`gen_random_uuid()`),vaultId:a("vault_id").notNull(),name:t("name").notNull(),description:t("description"),contractAddress:t("contract_address").notNull(),strategyType:t("strategy_type").notNull(),protocol:t("protocol").notNull(),allocationPercent:e("allocation_percent").notNull().default(1e4),currentValue:t("current_value").notNull().default("0"),currentApy:e("current_apy").notNull().default(0),historicalApy:e("historical_apy").notNull().default(0),profitGenerated:t("profit_generated").notNull().default("0"),lossIncurred:t("loss_incurred").notNull().default("0"),maxLeverage:e("max_leverage").notNull().default(1e4),liquidationThreshold:e("liquidation_threshold").notNull().default(8e3),stopLossThreshold:e("stop_loss_threshold").notNull().default(500),isActive:c("is_active").notNull().default(!0),lastExecutionAt:l("last_execution_at"),executionCount:e("execution_count").notNull().default(0),failureCount:e("failure_count").notNull().default(0),aiOptimized:c("ai_optimized").notNull().default(!0),aiConfidenceScore:e("ai_confidence_score").notNull().default(8e3),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),qs=d("yield_positions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),vaultId:a("vault_id").notNull(),userAddress:t("user_address").notNull(),depositedAmount:t("deposited_amount").notNull().default("0"),shares:t("shares").notNull().default("0"),currentValue:t("current_value").notNull().default("0"),currentValueUsd:t("current_value_usd").notNull().default("0"),totalProfit:t("total_profit").notNull().default("0"),totalProfitUsd:t("total_profit_usd").notNull().default("0"),unrealizedProfit:t("unrealized_profit").notNull().default("0"),realizedProfit:t("realized_profit").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),claimedRewards:t("claimed_rewards").notNull().default("0"),boostMultiplier:e("boost_multiplier").notNull().default(1e4),boostEndTime:l("boost_end_time"),isLocked:c("is_locked").notNull().default(!1),lockEndTime:l("lock_end_time"),lockDurationDays:e("lock_duration_days").notNull().default(0),depositCount:e("deposit_count").notNull().default(0),withdrawCount:e("withdraw_count").notNull().default(0),lastDepositAt:l("last_deposit_at"),lastWithdrawAt:l("last_withdraw_at"),status:t("status").notNull().default("active"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Ks=d("yield_harvests",{id:a("id").primaryKey().default(s`gen_random_uuid()`),vaultId:a("vault_id").notNull(),strategyId:a("strategy_id"),harvestType:t("harvest_type").notNull(),harvestedAmount:t("harvested_amount").notNull().default("0"),harvestedValueUsd:t("harvested_value_usd").notNull().default("0"),compoundedAmount:t("compounded_amount").notNull().default("0"),newSharePrice:t("new_share_price").notNull(),oldSharePrice:t("old_share_price").notNull(),performanceFeeAmount:t("performance_fee_amount").notNull().default("0"),callerReward:t("caller_reward").notNull().default("0"),txHash:t("tx_hash"),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),executorAddress:t("executor_address"),aiTriggered:c("ai_triggered").notNull().default(!1),aiOptimalityScore:e("ai_optimality_score"),executedAt:l("executed_at").notNull().defaultNow()}),Bs=d("yield_rewards",{id:a("id").primaryKey().default(s`gen_random_uuid()`),vaultId:a("vault_id").notNull(),rewardToken:t("reward_token").notNull(),rewardSymbol:t("reward_symbol").notNull(),rewardDecimals:e("reward_decimals").notNull().default(18),rewardPerSecond:t("reward_per_second").notNull().default("0"),rewardPerBlock:t("reward_per_block").notNull().default("0"),totalAllocated:t("total_allocated").notNull().default("0"),totalDistributed:t("total_distributed").notNull().default("0"),startTime:l("start_time").notNull(),endTime:l("end_time"),isActive:c("is_active").notNull().default(!0),createdAt:l("created_at").notNull().defaultNow()}),Us=d("yield_transactions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),vaultId:a("vault_id").notNull(),positionId:a("position_id"),userAddress:t("user_address").notNull(),txType:t("tx_type").notNull(),amount:t("amount").notNull().default("0"),shares:t("shares").notNull().default("0"),valueUsd:t("value_usd").notNull().default("0"),sharePriceAtTx:t("share_price_at_tx").notNull(),feeAmount:t("fee_amount").notNull().default("0"),feeType:t("fee_type"),txHash:t("tx_hash"),blockNumber:h("block_number",{mode:"number"}),status:t("status").notNull().default("pending"),createdAt:l("created_at").notNull().defaultNow()}),Vs=d("yield_protocol_stats",{id:a("id").primaryKey().default(s`gen_random_uuid()`),totalTvlUsd:t("total_tvl_usd").notNull().default("0"),tvlChange24h:t("tvl_change_24h").notNull().default("0"),tvlChange7d:t("tvl_change_7d").notNull().default("0"),totalVaults:e("total_vaults").notNull().default(0),activeVaults:e("active_vaults").notNull().default(0),totalUsers:e("total_users").notNull().default(0),activeUsers24h:e("active_users_24h").notNull().default(0),totalDeposits24h:t("total_deposits_24h").notNull().default("0"),totalWithdrawals24h:t("total_withdrawals_24h").notNull().default("0"),avgVaultApy:e("avg_vault_apy").notNull().default(0),topVaultApy:e("top_vault_apy").notNull().default(0),totalProfitGenerated:t("total_profit_generated").notNull().default("0"),totalFeesCollected:t("total_fees_collected").notNull().default("0"),feesCollected24h:t("fees_collected_24h").notNull().default("0"),totalHarvests24h:e("total_harvests_24h").notNull().default(0),avgHarvestAmount:t("avg_harvest_amount").notNull().default("0"),aiOptimizedVaults:e("ai_optimized_vaults").notNull().default(0),aiSuggestedRebalances:e("ai_suggested_rebalances").notNull().default(0),snapshotAt:l("snapshot_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow()});i(Ds).omit({id:!0,createdAt:!0,updatedAt:!0});i(Rs).omit({id:!0,createdAt:!0,updatedAt:!0});i(qs).omit({id:!0,createdAt:!0,updatedAt:!0});i(Ks).omit({id:!0,executedAt:!0});i(Bs).omit({id:!0,createdAt:!0});i(Us).omit({id:!0,createdAt:!0});i(Vs).omit({id:!0,createdAt:!0,snapshotAt:!0});const J=d("liquid_staking_pools",{id:a("id").primaryKey().default(s`gen_random_uuid()`),name:a("name",{length:100}).notNull(),symbol:a("symbol",{length:20}).notNull(),description:t("description"),contractAddress:a("contract_address",{length:66}).notNull().unique(),lstTokenAddress:a("lst_token_address",{length:66}).notNull(),lstTokenSymbol:a("lst_token_symbol",{length:20}).notNull(),lstTokenDecimals:e("lst_token_decimals").notNull().default(18),underlyingAsset:a("underlying_asset",{length:66}).notNull(),underlyingSymbol:a("underlying_symbol",{length:20}).notNull(),underlyingDecimals:e("underlying_decimals").notNull().default(18),exchangeRate:t("exchange_rate").notNull().default("1000000000000000000"),exchangeRatePrevious:t("exchange_rate_previous").notNull().default("1000000000000000000"),lastRebaseAt:l("last_rebase_at").defaultNow(),rebaseIntervalSeconds:e("rebase_interval_seconds").notNull().default(86400),totalStaked:t("total_staked").notNull().default("0"),totalStakedUsd:t("total_staked_usd").notNull().default("0"),totalLstMinted:t("total_lst_minted").notNull().default("0"),totalRewardsGenerated:t("total_rewards_generated").notNull().default("0"),validatorCount:e("validator_count").notNull().default(0),minValidatorsPerBasket:e("min_validators_per_basket").notNull().default(5),maxValidatorAllocation:e("max_validator_allocation").notNull().default(2e3),currentApy:e("current_apy").notNull().default(0),avgApy7d:e("avg_apy_7d").notNull().default(0),avgApy30d:e("avg_apy_30d").notNull().default(0),mintFee:e("mint_fee").notNull().default(10),redeemFee:e("redeem_fee").notNull().default(10),performanceFee:e("performance_fee").notNull().default(1e3),protocolFee:e("protocol_fee").notNull().default(100),minMintAmount:t("min_mint_amount").notNull().default("1000000000000000000"),maxMintAmount:t("max_mint_amount"),stakingCap:t("staking_cap"),status:a("status",{length:20}).notNull().default("active"),isPaused:c("is_paused").notNull().default(!1),aiOptimized:c("ai_optimized").notNull().default(!1),totalStakers:e("total_stakers").notNull().default(0),mints24h:t("mints_24h").notNull().default("0"),redeems24h:t("redeems_24h").notNull().default("0"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),Ms=d("validator_baskets",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),name:a("name",{length:100}).notNull(),description:t("description"),validatorAddresses:t("validator_addresses").array().notNull(),validatorWeights:e("validator_weights").array().notNull(),totalValidators:e("total_validators").notNull().default(0),totalAllocated:t("total_allocated").notNull().default("0"),allocationPercentage:e("allocation_percentage").notNull().default(0),avgValidatorScore:e("avg_validator_score").notNull().default(0),avgUptime:e("avg_uptime").notNull().default(1e4),avgCommission:e("avg_commission").notNull().default(500),riskScore:e("risk_score").notNull().default(5e3),diversificationScore:e("diversification_score").notNull().default(0),isActive:c("is_active").notNull().default(!0),lastRebalanceAt:l("last_rebalance_at"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),ur=d("lst_positions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),userAddress:a("user_address",{length:66}).notNull(),lstBalance:t("lst_balance").notNull().default("0"),lstBalanceUsd:t("lst_balance_usd").notNull().default("0"),underlyingValue:t("underlying_value").notNull().default("0"),underlyingValueUsd:t("underlying_value_usd").notNull().default("0"),totalMinted:t("total_minted").notNull().default("0"),totalRedeemed:t("total_redeemed").notNull().default("0"),avgMintPrice:t("avg_mint_price").notNull().default("1000000000000000000"),accumulatedRewards:t("accumulated_rewards").notNull().default("0"),claimedRewards:t("claimed_rewards").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),mintCount:e("mint_count").notNull().default(0),redeemCount:e("redeem_count").notNull().default(0),lastMintAt:l("last_mint_at"),lastRedeemAt:l("last_redeem_at"),status:a("status",{length:20}).notNull().default("active"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),zs=d("lst_transactions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),positionId:a("position_id").references(()=>ur.id),userAddress:a("user_address",{length:66}).notNull(),txType:a("tx_type",{length:20}).notNull(),txHash:a("tx_hash",{length:66}),underlyingAmount:t("underlying_amount").notNull(),lstAmount:t("lst_amount").notNull(),exchangeRateAtTx:t("exchange_rate_at_tx").notNull(),valueUsd:t("value_usd").notNull().default("0"),feeAmount:t("fee_amount").notNull().default("0"),feeType:a("fee_type",{length:20}),status:a("status",{length:20}).notNull().default("pending"),failureReason:t("failure_reason"),createdAt:l("created_at").defaultNow().notNull(),completedAt:l("completed_at")}),Es=d("rebase_history",{id:a("id").primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id").notNull().references(()=>J.id),previousRate:t("previous_rate").notNull(),newRate:t("new_rate").notNull(),rateChange:t("rate_change").notNull(),rateChangePercent:e("rate_change_percent").notNull(),rewardsDistributed:t("rewards_distributed").notNull().default("0"),rewardsFromValidators:t("rewards_from_validators").notNull().default("0"),rewardsFromMev:t("rewards_from_mev").notNull().default("0"),slashingPenalty:t("slashing_penalty").notNull().default("0"),slashedValidators:e("slashed_validators").notNull().default(0),totalStakedAtRebase:t("total_staked_at_rebase").notNull(),totalLstAtRebase:t("total_lst_at_rebase").notNull(),aiOptimized:c("ai_optimized").notNull().default(!1),aiOptimizationScore:e("ai_optimization_score"),executedAt:l("executed_at").defaultNow().notNull()}),Ls=d("lst_protocol_stats",{id:a("id").primaryKey().default(s`gen_random_uuid()`),totalStakedAcrossPools:t("total_staked_across_pools").notNull().default("0"),totalStakedUsd:t("total_staked_usd").notNull().default("0"),totalLstMinted:t("total_lst_minted").notNull().default("0"),totalPools:e("total_pools").notNull().default(0),activePools:e("active_pools").notNull().default(0),totalStakers:e("total_stakers").notNull().default(0),activeStakers24h:e("active_stakers_24h").notNull().default(0),totalMinted24h:t("total_minted_24h").notNull().default("0"),totalRedeemed24h:t("total_redeemed_24h").notNull().default("0"),totalRewardsDistributed:t("total_rewards_distributed").notNull().default("0"),rewardsDistributed24h:t("rewards_distributed_24h").notNull().default("0"),avgPoolApy:e("avg_pool_apy").notNull().default(0),topPoolApy:e("top_pool_apy").notNull().default(0),totalValidatorsUsed:e("total_validators_used").notNull().default(0),avgValidatorScore:e("avg_validator_score").notNull().default(0),snapshotAt:l("snapshot_at").defaultNow().notNull(),createdAt:l("created_at").defaultNow().notNull()});i(J).omit({id:!0,createdAt:!0,updatedAt:!0});i(Ms).omit({id:!0,createdAt:!0,updatedAt:!0});i(ur).omit({id:!0,createdAt:!0,updatedAt:!0});i(zs).omit({id:!0,createdAt:!0});i(Es).omit({id:!0,executedAt:!0});i(Ls).omit({id:!0,snapshotAt:!0,createdAt:!0});const j=d("nft_collections",{id:a("id").primaryKey().default(s`gen_random_uuid()`),name:a("name",{length:100}).notNull(),symbol:a("symbol",{length:20}).notNull(),description:t("description"),contractAddress:a("contract_address",{length:66}).notNull().unique(),tokenStandard:a("token_standard",{length:20}).notNull().default("TBC-721"),creatorAddress:a("creator_address",{length:66}).notNull(),creatorName:a("creator_name",{length:100}),verified:c("verified").notNull().default(!1),imageUrl:t("image_url"),bannerUrl:t("banner_url"),website:t("website"),twitter:t("twitter"),discord:t("discord"),royaltyFee:e("royalty_fee").notNull().default(250),royaltyRecipient:a("royalty_recipient",{length:66}),totalItems:e("total_items").notNull().default(0),listedItems:e("listed_items").notNull().default(0),owners:e("owners").notNull().default(0),floorPrice:t("floor_price").notNull().default("0"),floorPriceUsd:t("floor_price_usd").notNull().default("0"),volume24h:t("volume_24h").notNull().default("0"),volume24hUsd:t("volume_24h_usd").notNull().default("0"),volumeTotal:t("volume_total").notNull().default("0"),volumeTotalUsd:t("volume_total_usd").notNull().default("0"),avgPrice24h:t("avg_price_24h").notNull().default("0"),salesCount24h:e("sales_count_24h").notNull().default(0),salesCountTotal:e("sales_count_total").notNull().default(0),marketCap:t("market_cap").notNull().default("0"),marketCapUsd:t("market_cap_usd").notNull().default("0"),status:a("status",{length:20}).notNull().default("active"),featured:c("featured").notNull().default(!1),aiRarityScore:e("ai_rarity_score"),aiTrendScore:e("ai_trend_score"),category:a("category",{length:50}),tags:t("tags").array(),externalUrl:t("external_url"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),G=d("nft_items",{id:a("id").primaryKey().default(s`gen_random_uuid()`),collectionId:a("collection_id").notNull().references(()=>j.id),tokenId:t("token_id").notNull(),tokenUri:t("token_uri"),name:a("name",{length:200}),description:t("description"),imageUrl:t("image_url"),animationUrl:t("animation_url"),externalUrl:t("external_url"),attributes:p("attributes"),ownerAddress:a("owner_address",{length:66}).notNull(),creatorAddress:a("creator_address",{length:66}),totalSupply:e("total_supply").notNull().default(1),availableSupply:e("available_supply").notNull().default(1),rarityRank:e("rarity_rank"),rarityScore:e("rarity_score"),rarityTier:a("rarity_tier",{length:20}),lastSalePrice:t("last_sale_price"),lastSalePriceUsd:t("last_sale_price_usd"),lastSaleAt:l("last_sale_at"),estimatedValue:t("estimated_value"),estimatedValueUsd:t("estimated_value_usd"),status:a("status",{length:20}).notNull().default("active"),isListed:c("is_listed").notNull().default(!1),mintTxHash:a("mint_tx_hash",{length:66}),mintedAt:l("minted_at"),mintPrice:t("mint_price"),aiAnalyzed:c("ai_analyzed").notNull().default(!1),aiContentScore:e("ai_content_score"),aiAuthenticityScore:e("ai_authenticity_score"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),yt=d("marketplace_listings",{id:a("id").primaryKey().default(s`gen_random_uuid()`),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").notNull().references(()=>G.id),sellerAddress:a("seller_address",{length:66}).notNull(),listingType:a("listing_type",{length:20}).notNull().default("fixed"),price:t("price").notNull(),priceUsd:t("price_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),startingPrice:t("starting_price"),reservePrice:t("reserve_price"),buyNowPrice:t("buy_now_price"),currentBid:t("current_bid"),currentBidder:a("current_bidder",{length:66}),bidCount:e("bid_count").notNull().default(0),endingPrice:t("ending_price"),priceDropInterval:e("price_drop_interval"),quantity:e("quantity").notNull().default(1),remainingQuantity:e("remaining_quantity").notNull().default(1),startsAt:l("starts_at").notNull(),expiresAt:l("expires_at"),status:a("status",{length:20}).notNull().default("active"),txHash:a("tx_hash",{length:66}),aiRecommendedPrice:t("ai_recommended_price"),aiPriceConfidence:e("ai_price_confidence"),signature:t("signature"),nonce:e("nonce"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),dr=d("marketplace_bids",{id:a("id").primaryKey().default(s`gen_random_uuid()`),listingId:a("listing_id").notNull().references(()=>yt.id),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").notNull().references(()=>G.id),bidderAddress:a("bidder_address",{length:66}).notNull(),bidAmount:t("bid_amount").notNull(),bidAmountUsd:t("bid_amount_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),quantity:e("quantity").notNull().default(1),expiresAt:l("expires_at"),status:a("status",{length:20}).notNull().default("active"),txHash:a("tx_hash",{length:66}),escrowAmount:t("escrow_amount").notNull().default("0"),escrowReleased:c("escrow_released").notNull().default(!1),signature:t("signature"),nonce:e("nonce"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),Fs=d("marketplace_sales",{id:a("id").primaryKey().default(s`gen_random_uuid()`),listingId:a("listing_id").references(()=>yt.id),bidId:a("bid_id").references(()=>dr.id),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").notNull().references(()=>G.id),sellerAddress:a("seller_address",{length:66}).notNull(),buyerAddress:a("buyer_address",{length:66}).notNull(),saleType:a("sale_type",{length:20}).notNull(),salePrice:t("sale_price").notNull(),salePriceUsd:t("sale_price_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),quantity:e("quantity").notNull().default(1),platformFee:t("platform_fee").notNull().default("0"),platformFeePercent:e("platform_fee_percent").notNull().default(250),royaltyFee:t("royalty_fee").notNull().default("0"),royaltyFeePercent:e("royalty_fee_percent").notNull().default(0),royaltyRecipient:a("royalty_recipient",{length:66}),sellerProceeds:t("seller_proceeds").notNull(),txHash:a("tx_hash",{length:66}).notNull(),blockNumber:h("block_number",{mode:"number"}),soldAt:l("sold_at").defaultNow().notNull(),settledAt:l("settled_at"),createdAt:l("created_at").defaultNow().notNull()}),js=d("nft_offers",{id:a("id").primaryKey().default(s`gen_random_uuid()`),offerType:a("offer_type",{length:20}).notNull(),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").references(()=>G.id),offererAddress:a("offerer_address",{length:66}).notNull(),offerAmount:t("offer_amount").notNull(),offerAmountUsd:t("offer_amount_usd").notNull().default("0"),currency:a("currency",{length:20}).notNull().default("TBURN"),quantity:e("quantity").notNull().default(1),expiresAt:l("expires_at"),status:a("status",{length:20}).notNull().default("active"),escrowAmount:t("escrow_amount").notNull().default("0"),escrowTxHash:a("escrow_tx_hash",{length:66}),signature:t("signature"),nonce:e("nonce"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),Hs=d("nft_activity_log",{id:a("id").primaryKey().default(s`gen_random_uuid()`),collectionId:a("collection_id").notNull().references(()=>j.id),itemId:a("item_id").references(()=>G.id),eventType:a("event_type",{length:30}).notNull(),fromAddress:a("from_address",{length:66}),toAddress:a("to_address",{length:66}),price:t("price"),priceUsd:t("price_usd"),currency:a("currency",{length:20}),quantity:e("quantity").notNull().default(1),txHash:a("tx_hash",{length:66}),blockNumber:h("block_number",{mode:"number"}),listingId:a("listing_id"),bidId:a("bid_id"),saleId:a("sale_id"),offerId:a("offer_id"),createdAt:l("created_at").defaultNow().notNull()}),Qs=d("nft_marketplace_stats",{id:a("id").primaryKey().default(s`gen_random_uuid()`),volume24h:t("volume_24h").notNull().default("0"),volume24hUsd:t("volume_24h_usd").notNull().default("0"),volume7d:t("volume_7d").notNull().default("0"),volume7dUsd:t("volume_7d_usd").notNull().default("0"),volumeTotal:t("volume_total").notNull().default("0"),volumeTotalUsd:t("volume_total_usd").notNull().default("0"),salesCount24h:e("sales_count_24h").notNull().default(0),salesCount7d:e("sales_count_7d").notNull().default(0),salesCountTotal:e("sales_count_total").notNull().default(0),totalCollections:e("total_collections").notNull().default(0),activeCollections:e("active_collections").notNull().default(0),verifiedCollections:e("verified_collections").notNull().default(0),totalItems:e("total_items").notNull().default(0),listedItems:e("listed_items").notNull().default(0),activeListings:e("active_listings").notNull().default(0),auctionListings:e("auction_listings").notNull().default(0),totalUsers:e("total_users").notNull().default(0),activeTraders24h:e("active_traders_24h").notNull().default(0),totalPlatformFees:t("total_platform_fees").notNull().default("0"),platformFees24h:t("platform_fees_24h").notNull().default("0"),totalRoyalties:t("total_royalties").notNull().default("0"),royalties24h:t("royalties_24h").notNull().default("0"),avgFloorPrice:t("avg_floor_price").notNull().default("0"),avgFloorPriceUsd:t("avg_floor_price_usd").notNull().default("0"),snapshotAt:l("snapshot_at").defaultNow().notNull(),createdAt:l("created_at").defaultNow().notNull()});i(j).omit({id:!0,createdAt:!0,updatedAt:!0});i(G).omit({id:!0,createdAt:!0,updatedAt:!0});i(yt).omit({id:!0,createdAt:!0,updatedAt:!0});i(dr).omit({id:!0,createdAt:!0,updatedAt:!0});i(Fs).omit({id:!0,createdAt:!0});i(js).omit({id:!0,createdAt:!0,updatedAt:!0});i(Hs).omit({id:!0,createdAt:!0});i(Qs).omit({id:!0,snapshotAt:!0,createdAt:!0});const W=d("launchpad_projects",{id:a("id",{length:66}).primaryKey(),name:a("name",{length:255}).notNull(),symbol:a("symbol",{length:20}).notNull(),description:t("description"),imageUrl:t("image_url"),bannerUrl:t("banner_url"),websiteUrl:t("website_url"),twitterUrl:t("twitter_url"),discordUrl:t("discord_url"),creatorAddress:a("creator_address",{length:66}).notNull(),totalSupply:m("total_supply",{precision:40,scale:0}).notNull().default("10000"),mintPrice:m("mint_price",{precision:40,scale:0}).notNull().default("0"),maxPerWallet:e("max_per_wallet").notNull().default(10),royaltyBps:e("royalty_bps").notNull().default(500),status:a("status",{length:20}).notNull().default("draft"),featured:c("featured").notNull().default(!1),verified:c("verified").notNull().default(!1),aiScore:S("ai_score"),aiAnalysis:p("ai_analysis"),contractAddress:a("contract_address",{length:66}),category:a("category",{length:50}),tags:t("tags").array(),totalRaised:m("total_raised",{precision:40,scale:0}).notNull().default("0"),totalMinted:e("total_minted").notNull().default(0),uniqueMinters:e("unique_minters").notNull().default(0),launchDate:l("launch_date"),endDate:l("end_date"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),ht=d("launch_rounds",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>W.id),roundNumber:e("round_number").notNull().default(1),name:a("name",{length:100}).notNull(),roundType:a("round_type",{length:30}).notNull().default("public"),startTime:l("start_time").notNull(),endTime:l("end_time").notNull(),price:m("price",{precision:40,scale:0}).notNull(),allocation:e("allocation").notNull(),maxPerWallet:e("max_per_wallet").notNull().default(5),minPerWallet:e("min_per_wallet").notNull().default(1),totalMinted:e("total_minted").notNull().default(0),uniqueParticipants:e("unique_participants").notNull().default(0),totalRaised:m("total_raised",{precision:40,scale:0}).notNull().default("0"),whitelistRequired:c("whitelist_required").notNull().default(!1),status:a("status",{length:20}).notNull().default("pending"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),Os=d("whitelist_entries",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>W.id),roundId:a("round_id",{length:66}).references(()=>ht.id),walletAddress:a("wallet_address",{length:66}).notNull(),allocation:e("allocation").notNull().default(1),used:e("used").notNull().default(0),tier:a("tier",{length:30}),proofData:p("proof_data"),addedBy:a("added_by",{length:66}),addedAt:l("added_at").defaultNow().notNull(),expiresAt:l("expires_at")}),$s=d("launch_allocations",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>W.id),roundId:a("round_id",{length:66}).notNull().references(()=>ht.id),walletAddress:a("wallet_address",{length:66}).notNull(),quantity:e("quantity").notNull(),pricePerUnit:m("price_per_unit",{precision:40,scale:0}).notNull(),totalPaid:m("total_paid",{precision:40,scale:0}).notNull(),txHash:a("tx_hash",{length:130}),tokenIds:t("token_ids").array(),status:a("status",{length:20}).notNull().default("pending"),mintedAt:l("minted_at"),createdAt:l("created_at").defaultNow().notNull()}),Gs=d("vesting_schedules",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>W.id),walletAddress:a("wallet_address",{length:66}).notNull(),totalAmount:m("total_amount",{precision:40,scale:0}).notNull(),releasedAmount:m("released_amount",{precision:40,scale:0}).notNull().default("0"),vestingType:a("vesting_type",{length:30}).notNull().default("linear"),startTime:l("start_time").notNull(),cliffDuration:e("cliff_duration").notNull().default(0),vestingDuration:e("vesting_duration").notNull(),releaseInterval:e("release_interval").notNull().default(86400),lastClaimTime:l("last_claim_time"),nextClaimTime:l("next_claim_time"),status:a("status",{length:20}).notNull().default("active"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),Ws=d("launchpad_stats",{id:a("id",{length:66}).primaryKey(),totalProjects:e("total_projects").notNull().default(0),activeProjects:e("active_projects").notNull().default(0),completedProjects:e("completed_projects").notNull().default(0),totalRaised:m("total_raised",{precision:40,scale:0}).notNull().default("0"),totalRaisedUsd:m("total_raised_usd",{precision:40,scale:2}).notNull().default("0"),totalMinted:e("total_minted").notNull().default(0),uniqueParticipants:e("unique_participants").notNull().default(0),avgFundingRate:S("avg_funding_rate").default(0),featuredCount:e("featured_count").notNull().default(0),snapshotAt:l("snapshot_at").defaultNow().notNull(),createdAt:l("created_at").defaultNow().notNull()}),Zs=d("launchpad_activity",{id:a("id",{length:66}).primaryKey(),projectId:a("project_id",{length:66}).notNull().references(()=>W.id),roundId:a("round_id",{length:66}),walletAddress:a("wallet_address",{length:66}),eventType:a("event_type",{length:30}).notNull(),quantity:e("quantity"),amount:m("amount",{precision:40,scale:0}),txHash:a("tx_hash",{length:130}),metadata:p("metadata"),createdAt:l("created_at").defaultNow().notNull()});i(W).omit({id:!0,createdAt:!0,updatedAt:!0});i(ht).omit({id:!0,createdAt:!0,updatedAt:!0});i(Os).omit({id:!0,addedAt:!0});i($s).omit({id:!0,createdAt:!0});i(Gs).omit({id:!0,createdAt:!0,updatedAt:!0});i(Ws).omit({id:!0,snapshotAt:!0,createdAt:!0});i(Zs).omit({id:!0,createdAt:!0});const Xs=d("gamefi_projects",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),name:a("name",{length:100}).notNull(),slug:a("slug",{length:100}).notNull().unique(),description:t("description"),shortDescription:a("short_description",{length:256}),imageUrl:a("image_url",{length:512}),bannerUrl:a("banner_url",{length:512}),website:a("website",{length:256}),developer:a("developer",{length:100}),developerAddress:a("developer_address",{length:66}),category:a("category",{length:50}).notNull().default("arcade"),genre:a("genre",{length:50}),status:a("status",{length:20}).notNull().default("active"),featured:c("featured").default(!1),verified:c("verified").default(!1),contractAddress:a("contract_address",{length:66}),chainId:e("chain_id").default(1),tokenSymbol:a("token_symbol",{length:20}),nftContractAddress:a("nft_contract_address",{length:66}),totalPlayers:e("total_players").default(0),activePlayers24h:e("active_players_24h").default(0),totalVolume:m("total_volume",{precision:40,scale:0}).default("0"),dailyVolume:m("daily_volume",{precision:40,scale:0}).default("0"),totalRewardsDistributed:m("total_rewards_distributed",{precision:40,scale:0}).default("0"),aiScore:S("ai_score"),socialScore:e("social_score").default(0),rating:S("rating").default(0),ratingCount:e("rating_count").default(0),playToEarnEnabled:c("play_to_earn_enabled").default(!0),stakingEnabled:c("staking_enabled").default(!1),tournamentEnabled:c("tournament_enabled").default(!1),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),Js=d("game_assets",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),tokenId:a("token_id",{length:100}).notNull(),name:a("name",{length:100}).notNull(),description:t("description"),imageUrl:a("image_url",{length:512}),assetType:a("asset_type",{length:50}).notNull().default("item"),rarity:a("rarity",{length:20}).notNull().default("common"),ownerAddress:a("owner_address",{length:66}),mintedAt:l("minted_at"),lastTransferAt:l("last_transfer_at"),price:m("price",{precision:40,scale:0}),isListed:c("is_listed").default(!1),isStaked:c("is_staked").default(!1),stakingRewards:m("staking_rewards",{precision:40,scale:0}).default("0"),attributes:p("attributes"),boosts:p("boosts"),usageCount:e("usage_count").default(0),winRate:S("win_rate"),earnedRewards:m("earned_rewards",{precision:40,scale:0}).default("0"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),Ys=d("game_rewards",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),walletAddress:a("wallet_address",{length:66}).notNull(),rewardType:a("reward_type",{length:50}).notNull().default("gameplay"),amount:m("amount",{precision:40,scale:0}).notNull(),tokenSymbol:a("token_symbol",{length:20}).default("TBURN"),reason:a("reason",{length:256}),txHash:a("tx_hash",{length:130}),status:a("status",{length:20}).notNull().default("pending"),metadata:p("metadata"),expiresAt:l("expires_at"),claimedAt:l("claimed_at"),createdAt:l("created_at").defaultNow().notNull()}),tc=d("game_leaderboards",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),leaderboardType:a("leaderboard_type",{length:50}).notNull().default("global"),periodStart:l("period_start"),periodEnd:l("period_end"),walletAddress:a("wallet_address",{length:66}).notNull(),playerName:a("player_name",{length:50}),rank:e("rank").notNull(),score:m("score",{precision:40,scale:0}).notNull(),wins:e("wins").default(0),losses:e("losses").default(0),gamesPlayed:e("games_played").default(0),winStreak:e("win_streak").default(0),bestWinStreak:e("best_win_streak").default(0),totalEarned:m("total_earned",{precision:40,scale:0}).default("0"),rewardClaimed:c("reward_claimed").default(!1),rewardAmount:m("reward_amount",{precision:40,scale:0}),metadata:p("metadata"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),ec=d("game_tournaments",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),projectId:a("project_id",{length:64}).notNull(),name:a("name",{length:100}).notNull(),description:t("description"),imageUrl:a("image_url",{length:512}),tournamentType:a("tournament_type",{length:50}).notNull().default("single_elimination"),status:a("status",{length:20}).notNull().default("upcoming"),entryFee:m("entry_fee",{precision:40,scale:0}).default("0"),prizePool:m("prize_pool",{precision:40,scale:0}).notNull(),prizeDistribution:p("prize_distribution"),maxParticipants:e("max_participants").default(64),currentParticipants:e("current_participants").default(0),minParticipants:e("min_participants").default(2),requiresNft:c("requires_nft").default(!1),requiredNftContract:a("required_nft_contract",{length:66}),registrationStart:l("registration_start"),registrationEnd:l("registration_end"),startTime:l("start_time"),endTime:l("end_time"),rules:t("rules"),metadata:p("metadata"),winnerId:a("winner_id",{length:66}),runnerUpId:a("runner_up_id",{length:66}),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),ac=d("tournament_participants",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),tournamentId:a("tournament_id",{length:64}).notNull(),walletAddress:a("wallet_address",{length:66}).notNull(),playerName:a("player_name",{length:50}),teamName:a("team_name",{length:100}),status:a("status",{length:20}).notNull().default("registered"),seed:e("seed"),bracket:a("bracket",{length:50}),round:e("round").default(0),wins:e("wins").default(0),losses:e("losses").default(0),score:m("score",{precision:40,scale:0}).default("0"),placement:e("placement"),prizeWon:m("prize_won",{precision:40,scale:0}),prizeClaimed:c("prize_claimed").default(!1),entryPaid:c("entry_paid").default(!1),entryTxHash:a("entry_tx_hash",{length:130}),registeredAt:l("registered_at").defaultNow().notNull(),checkInAt:l("check_in_at"),eliminatedAt:l("eliminated_at")}),lc=d("achievement_badges",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),projectId:a("project_id",{length:64}),name:a("name",{length:100}).notNull(),description:t("description"),imageUrl:a("image_url",{length:512}),category:a("category",{length:50}).notNull().default("gameplay"),rarity:a("rarity",{length:20}).notNull().default("common"),points:e("points").default(10),requirement:p("requirement"),isGlobal:c("is_global").default(!1),isHidden:c("is_hidden").default(!1),totalUnlocks:e("total_unlocks").default(0),rewardAmount:m("reward_amount",{precision:40,scale:0}),rewardTokenSymbol:a("reward_token_symbol",{length:20}),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),oc=d("player_achievements",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),badgeId:a("badge_id",{length:64}).notNull(),walletAddress:a("wallet_address",{length:66}).notNull(),projectId:a("project_id",{length:64}),progress:e("progress").default(0),isCompleted:c("is_completed").default(!1),rewardClaimed:c("reward_claimed").default(!1),claimTxHash:a("claim_tx_hash",{length:130}),unlockedAt:l("unlocked_at"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),nc=d("gamefi_activity",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),projectId:a("project_id",{length:64}),walletAddress:a("wallet_address",{length:66}),eventType:a("event_type",{length:50}).notNull(),amount:m("amount",{precision:40,scale:0}),assetId:a("asset_id",{length:64}),tournamentId:a("tournament_id",{length:64}),badgeId:a("badge_id",{length:64}),txHash:a("tx_hash",{length:130}),metadata:p("metadata"),createdAt:l("created_at").defaultNow().notNull()}),rc=d("gamefi_stats",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),snapshotAt:l("snapshot_at").defaultNow().notNull(),totalProjects:e("total_projects").default(0),activeProjects:e("active_projects").default(0),totalPlayers:e("total_players").default(0),activePlayers24h:e("active_players_24h").default(0),totalVolume:m("total_volume",{precision:40,scale:0}).default("0"),dailyVolume:m("daily_volume",{precision:40,scale:0}).default("0"),totalRewardsDistributed:m("total_rewards_distributed",{precision:40,scale:0}).default("0"),dailyRewards:m("daily_rewards",{precision:40,scale:0}).default("0"),activeTournaments:e("active_tournaments").default(0),totalTournamentPrize:m("total_tournament_prize",{precision:40,scale:0}).default("0"),totalAssets:e("total_assets").default(0),totalAchievements:e("total_achievements").default(0),createdAt:l("created_at").defaultNow().notNull()});i(Xs).omit({id:!0,createdAt:!0,updatedAt:!0});i(Js).omit({id:!0,createdAt:!0,updatedAt:!0});i(Ys).omit({id:!0,createdAt:!0});i(tc).omit({id:!0,createdAt:!0,updatedAt:!0});i(ec).omit({id:!0,createdAt:!0,updatedAt:!0});i(ac).omit({id:!0,registeredAt:!0});i(lc).omit({id:!0,createdAt:!0,updatedAt:!0});i(oc).omit({id:!0,createdAt:!0,updatedAt:!0});i(nc).omit({id:!0,createdAt:!0});i(rc).omit({id:!0,snapshotAt:!0,createdAt:!0});const uc=d("bridge_chains",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),chainId:e("chain_id").notNull().unique(),name:a("name",{length:100}).notNull(),symbol:a("symbol",{length:20}).notNull(),networkType:a("network_type",{length:30}).notNull().default("mainnet"),rpcUrl:a("rpc_url",{length:512}),explorerUrl:a("explorer_url",{length:512}),iconUrl:a("icon_url",{length:512}),nativeCurrency:a("native_currency",{length:20}).notNull(),nativeDecimals:e("native_decimals").default(18),status:a("status",{length:20}).notNull().default("active"),avgBlockTime:e("avg_block_time").default(12e3),confirmationsRequired:e("confirmations_required").default(12),maxGasPrice:m("max_gas_price",{precision:40,scale:0}),bridgeContractAddress:a("bridge_contract_address",{length:66}),tokenFactoryAddress:a("token_factory_address",{length:66}),totalLiquidity:m("total_liquidity",{precision:40,scale:0}).default("0"),volume24h:m("volume_24h",{precision:40,scale:0}).default("0"),volumeTotal:m("volume_total",{precision:40,scale:0}).default("0"),txCount24h:e("tx_count_24h").default(0),txCountTotal:e("tx_count_total").default(0),avgTransferTime:e("avg_transfer_time").default(6e4),successRate:e("success_rate").default(9900),aiRiskScore:e("ai_risk_score").default(100),isEvm:c("is_evm").default(!0),supportsEip1559:c("supports_eip1559").default(!0),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),dc=d("bridge_routes",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),sourceChainId:e("source_chain_id").notNull(),destinationChainId:e("destination_chain_id").notNull(),tokenAddress:a("token_address",{length:66}).notNull(),tokenSymbol:a("token_symbol",{length:20}).notNull(),tokenDecimals:e("token_decimals").default(18),wrappedTokenAddress:a("wrapped_token_address",{length:66}),routeType:a("route_type",{length:30}).notNull().default("lock_mint"),status:a("status",{length:20}).notNull().default("active"),minAmount:m("min_amount",{precision:40,scale:0}).notNull().default("1000000000000000000"),maxAmount:m("max_amount",{precision:40,scale:0}).notNull().default("1000000000000000000000000"),dailyLimit:m("daily_limit",{precision:40,scale:0}).default("10000000000000000000000000"),dailyUsed:m("daily_used",{precision:40,scale:0}).default("0"),baseFee:m("base_fee",{precision:40,scale:0}).default("0"),feePercent:e("fee_percent").default(30),estimatedTime:e("estimated_time").default(18e4),avgTime:e("avg_time").default(12e4),successRate:e("success_rate").default(9950),volume24h:m("volume_24h",{precision:40,scale:0}).default("0"),volumeTotal:m("volume_total",{precision:40,scale:0}).default("0"),txCount24h:e("tx_count_24h").default(0),txCountTotal:e("tx_count_total").default(0),liquidityAvailable:m("liquidity_available",{precision:40,scale:0}).default("0"),aiOptimized:c("ai_optimized").default(!0),aiPriority:e("ai_priority").default(50),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),ic=d("bridge_transfers",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),routeId:a("route_id",{length:64}),sourceChainId:e("source_chain_id").notNull(),destinationChainId:e("destination_chain_id").notNull(),senderAddress:a("sender_address",{length:66}).notNull(),recipientAddress:a("recipient_address",{length:66}).notNull(),tokenAddress:a("token_address",{length:66}).notNull(),tokenSymbol:a("token_symbol",{length:20}).notNull(),amount:m("amount",{precision:40,scale:0}).notNull(),amountReceived:m("amount_received",{precision:40,scale:0}),feeAmount:m("fee_amount",{precision:40,scale:0}).default("0"),feeToken:a("fee_token",{length:20}),status:a("status",{length:30}).notNull().default("pending"),sourceTxHash:a("source_tx_hash",{length:130}),destinationTxHash:a("destination_tx_hash",{length:130}),sourceBlockNumber:h("source_block_number",{mode:"number"}),destinationBlockNumber:h("destination_block_number",{mode:"number"}),confirmations:e("confirmations").default(0),requiredConfirmations:e("required_confirmations").default(12),estimatedArrival:l("estimated_arrival"),actualArrival:l("actual_arrival"),errorMessage:t("error_message"),retryCount:e("retry_count").default(0),aiVerified:c("ai_verified").default(!1),aiRiskScore:e("ai_risk_score"),aiRiskFactors:p("ai_risk_factors"),metadata:p("metadata"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),sc=d("bridge_liquidity_pools",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),chainId:e("chain_id").notNull(),tokenAddress:a("token_address",{length:66}).notNull(),tokenSymbol:a("token_symbol",{length:20}).notNull(),tokenDecimals:e("token_decimals").default(18),poolAddress:a("pool_address",{length:66}),totalLiquidity:m("total_liquidity",{precision:40,scale:0}).notNull().default("0"),availableLiquidity:m("available_liquidity",{precision:40,scale:0}).notNull().default("0"),lockedLiquidity:m("locked_liquidity",{precision:40,scale:0}).default("0"),utilizationRate:e("utilization_rate").default(0),minLiquidity:m("min_liquidity",{precision:40,scale:0}).default("0"),targetLiquidity:m("target_liquidity",{precision:40,scale:0}).default("0"),lpTokenAddress:a("lp_token_address",{length:66}),lpTokenSupply:m("lp_token_supply",{precision:40,scale:0}).default("0"),lpApy:e("lp_apy").default(0),totalFeesEarned:m("total_fees_earned",{precision:40,scale:0}).default("0"),fees24h:m("fees_24h",{precision:40,scale:0}).default("0"),volume24h:m("volume_24h",{precision:40,scale:0}).default("0"),txCount24h:e("tx_count_24h").default(0),providerCount:e("provider_count").default(0),status:a("status",{length:20}).notNull().default("active"),rebalanceThreshold:e("rebalance_threshold").default(8e3),lastRebalanceAt:l("last_rebalance_at"),aiManagedRebalance:c("ai_managed_rebalance").default(!0),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),cc=d("bridge_liquidity_providers",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),poolId:a("pool_id",{length:64}).notNull(),providerAddress:a("provider_address",{length:66}).notNull(),depositedAmount:m("deposited_amount",{precision:40,scale:0}).notNull().default("0"),lpTokenBalance:m("lp_token_balance",{precision:40,scale:0}).notNull().default("0"),sharePercent:e("share_percent").default(0),pendingRewards:m("pending_rewards",{precision:40,scale:0}).default("0"),claimedRewards:m("claimed_rewards",{precision:40,scale:0}).default("0"),totalEarned:m("total_earned",{precision:40,scale:0}).default("0"),depositTxHash:a("deposit_tx_hash",{length:130}),lastClaimAt:l("last_claim_at"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),_c=d("bridge_validators",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),address:a("address",{length:66}).notNull().unique(),name:a("name",{length:100}),operatorAddress:a("operator_address",{length:66}),status:a("status",{length:20}).notNull().default("active"),stake:m("stake",{precision:40,scale:0}).notNull().default("0"),minStake:m("min_stake",{precision:40,scale:0}).default("100000000000000000000000"),commission:e("commission").default(500),uptime:e("uptime").default(1e4),attestationsProcessed:e("attestations_processed").default(0),attestationsValid:e("attestations_valid").default(0),attestationsFailed:e("attestations_failed").default(0),slashCount:e("slash_count").default(0),slashedAmount:m("slashed_amount",{precision:40,scale:0}).default("0"),rewardsEarned:m("rewards_earned",{precision:40,scale:0}).default("0"),rewardsClaimed:m("rewards_claimed",{precision:40,scale:0}).default("0"),supportedChains:p("supported_chains"),avgResponseTime:e("avg_response_time").default(0),lastActiveAt:l("last_active_at"),aiTrustScore:e("ai_trust_score").default(8e3),reputationScore:e("reputation_score").default(8500),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),mc=d("bridge_fee_configs",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),routeId:a("route_id",{length:64}),sourceChainId:e("source_chain_id"),destinationChainId:e("destination_chain_id"),tokenSymbol:a("token_symbol",{length:20}),feeType:a("fee_type",{length:30}).notNull().default("dynamic"),baseFee:m("base_fee",{precision:40,scale:0}).default("0"),percentFee:e("percent_fee").default(30),minFee:m("min_fee",{precision:40,scale:0}).default("0"),maxFee:m("max_fee",{precision:40,scale:0}),gasMultiplier:e("gas_multiplier").default(150),tierThresholds:p("tier_thresholds"),tierDiscounts:p("tier_discounts"),aiAdjustment:e("ai_adjustment").default(0),isActive:c("is_active").default(!0),validFrom:l("valid_from"),validTo:l("valid_to"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),pc=d("bridge_security_events",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),eventType:a("event_type",{length:50}).notNull(),severity:a("severity",{length:20}).notNull().default("medium"),sourceChainId:e("source_chain_id"),destinationChainId:e("destination_chain_id"),transferId:a("transfer_id",{length:64}),validatorId:a("validator_id",{length:64}),walletAddress:a("wallet_address",{length:66}),txHash:a("tx_hash",{length:130}),amount:m("amount",{precision:40,scale:0}),description:t("description"),aiDetected:c("ai_detected").default(!1),aiConfidence:e("ai_confidence"),aiRecommendation:t("ai_recommendation"),status:a("status",{length:20}).notNull().default("active"),resolvedAt:l("resolved_at"),resolvedBy:a("resolved_by",{length:66}),metadata:p("metadata"),createdAt:l("created_at").defaultNow().notNull()}),fc=d("bridge_analytics",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),snapshotAt:l("snapshot_at").defaultNow().notNull(),totalChains:e("total_chains").default(0),activeChains:e("active_chains").default(0),totalRoutes:e("total_routes").default(0),activeRoutes:e("active_routes").default(0),totalValidators:e("total_validators").default(0),activeValidators:e("active_validators").default(0),totalLiquidity:m("total_liquidity",{precision:40,scale:0}).default("0"),totalVolume:m("total_volume",{precision:40,scale:0}).default("0"),volume24h:m("volume_24h",{precision:40,scale:0}).default("0"),volume7d:m("volume_7d",{precision:40,scale:0}).default("0"),transferCount24h:e("transfer_count_24h").default(0),transferCountTotal:e("transfer_count_total").default(0),uniqueUsers24h:e("unique_users_24h").default(0),uniqueUsersTotal:e("unique_users_total").default(0),avgTransferTime:e("avg_transfer_time").default(0),successRate:e("success_rate").default(9900),totalFees:m("total_fees",{precision:40,scale:0}).default("0"),fees24h:m("fees_24h",{precision:40,scale:0}).default("0"),securityEventsCount:e("security_events_count").default(0),aiInterventions:e("ai_interventions").default(0),topSourceChain:e("top_source_chain"),topDestinationChain:e("top_destination_chain"),topToken:a("top_token",{length:20}),createdAt:l("created_at").defaultNow().notNull()}),Nc=d("bridge_activity",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),eventType:a("event_type",{length:50}).notNull(),chainId:e("chain_id"),transferId:a("transfer_id",{length:64}),validatorId:a("validator_id",{length:64}),poolId:a("pool_id",{length:64}),walletAddress:a("wallet_address",{length:66}),amount:m("amount",{precision:40,scale:0}),tokenSymbol:a("token_symbol",{length:20}),txHash:a("tx_hash",{length:130}),metadata:p("metadata"),createdAt:l("created_at").defaultNow().notNull()});i(uc).omit({id:!0,createdAt:!0,updatedAt:!0});i(dc).omit({id:!0,createdAt:!0,updatedAt:!0});i(ic).omit({id:!0,createdAt:!0,updatedAt:!0});i(sc).omit({id:!0,createdAt:!0,updatedAt:!0});i(cc).omit({id:!0,createdAt:!0,updatedAt:!0});i(_c).omit({id:!0,createdAt:!0,updatedAt:!0});i(mc).omit({id:!0,createdAt:!0,updatedAt:!0});i(pc).omit({id:!0,createdAt:!0});i(fc).omit({id:!0,snapshotAt:!0,createdAt:!0});i(Nc).omit({id:!0,createdAt:!0});const gc=d("community_posts",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),authorId:e("author_id").notNull(),authorAddress:a("author_address",{length:66}).notNull(),authorUsername:a("author_username",{length:100}),title:a("title",{length:256}).notNull(),titleKo:a("title_ko",{length:500}),content:t("content").notNull(),contentKo:t("content_ko"),category:a("category",{length:50}).notNull().default("general"),tags:t("tags").array().default([]),status:a("status",{length:20}).notNull().default("active"),isPinned:c("is_pinned").default(!1),isHot:c("is_hot").default(!1),isLocked:c("is_locked").default(!1),likes:e("likes").default(0),views:e("views").default(0),commentCount:e("comment_count").default(0),lastActivityAt:l("last_activity_at").defaultNow(),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),yc=d("community_comments",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),postId:a("post_id",{length:64}).notNull(),authorId:e("author_id").notNull(),authorAddress:a("author_address",{length:66}).notNull(),authorUsername:a("author_username",{length:100}),content:t("content").notNull(),parentCommentId:a("parent_comment_id",{length:64}),likes:e("likes").default(0),isEdited:c("is_edited").default(!1),status:a("status",{length:20}).notNull().default("active"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),hc=d("community_events",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),title:a("title",{length:256}).notNull(),titleKo:a("title_ko",{length:256}),description:t("description").notNull(),descriptionKo:t("description_ko"),eventType:a("event_type",{length:30}).notNull().default("meetup"),startDate:l("start_date").notNull(),endDate:l("end_date").notNull(),location:a("location",{length:256}),isOnline:c("is_online").default(!0),meetingUrl:a("meeting_url",{length:512}),participants:e("participants").default(0),maxParticipants:e("max_participants"),rewards:a("rewards",{length:100}),status:a("status",{length:20}).notNull().default("upcoming"),organizerId:e("organizer_id"),coverImage:a("cover_image",{length:512}),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),Ac=d("community_announcements",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),title:a("title",{length:256}).notNull(),titleKo:a("title_ko",{length:256}),content:t("content").notNull(),contentKo:t("content_ko"),announcementType:a("announcement_type",{length:30}).notNull().default("news"),isImportant:c("is_important").default(!1),isPinned:c("is_pinned").default(!1),expiresAt:l("expires_at"),authorId:e("author_id"),views:e("views").default(0),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),vc=d("community_badges",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),name:a("name",{length:100}).notNull(),description:t("description").notNull(),icon:a("icon",{length:50}).notNull(),rarity:a("rarity",{length:20}).notNull().default("common"),category:a("category",{length:50}).notNull().default("general"),requirement:t("requirement"),requirementValue:e("requirement_value"),isAutoAwarded:c("is_auto_awarded").default(!1),pointsValue:e("points_value").default(10),totalAwarded:e("total_awarded").default(0),createdAt:l("created_at").defaultNow().notNull()}),bc=d("community_user_badges",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),userId:e("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),badgeId:a("badge_id",{length:64}).notNull(),progress:e("progress").default(0),isCompleted:c("is_completed").default(!1),earnedAt:l("earned_at"),createdAt:l("created_at").defaultNow().notNull()}),wc=d("community_activity",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),userId:e("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),username:a("username",{length:100}),activityType:a("activity_type",{length:30}).notNull(),action:a("action",{length:100}).notNull(),targetId:a("target_id",{length:64}),targetTitle:a("target_title",{length:256}),amount:a("amount",{length:100}),metadata:p("metadata"),createdAt:l("created_at").defaultNow().notNull()}),kc=d("community_reputation",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),userId:e("user_id").notNull().unique(),userAddress:a("user_address",{length:66}).notNull(),reputation:e("reputation").default(0),level:e("level").default(1),contributions:e("contributions").default(0),postsCount:e("posts_count").default(0),commentsCount:e("comments_count").default(0),likesReceived:e("likes_received").default(0),likesGiven:e("likes_given").default(0),proposalsCreated:e("proposals_created").default(0),proposalsVoted:e("proposals_voted").default(0),eventsAttended:e("events_attended").default(0),badgesEarned:e("badges_earned").default(0),lastActivityAt:l("last_activity_at").defaultNow(),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()});i(gc).omit({id:!0,likes:!0,views:!0,commentCount:!0,lastActivityAt:!0,createdAt:!0,updatedAt:!0});i(yc).omit({id:!0,likes:!0,isEdited:!0,createdAt:!0,updatedAt:!0});i(hc).omit({id:!0,participants:!0,createdAt:!0,updatedAt:!0});i(Ac).omit({id:!0,views:!0,createdAt:!0,updatedAt:!0});i(vc).omit({id:!0,totalAwarded:!0,createdAt:!0});i(bc).omit({id:!0,createdAt:!0});i(wc).omit({id:!0,createdAt:!0});i(kc).omit({id:!0,createdAt:!0,updatedAt:!0});const Sc=d("community_post_reactions",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),postId:a("post_id",{length:64}).notNull(),userId:e("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),reactionType:a("reaction_type",{length:10}).notNull(),createdAt:l("created_at").defaultNow().notNull()}),Tc=d("community_comment_reactions",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),commentId:a("comment_id",{length:64}).notNull(),userId:e("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),reactionType:a("reaction_type",{length:10}).notNull(),createdAt:l("created_at").defaultNow().notNull()}),xc=d("community_event_registrations",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),eventId:a("event_id",{length:64}).notNull(),userId:e("user_id").notNull(),userAddress:a("user_address",{length:66}).notNull(),username:a("username",{length:100}),status:a("status",{length:20}).notNull().default("registered"),registeredAt:l("registered_at").defaultNow().notNull(),attendedAt:l("attended_at"),cancelledAt:l("cancelled_at")});i(Sc).omit({id:!0,createdAt:!0});i(Tc).omit({id:!0,createdAt:!0});i(xc).omit({id:!0,registeredAt:!0,attendedAt:!0,cancelledAt:!0});const Pc=d("shard_configurations",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),currentShardCount:e("current_shard_count").notNull().default(5),minShards:e("min_shards").notNull().default(5),maxShards:e("max_shards").notNull().default(64),validatorsPerShard:e("validators_per_shard").notNull().default(25),tpsPerShard:e("tps_per_shard").notNull().default(1e4),crossShardLatencyMs:e("cross_shard_latency_ms").notNull().default(50),rebalanceThreshold:S("rebalance_threshold").notNull().default(.3),scalingMode:a("scaling_mode",{length:20}).notNull().default("automatic"),cooldownMinutes:e("cooldown_minutes").notNull().default(5),version:e("version").notNull().default(1),isActive:c("is_active").notNull().default(!0),healthStatus:a("health_status",{length:20}).notNull().default("healthy"),lastHealthCheck:l("last_health_check").defaultNow(),changedBy:a("changed_by",{length:100}),changeReason:t("change_reason"),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),Ic=d("shard_config_history",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),configId:a("config_id",{length:64}).notNull(),version:e("version").notNull(),configSnapshot:p("config_snapshot").notNull(),changedBy:a("changed_by",{length:100}).notNull(),changeReason:t("change_reason"),changeType:a("change_type",{length:30}).notNull().default("update"),previousShardCount:e("previous_shard_count"),newShardCount:e("new_shard_count"),affectedShards:p("affected_shards").default([]),estimatedDowntime:e("estimated_downtime_seconds").default(0),rollbackable:c("rollbackable").notNull().default(!0),rolledBackAt:l("rolled_back_at"),rolledBackBy:a("rolled_back_by",{length:100}),createdAt:l("created_at").defaultNow().notNull()}),Cc=d("shard_scaling_events",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),eventType:a("event_type",{length:30}).notNull(),status:a("status",{length:20}).notNull().default("pending"),fromShards:e("from_shards").notNull(),toShards:e("to_shards").notNull(),triggerReason:t("trigger_reason"),triggeredBy:a("triggered_by",{length:100}).notNull(),affectedValidators:e("affected_validators").default(0),estimatedDuration:e("estimated_duration_seconds").default(0),actualDuration:e("actual_duration_seconds"),success:c("success"),errorMessage:t("error_message"),startedAt:l("started_at").defaultNow().notNull(),completedAt:l("completed_at")}),Dc=d("shard_config_audit_logs",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),action:a("action",{length:50}).notNull(),actor:a("actor",{length:100}).notNull(),severity:a("severity",{length:20}).notNull().default("info"),oldValue:p("old_value"),newValue:p("new_value"),details:p("details").default({}),status:a("status",{length:20}).notNull().default("success"),errorMessage:t("error_message"),ipAddress:a("ip_address",{length:45}),userAgent:t("user_agent"),createdAt:l("created_at").defaultNow().notNull()});i(Pc).omit({id:!0,createdAt:!0,updatedAt:!0});i(Ic).omit({id:!0,createdAt:!0});i(Cc).omit({id:!0,startedAt:!0,completedAt:!0});i(Dc).omit({id:!0,createdAt:!0});const Rc=d("wallet_performance_history",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),timeframe:t("timeframe").notNull().default("1D"),balanceEmber:t("balance_ember").notNull().default("0"),balanceUsd:t("balance_usd").notNull().default("0"),pnl24h:t("pnl_24h").notNull().default("0"),pnl7d:t("pnl_7d").notNull().default("0"),pnlPercentage24h:e("pnl_percentage_24h").notNull().default(0),pnlPercentage7d:e("pnl_percentage_7d").notNull().default(0),epoch:h("epoch",{mode:"number"}).notNull().default(0),source:t("source").notNull().default("node"),snapshotAt:l("snapshot_at").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow()}),qc=d("wallet_action_log",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),actionType:t("action_type").notNull(),status:t("status").notNull().default("pending"),amount:t("amount").notNull().default("0"),amountUsd:t("amount_usd").notNull().default("0"),toAddress:t("to_address"),fromAddress:t("from_address"),txHash:t("tx_hash"),blockNumber:h("block_number",{mode:"number"}),gasUsed:h("gas_used",{mode:"number"}),gasPrice:t("gas_price"),fee:t("fee").default("0"),tokenPair:t("token_pair"),swapRate:t("swap_rate"),slippage:e("slippage"),metadata:p("metadata"),errorMessage:t("error_message"),initiatedAt:l("initiated_at").notNull().defaultNow(),confirmedAt:l("confirmed_at"),failedAt:l("failed_at"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Kc=d("wallet_streaming_checkpoint",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull().unique(),lastEventId:t("last_event_id").notNull().default("0"),lastBlockNumber:h("last_block_number",{mode:"number"}).notNull().default(0),lastEventTimestamp:l("last_event_timestamp").notNull().defaultNow(),streamType:t("stream_type").notNull().default("all"),isActive:c("is_active").notNull().default(!0),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()});i(Rc).omit({id:!0,createdAt:!0});i(qc).omit({id:!0,createdAt:!0,updatedAt:!0});i(Kc).omit({id:!0,createdAt:!0,updatedAt:!0});const Bc=d("testnet_wallets",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),address:a("address",{length:66}).notNull().unique(),balance:m("balance",{precision:40,scale:0}).notNull().default("0"),nonce:e("nonce").notNull().default(0),txCount:e("tx_count").notNull().default(0),firstSeenAt:l("first_seen_at").defaultNow().notNull(),lastActiveAt:l("last_active_at").defaultNow().notNull(),createdAt:l("created_at").defaultNow().notNull(),updatedAt:l("updated_at").defaultNow().notNull()}),Uc=d("testnet_transactions",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),hash:a("hash",{length:130}).notNull().unique(),blockNumber:h("block_number",{mode:"number"}).notNull(),fromAddress:a("from_address",{length:66}).notNull(),toAddress:a("to_address",{length:66}).notNull(),value:m("value",{precision:40,scale:0}).notNull().default("0"),gasPrice:m("gas_price",{precision:40,scale:0}).notNull().default("100"),gasUsed:e("gas_used").notNull().default(21e3),gasLimit:e("gas_limit").notNull().default(21e3),nonce:e("nonce").notNull().default(0),status:a("status",{length:20}).notNull().default("confirmed"),txType:a("tx_type",{length:30}).notNull().default("transfer"),input:t("input").default("0x"),createdAt:l("created_at").defaultNow().notNull()}),Vc=d("testnet_blocks",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),number:h("number",{mode:"number"}).notNull().unique(),hash:a("hash",{length:130}).notNull().unique(),parentHash:a("parent_hash",{length:130}).notNull(),timestamp:l("timestamp").defaultNow().notNull(),transactionCount:e("transaction_count").notNull().default(0),gasUsed:h("gas_used",{mode:"number"}).notNull().default(0),gasLimit:h("gas_limit",{mode:"number"}).notNull().default(15e6),validator:a("validator",{length:66}).notNull(),size:e("size").notNull().default(0),createdAt:l("created_at").defaultNow().notNull()}),Mc=d("testnet_faucet_requests",{id:a("id",{length:64}).primaryKey().default(s`gen_random_uuid()`),walletAddress:a("wallet_address",{length:66}).notNull(),amount:m("amount",{precision:40,scale:0}).notNull().default("1000000000000000000000"),txHash:a("tx_hash",{length:130}),status:a("status",{length:20}).notNull().default("pending"),ipAddress:a("ip_address",{length:45}),userAgent:t("user_agent"),createdAt:l("created_at").defaultNow().notNull(),completedAt:l("completed_at")});i(Bc).omit({id:!0,createdAt:!0,updatedAt:!0});i(Uc).omit({id:!0,createdAt:!0});i(Vc).omit({id:!0,createdAt:!0});i(Mc).omit({id:!0,createdAt:!0});const zc=d("genesis_config",{id:a("id").primaryKey().default(s`gen_random_uuid()`),chainId:e("chain_id").notNull().default(8888),chainName:t("chain_name").notNull().default("TBURN Mainnet"),networkVersion:t("network_version").notNull().default("v8.0"),genesisTimestamp:h("genesis_timestamp",{mode:"number"}),genesisBlockHash:t("genesis_block_hash"),initialDifficulty:t("initial_difficulty").notNull().default("1"),blockTimeMs:e("block_time_ms").notNull().default(100),totalSupply:t("total_supply").notNull().default("10000000000000000000000000000"),decimals:e("decimals").notNull().default(18),tokenSymbol:t("token_symbol").notNull().default("TBURN"),tokenName:t("token_name").notNull().default("TBURN Token"),initialPrice:t("initial_price").notNull().default("0.50"),minValidatorStake:t("min_validator_stake").notNull().default("100000000000000000000000"),maxValidatorCount:e("max_validator_count").notNull().default(125),initialValidatorCount:e("initial_validator_count").notNull().default(21),stakingRewardRate:e("staking_reward_rate").notNull().default(1250),consensusType:t("consensus_type").notNull().default("ai_committee_bft"),committeeSize:e("committee_size").notNull().default(21),blockProducerCount:e("block_producer_count").notNull().default(7),quorumThreshold:e("quorum_threshold").notNull().default(6700),initialShardCount:e("initial_shard_count").notNull().default(8),maxShardCount:e("max_shard_count").notNull().default(128),status:t("status").notNull().default("draft"),isExecuted:c("is_executed").notNull().default(!1),executedAt:l("executed_at"),executedBy:t("executed_by"),executionTxHash:t("execution_tx_hash"),preflightChecks:p("preflight_checks"),preflightPassedAt:l("preflight_passed_at"),requiredSignatures:e("required_signatures").notNull().default(3),totalSigners:e("total_signers").notNull().default(5),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow(),createdBy:t("created_by"),lastModifiedBy:t("last_modified_by")}),Ec=d("genesis_validators",{id:a("id").primaryKey().default(s`gen_random_uuid()`),configId:a("config_id").notNull(),address:t("address").notNull(),name:t("name").notNull(),description:t("description"),website:t("website"),contactEmail:t("contact_email"),initialStake:t("initial_stake").notNull(),selfDelegation:t("self_delegation").notNull().default("0"),commission:e("commission").notNull().default(500),nodePublicKey:t("node_public_key").notNull(),nodeEndpoint:t("node_endpoint"),p2pPort:e("p2p_port").notNull().default(30303),rpcPort:e("rpc_port").notNull().default(8545),tier:t("tier").notNull().default("genesis"),priority:e("priority").notNull().default(0),isVerified:c("is_verified").notNull().default(!1),verifiedAt:l("verified_at"),verifiedBy:t("verified_by"),kycStatus:t("kyc_status").notNull().default("pending"),kycDocumentId:t("kyc_document_id"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Lc=d("genesis_distribution",{id:a("id").primaryKey().default(s`gen_random_uuid()`),configId:a("config_id").notNull(),category:t("category").notNull(),subcategory:t("subcategory"),recipientName:t("recipient_name").notNull(),recipientAddress:t("recipient_address").notNull(),recipientType:t("recipient_type").notNull().default("wallet"),amount:t("amount").notNull(),percentage:e("percentage").notNull(),hasVesting:c("has_vesting").notNull().default(!1),vestingStartDate:l("vesting_start_date"),vestingEndDate:l("vesting_end_date"),vestingCliffMonths:e("vesting_cliff_months").default(0),vestingDurationMonths:e("vesting_duration_months").default(0),vestingSchedule:p("vesting_schedule"),isLocked:c("is_locked").notNull().default(!1),lockDurationDays:e("lock_duration_days").default(0),unlockDate:l("unlock_date"),status:t("status").notNull().default("pending"),distributedAt:l("distributed_at"),distributionTxHash:t("distribution_tx_hash"),verificationProof:t("verification_proof"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Fc=d("genesis_approvals",{id:a("id").primaryKey().default(s`gen_random_uuid()`),configId:a("config_id").notNull(),signerAddress:t("signer_address").notNull(),signerName:t("signer_name").notNull(),signerRole:t("signer_role").notNull(),signerOrder:e("signer_order").notNull().default(0),status:t("status").notNull().default("pending"),approvedAt:l("approved_at"),rejectedAt:l("rejected_at"),rejectionReason:t("rejection_reason"),signature:t("signature"),signatureType:t("signature_type").notNull().default("eip712"),signedMessage:t("signed_message"),signedAt:l("signed_at"),hardwareWalletType:t("hardware_wallet_type"),derivationPath:t("derivation_path"),isVerified:c("is_verified").notNull().default(!1),verifiedAt:l("verified_at"),verificationHash:t("verification_hash"),comments:t("comments"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),jc=d("genesis_execution_log",{id:a("id").primaryKey().default(s`gen_random_uuid()`),configId:a("config_id").notNull(),logType:t("log_type").notNull(),severity:t("severity").notNull().default("info"),action:t("action").notNull(),description:t("description").notNull(),details:p("details"),actorAddress:t("actor_address"),actorName:t("actor_name"),actorRole:t("actor_role"),referenceType:t("reference_type"),referenceId:t("reference_id"),txHash:t("tx_hash"),blockNumber:h("block_number",{mode:"number"}),logHash:t("log_hash"),previousLogHash:t("previous_log_hash"),ipAddress:t("ip_address"),userAgent:t("user_agent"),sessionId:t("session_id"),createdAt:l("created_at").notNull().defaultNow()}),Hc=d("genesis_preflight_checks",{id:a("id").primaryKey().default(s`gen_random_uuid()`),configId:a("config_id").notNull(),checkName:t("check_name").notNull(),checkCategory:t("check_category").notNull(),checkDescription:t("check_description").notNull(),status:t("status").notNull().default("pending"),result:p("result"),errorMessage:t("error_message"),warningMessage:t("warning_message"),expectedValue:t("expected_value"),actualValue:t("actual_value"),tolerance:t("tolerance"),isCritical:c("is_critical").notNull().default(!1),isRequired:c("is_required").notNull().default(!0),priority:e("priority").notNull().default(0),executedAt:l("executed_at"),executionDurationMs:e("execution_duration_ms"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Qc=d("newsletter_subscribers",{id:a("id").primaryKey().default(s`gen_random_uuid()`),email:a("email",{length:255}).notNull().unique(),status:a("status",{length:50}).notNull().default("active"),source:a("source",{length:100}).default("footer"),ipAddress:a("ip_address",{length:45}),subscribedAt:l("subscribed_at").notNull().defaultNow(),unsubscribedAt:l("unsubscribed_at")});i(Qc).omit({id:!0,subscribedAt:!0,unsubscribedAt:!0});i(zc).omit({id:!0,createdAt:!0,updatedAt:!0});i(Ec).omit({id:!0,createdAt:!0,updatedAt:!0});i(Lc).omit({id:!0,createdAt:!0,updatedAt:!0});i(Fc).omit({id:!0,createdAt:!0,updatedAt:!0});i(jc).omit({id:!0,createdAt:!0});i(Hc).omit({id:!0,createdAt:!0,updatedAt:!0});const Oc=d("user_mining_rewards",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),amount:t("amount").notNull(),source:t("source").notNull(),epoch:e("epoch").notNull(),blockNumber:e("block_number"),txHash:t("tx_hash"),claimed:c("claimed").notNull().default(!1),claimedAt:l("claimed_at"),metadata:p("metadata").notNull().default({}),createdAt:l("created_at").notNull().defaultNow()}),$c=d("user_staking_positions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),validatorId:t("validator_id").notNull(),validatorName:t("validator_name"),stakedAmount:t("staked_amount").notNull(),shares:t("shares").notNull().default("0"),currentValue:t("current_value").notNull(),currentApy:t("current_apy").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),totalRewardsEarned:t("total_rewards_earned").notNull().default("0"),status:t("status").notNull().default("active"),lockPeriodDays:e("lock_period_days").default(0),unlockDate:l("unlock_date"),stakedAt:l("staked_at").notNull().defaultNow(),lastRewardAt:l("last_reward_at"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Gc=d("user_staking_rewards",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),positionId:t("position_id"),validatorId:t("validator_id"),amount:t("amount").notNull(),rewardType:t("reward_type").notNull(),epoch:e("epoch").notNull(),apy:t("apy"),txHash:t("tx_hash"),claimed:c("claimed").notNull().default(!1),claimedAt:l("claimed_at"),autoCompounded:c("auto_compounded").notNull().default(!1),createdAt:l("created_at").notNull().defaultNow()}),Wc=d("user_event_participation",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),eventId:t("event_id").notNull(),eventName:t("event_name").notNull(),eventType:t("event_type").notNull(),eventDescription:t("event_description"),status:t("status").notNull().default("pending"),eligibilityReason:t("eligibility_reason"),rewardAmount:t("reward_amount"),rewardToken:t("reward_token").default("TB"),rewardTxHash:t("reward_tx_hash"),eventStartDate:l("event_start_date"),eventEndDate:l("event_end_date"),claimDeadline:l("claim_deadline"),awardedAt:l("awarded_at"),claimedAt:l("claimed_at"),metadata:p("metadata").notNull().default({}),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Zc=d("user_activity_log",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),activityType:t("activity_type").notNull(),category:t("category").notNull(),title:t("title").notNull(),description:t("description"),amount:t("amount"),token:t("token").default("TB"),txHash:t("tx_hash"),referenceId:t("reference_id"),referenceType:t("reference_type"),metadata:p("metadata").notNull().default({}),createdAt:l("created_at").notNull().defaultNow()});i(Oc).omit({id:!0,createdAt:!0});i($c).omit({id:!0,createdAt:!0,updatedAt:!0});i(Gc).omit({id:!0,createdAt:!0});i(Wc).omit({id:!0,createdAt:!0,updatedAt:!0});i(Zc).omit({id:!0,createdAt:!0});const Xc=d("bug_bounty_reports",{id:a("id").primaryKey().default(s`gen_random_uuid()`),reporterEmail:t("reporter_email"),reporterWallet:t("reporter_wallet"),reporterName:t("reporter_name"),title:t("title").notNull(),description:t("description").notNull(),reproductionSteps:t("reproduction_steps"),assetTarget:t("asset_target").notNull().default("smart_contracts"),reportedSeverity:t("reported_severity").notNull().default("medium"),confirmedSeverity:t("confirmed_severity"),status:t("status").notNull().default("pending"),rewardUsd:m("reward_usd"),rewardTokenAmount:t("reward_token_amount"),rewardTxHash:t("reward_tx_hash"),adminNotes:t("admin_notes"),assignedTo:t("assigned_to"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow(),reviewedAt:l("reviewed_at"),paidAt:l("paid_at")});i(Xc).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0,paidAt:!0});const Jc=d("token_programs",{id:a("id").primaryKey().default(s`gen_random_uuid()`),programType:t("program_type").notNull(),name:t("name").notNull(),description:t("description"),pageRoute:t("page_route").notNull(),status:t("status").notNull().default("active"),priority:e("priority").notNull().default(1),totalAllocation:t("total_allocation").notNull().default("0"),distributedAmount:t("distributed_amount").notNull().default("0"),remainingAmount:t("remaining_amount").notNull().default("0"),totalParticipants:e("total_participants").notNull().default(0),activeParticipants:e("active_participants").notNull().default(0),pendingClaims:e("pending_claims").notNull().default(0),totalValueUsd:m("total_value_usd").notNull().default("0"),raisedAmountUsd:m("raised_amount_usd").notNull().default("0"),targetAmountUsd:m("target_amount_usd").notNull().default("0"),progressPercent:S("progress_percent").notNull().default(0),startDate:l("start_date"),endDate:l("end_date"),config:p("config").notNull().default({}),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),Yc=d("program_snapshots",{id:a("id").primaryKey().default(s`gen_random_uuid()`),programId:a("program_id").notNull(),totalParticipants:e("total_participants").notNull().default(0),distributedAmount:t("distributed_amount").notNull().default("0"),remainingAmount:t("remaining_amount").notNull().default("0"),progressPercent:S("progress_percent").notNull().default(0),metrics:p("metrics").notNull().default({}),snapshotDate:l("snapshot_date").notNull().defaultNow(),createdAt:l("created_at").notNull().defaultNow()}),t_=d("airdrop_claims",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),tier:t("tier").notNull().default("basic"),eligibilityScore:e("eligibility_score").notNull().default(0),snapshotBlockNumber:h("snapshot_block_number",{mode:"number"}),claimableAmount:t("claimable_amount").notNull().default("0"),claimedAmount:t("claimed_amount").notNull().default("0"),bonusAmount:t("bonus_amount").notNull().default("0"),status:t("status").notNull().default("eligible"),merkleProof:t("merkle_proof"),signature:t("signature"),verifiedAt:l("verified_at"),claimTxHash:t("claim_tx_hash"),claimBlockNumber:h("claim_block_number",{mode:"number"}),claimedAt:l("claimed_at"),vestingScheduleId:a("vesting_schedule_id"),vestingStartDate:l("vesting_start_date"),vestingEndDate:l("vesting_end_date"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),e_=d("airdrop_distributions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),batchNumber:e("batch_number").notNull(),batchName:t("batch_name"),totalRecipients:e("total_recipients").notNull().default(0),totalAmount:t("total_amount").notNull().default("0"),processedCount:e("processed_count").notNull().default(0),failedCount:e("failed_count").notNull().default(0),status:t("status").notNull().default("pending"),executedBy:a("executed_by"),executionTxHash:t("execution_tx_hash"),startedAt:l("started_at"),completedAt:l("completed_at"),createdAt:l("created_at").notNull().defaultNow()}),a_=d("referral_accounts",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull().unique(),memberId:a("member_id"),referralCode:t("referral_code").notNull().unique(),referredBy:a("referred_by"),tier:t("tier").notNull().default("bronze"),totalReferrals:e("total_referrals").notNull().default(0),activeReferrals:e("active_referrals").notNull().default(0),conversionRate:S("conversion_rate").notNull().default(0),totalEarned:t("total_earned").notNull().default("0"),pendingRewards:t("pending_rewards").notNull().default("0"),claimedRewards:t("claimed_rewards").notNull().default("0"),lifetimeVolume:t("lifetime_volume").notNull().default("0"),directCommissionRate:S("direct_commission_rate").notNull().default(10),indirectCommissionRate:S("indirect_commission_rate").notNull().default(2),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),l_=d("referral_rewards",{id:a("id").primaryKey().default(s`gen_random_uuid()`),referrerId:a("referrer_id").notNull(),referredId:a("referred_id").notNull(),rewardType:t("reward_type").notNull(),rewardAmount:t("reward_amount").notNull().default("0"),bonusAmount:t("bonus_amount").notNull().default("0"),sourceTxHash:t("source_tx_hash"),sourceAmount:t("source_amount"),commissionRate:S("commission_rate"),status:t("status").notNull().default("pending"),payoutTxHash:t("payout_tx_hash"),paidAt:l("paid_at"),createdAt:l("created_at").notNull().defaultNow()}),o_=d("events_catalog",{id:a("id").primaryKey().default(s`gen_random_uuid()`),eventType:t("event_type").notNull(),name:t("name").notNull(),description:t("description"),bannerUrl:t("banner_url"),status:t("status").notNull().default("upcoming"),startDate:l("start_date").notNull(),endDate:l("end_date").notNull(),registrationDeadline:l("registration_deadline"),maxParticipants:e("max_participants"),currentParticipants:e("current_participants").notNull().default(0),totalRewardPool:t("total_reward_pool").notNull().default("0"),distributedRewards:t("distributed_rewards").notNull().default("0"),rewardStructure:p("reward_structure").notNull().default({}),requirements:p("requirements").notNull().default({}),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),n_=d("event_registrations",{id:a("id").primaryKey().default(s`gen_random_uuid()`),eventId:a("event_id").notNull(),walletAddress:t("wallet_address").notNull(),memberId:a("member_id"),registeredAt:l("registered_at").notNull().defaultNow(),completedTasks:p("completed_tasks").notNull().default([]),score:e("score").notNull().default(0),rank:e("rank"),rewardAmount:t("reward_amount").notNull().default("0"),rewardClaimed:c("reward_claimed").notNull().default(!1),rewardClaimTxHash:t("reward_claim_tx_hash"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),r_=d("community_tasks",{id:a("id").primaryKey().default(s`gen_random_uuid()`),taskType:t("task_type").notNull(),name:t("name").notNull(),description:t("description"),pointsReward:e("points_reward").notNull().default(0),tokenReward:t("token_reward").notNull().default("0"),requirements:p("requirements").notNull().default({}),maxCompletions:e("max_completions"),completionCount:e("completion_count").notNull().default(0),dailyLimit:e("daily_limit"),isActive:c("is_active").notNull().default(!0),startDate:l("start_date"),endDate:l("end_date"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),u_=d("community_contributions",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),memberId:a("member_id"),taskId:a("task_id").notNull(),submissionProof:t("submission_proof"),submissionData:p("submission_data").notNull().default({}),status:t("status").notNull().default("pending"),pointsEarned:e("points_earned").notNull().default(0),tokensEarned:t("tokens_earned").notNull().default("0"),reviewedBy:a("reviewed_by"),reviewedAt:l("reviewed_at"),createdAt:l("created_at").notNull().defaultNow()}),d_=d("community_member_badges",{id:a("id").primaryKey().default(s`gen_random_uuid()`),walletAddress:t("wallet_address").notNull(),badgeName:t("badge_name").notNull(),badgeDescription:t("badge_description"),badgeImageUrl:t("badge_image_url"),rarity:t("rarity").notNull().default("common"),earnedReason:t("earned_reason"),achievementData:p("achievement_data").notNull().default({}),earnedAt:l("earned_at").notNull().defaultNow()}),i_=d("dao_proposals",{id:a("id").primaryKey().default(s`gen_random_uuid()`),proposalNumber:e("proposal_number").notNull().unique(),title:t("title").notNull(),description:t("description").notNull(),category:t("category").notNull(),proposerAddress:t("proposer_address").notNull(),proposerPower:t("proposer_power").notNull().default("0"),status:t("status").notNull().default("draft"),votingStartDate:l("voting_start_date"),votingEndDate:l("voting_end_date"),executionDate:l("execution_date"),forVotes:t("for_votes").notNull().default("0"),againstVotes:t("against_votes").notNull().default("0"),abstainVotes:t("abstain_votes").notNull().default("0"),totalVoters:e("total_voters").notNull().default(0),quorumRequired:t("quorum_required").notNull().default("0"),passThreshold:S("pass_threshold").notNull().default(50),executionPayload:p("execution_payload").notNull().default({}),executedTxHash:t("executed_tx_hash"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),s_=d("dao_votes",{id:a("id").primaryKey().default(s`gen_random_uuid()`),proposalId:a("proposal_id").notNull(),voterAddress:t("voter_address").notNull(),choice:t("choice").notNull(),votePower:t("vote_power").notNull().default("0"),delegatedFrom:t("delegated_from"),signature:t("signature"),txHash:t("tx_hash"),votedAt:l("voted_at").notNull().defaultNow()}),c_=d("dao_delegations",{id:a("id").primaryKey().default(s`gen_random_uuid()`),delegatorAddress:t("delegator_address").notNull(),delegateAddress:t("delegate_address").notNull(),delegatedPower:t("delegated_power").notNull().default("0"),isActive:c("is_active").notNull().default(!0),createdAt:l("created_at").notNull().defaultNow(),revokedAt:l("revoked_at")}),__=d("block_reward_cycles",{id:a("id").primaryKey().default(s`gen_random_uuid()`),cycleNumber:e("cycle_number").notNull().unique(),epochNumber:e("epoch_number").notNull(),startBlockNumber:h("start_block_number",{mode:"number"}).notNull(),endBlockNumber:h("end_block_number",{mode:"number"}),totalBlockRewards:t("total_block_rewards").notNull().default("0"),totalGasFees:t("total_gas_fees").notNull().default("0"),proposerRewards:t("proposer_rewards").notNull().default("0"),verifierRewards:t("verifier_rewards").notNull().default("0"),blocksProduced:e("blocks_produced").notNull().default(0),transactionsProcessed:e("transactions_processed").notNull().default(0),status:t("status").notNull().default("active"),distributionStatus:t("distribution_status").notNull().default("pending"),startedAt:l("started_at").notNull().defaultNow(),completedAt:l("completed_at")}),m_=d("block_reward_payouts",{id:a("id").primaryKey().default(s`gen_random_uuid()`),cycleId:a("cycle_id").notNull(),validatorAddress:t("validator_address").notNull(),rewardType:t("reward_type").notNull(),blockNumber:h("block_number",{mode:"number"}),rewardAmount:t("reward_amount").notNull().default("0"),gasFeeShare:t("gas_fee_share").notNull().default("0"),status:t("status").notNull().default("pending"),distributionTxHash:t("distribution_tx_hash"),createdAt:l("created_at").notNull().defaultNow(),distributedAt:l("distributed_at")}),p_=d("validator_incentive_payouts",{id:a("id").primaryKey().default(s`gen_random_uuid()`),validatorAddress:t("validator_address").notNull(),incentiveType:t("incentive_type").notNull(),periodStart:l("period_start").notNull(),periodEnd:l("period_end").notNull(),uptimePercent:S("uptime_percent").notNull().default(100),blocksProposed:e("blocks_proposed").notNull().default(0),blocksVerified:e("blocks_verified").notNull().default(0),performanceScore:S("performance_score").notNull().default(0),baseReward:t("base_reward").notNull().default("0"),bonusMultiplier:S("bonus_multiplier").notNull().default(1),totalPayout:t("total_payout").notNull().default("0"),status:t("status").notNull().default("pending"),approvedBy:a("approved_by"),distributionTxHash:t("distribution_tx_hash"),createdAt:l("created_at").notNull().defaultNow(),distributedAt:l("distributed_at")}),f_=d("validator_performance_stats",{id:a("id").primaryKey().default(s`gen_random_uuid()`),validatorAddress:t("validator_address").notNull(),periodType:t("period_type").notNull(),periodDate:l("period_date").notNull(),uptimePercent:S("uptime_percent").notNull().default(100),responseTimeMs:e("response_time_ms").notNull().default(0),blocksProposed:e("blocks_proposed").notNull().default(0),blocksVerified:e("blocks_verified").notNull().default(0),slashingEvents:e("slashing_events").notNull().default(0),totalRewards:t("total_rewards").notNull().default("0"),delegatorRewards:t("delegator_rewards").notNull().default("0"),createdAt:l("created_at").notNull().defaultNow()}),N_=d("ecosystem_grants",{id:a("id").primaryKey().default(s`gen_random_uuid()`),applicantAddress:t("applicant_address").notNull(),applicantName:t("applicant_name").notNull(),applicantEmail:t("applicant_email"),teamSize:e("team_size").notNull().default(1),projectName:t("project_name").notNull(),projectDescription:t("project_description").notNull(),category:t("category").notNull(),requestedAmount:t("requested_amount").notNull().default("0"),approvedAmount:t("approved_amount").notNull().default("0"),disbursedAmount:t("disbursed_amount").notNull().default("0"),status:t("status").notNull().default("draft"),proposedStartDate:l("proposed_start_date"),proposedEndDate:l("proposed_end_date"),actualStartDate:l("actual_start_date"),actualEndDate:l("actual_end_date"),proposalUrl:t("proposal_url"),repositoryUrl:t("repository_url"),websiteUrl:t("website_url"),reviewedBy:a("reviewed_by"),reviewNotes:t("review_notes"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),g_=d("grant_milestones",{id:a("id").primaryKey().default(s`gen_random_uuid()`),grantId:a("grant_id").notNull(),milestoneNumber:e("milestone_number").notNull(),title:t("title").notNull(),description:t("description"),deliverables:p("deliverables").notNull().default([]),evidenceUrl:t("evidence_url"),paymentAmount:t("payment_amount").notNull().default("0"),paymentPercent:S("payment_percent").notNull().default(0),status:t("status").notNull().default("pending"),dueDate:l("due_date"),submittedAt:l("submitted_at"),approvedAt:l("approved_at"),reviewedBy:a("reviewed_by"),reviewNotes:t("review_notes"),paymentTxHash:t("payment_tx_hash"),paidAt:l("paid_at"),createdAt:l("created_at").notNull().defaultNow()});i(Jc).omit({id:!0,createdAt:!0,updatedAt:!0});i(Yc).omit({id:!0,createdAt:!0});i(t_).omit({id:!0,createdAt:!0,updatedAt:!0});i(e_).omit({id:!0,createdAt:!0});i(a_).omit({id:!0,createdAt:!0,updatedAt:!0});i(l_).omit({id:!0,createdAt:!0});i(o_).omit({id:!0,createdAt:!0,updatedAt:!0});i(n_).omit({id:!0,createdAt:!0,updatedAt:!0});i(r_).omit({id:!0,createdAt:!0,updatedAt:!0});i(u_).omit({id:!0,createdAt:!0});i(d_).omit({id:!0});i(i_).omit({id:!0,createdAt:!0,updatedAt:!0});i(s_).omit({id:!0});i(c_).omit({id:!0,createdAt:!0});i(__).omit({id:!0});i(m_).omit({id:!0,createdAt:!0});i(p_).omit({id:!0,createdAt:!0});i(f_).omit({id:!0,createdAt:!0});i(N_).omit({id:!0,createdAt:!0,updatedAt:!0});i(g_).omit({id:!0,createdAt:!0});const y_=d("partnerships",{id:a("id").primaryKey().default(s`gen_random_uuid()`),partnerName:t("partner_name").notNull(),partnerType:t("partner_type").notNull(),tier:t("tier").notNull().default("bronze"),contactName:t("contact_name"),contactEmail:t("contact_email"),contactPhone:t("contact_phone"),website:t("website"),allocatedAmount:t("allocated_amount").notNull().default("0"),vestingSchedule:t("vesting_schedule").default("linear"),vestingDuration:e("vesting_duration").default(12),distributedAmount:t("distributed_amount").notNull().default("0"),agreementStartDate:l("agreement_start_date"),agreementEndDate:l("agreement_end_date"),contractUrl:t("contract_url"),totalVolume:t("total_volume").notNull().default("0"),totalTransactions:e("total_transactions").notNull().default(0),status:t("status").notNull().default("draft"),notes:t("notes"),createdBy:a("created_by"),approvedBy:a("approved_by"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),h_=d("partnership_payouts",{id:a("id").primaryKey().default(s`gen_random_uuid()`),partnershipId:a("partnership_id").notNull(),amount:t("amount").notNull(),paymentType:t("payment_type").notNull(),description:t("description"),status:t("status").notNull().default("pending"),txHash:t("tx_hash"),paidAt:l("paid_at"),approvedBy:a("approved_by"),createdAt:l("created_at").notNull().defaultNow()});i(y_).omit({id:!0,createdAt:!0,updatedAt:!0});i(h_).omit({id:!0,createdAt:!0});const A_=d("marketing_campaigns",{id:a("id").primaryKey(),name:t("name").notNull(),description:t("description"),campaignType:t("campaign_type").notNull().default("social_media"),channel:t("channel").notNull().default("twitter"),targetAudience:t("target_audience"),budgetAmount:t("budget_amount").notNull().default("0"),spentAmount:t("spent_amount").notNull().default("0"),rewardPerAction:t("reward_per_action").notNull().default("0"),totalParticipants:e("total_participants").notNull().default(0),totalReach:e("total_reach").notNull().default(0),totalEngagements:e("total_engagements").notNull().default(0),totalConversions:e("total_conversions").notNull().default(0),startDate:l("start_date"),endDate:l("end_date"),status:t("status").notNull().default("draft"),goals:p("goals"),requirements:p("requirements"),createdBy:a("created_by"),approvedBy:a("approved_by"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),v_=d("marketing_participants",{id:a("id").primaryKey(),campaignId:a("campaign_id").notNull(),walletAddress:t("wallet_address").notNull(),username:t("username"),platform:t("platform").notNull(),actionsCompleted:e("actions_completed").notNull().default(0),totalRewards:t("total_rewards").notNull().default("0"),referralCode:t("referral_code"),referralCount:e("referral_count").notNull().default(0),status:t("status").notNull().default("active"),joinedAt:l("joined_at").notNull().defaultNow(),lastActivity:l("last_activity")}),b_=d("marketing_rewards",{id:a("id").primaryKey(),campaignId:a("campaign_id").notNull(),participantId:a("participant_id").notNull(),actionType:t("action_type").notNull(),rewardAmount:t("reward_amount").notNull(),status:t("status").notNull().default("pending"),txHash:t("tx_hash"),metadata:p("metadata"),verifiedAt:l("verified_at"),paidAt:l("paid_at"),createdAt:l("created_at").notNull().defaultNow()});i(A_).omit({id:!0,createdAt:!0,updatedAt:!0});i(v_).omit({id:!0,joinedAt:!0});i(b_).omit({id:!0,createdAt:!0});const w_=d("strategic_partners",{id:a("id").primaryKey(),name:t("name").notNull(),description:t("description"),partnerType:t("partner_type").notNull().default("ecosystem"),contractType:t("contract_type").notNull().default("token_allocation"),logoUrl:t("logo_url"),website:t("website"),contactEmail:t("contact_email"),contactPerson:t("contact_person"),walletAddress:t("wallet_address"),allocation:t("allocation").notNull().default("0"),distributedAmount:t("distributed_amount").notNull().default("0"),lockedAmount:t("locked_amount").notNull().default("0"),vestingType:t("vesting_type").notNull().default("cliff_linear"),vestingStartDate:l("vesting_start_date"),vestingEndDate:l("vesting_end_date"),cliffMonths:e("cliff_months").notNull().default(6),vestingMonths:e("vesting_months").notNull().default(24),tgePercentage:e("tge_percentage").notNull().default(10),contractSignedDate:l("contract_signed_date"),partnerSince:l("partner_since"),status:t("status").notNull().default("pending"),tier:t("tier").notNull().default("standard"),notes:t("notes"),milestones:p("milestones"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),k_=d("strategic_partner_payouts",{id:a("id").primaryKey(),partnerId:a("partner_id").notNull(),amount:t("amount").notNull(),payoutType:t("payout_type").notNull().default("vesting"),txHash:t("tx_hash"),status:t("status").notNull().default("pending"),scheduledDate:l("scheduled_date"),processedDate:l("processed_date"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow()}),S_=d("strategic_partner_milestones",{id:a("id").primaryKey(),partnerId:a("partner_id").notNull(),title:t("title").notNull(),description:t("description"),targetDate:l("target_date"),completedDate:l("completed_date"),rewardAmount:t("reward_amount").notNull().default("0"),status:t("status").notNull().default("pending"),evidence:t("evidence"),verifiedBy:a("verified_by"),createdAt:l("created_at").notNull().defaultNow()});i(w_).omit({id:!0,createdAt:!0,updatedAt:!0});i(k_).omit({id:!0,createdAt:!0});i(S_).omit({id:!0,createdAt:!0});const T_=d("advisors",{id:a("id").primaryKey(),name:t("name").notNull(),title:t("title"),bio:t("bio"),photoUrl:t("photo_url"),email:t("email"),linkedin:t("linkedin"),twitter:t("twitter"),walletAddress:t("wallet_address"),advisorType:t("advisor_type").notNull().default("strategic"),expertise:t("expertise").notNull().default("blockchain"),engagementType:t("engagement_type").notNull().default("part_time"),allocation:t("allocation").notNull().default("0"),distributedAmount:t("distributed_amount").notNull().default("0"),lockedAmount:t("locked_amount").notNull().default("0"),vestingType:t("vesting_type").notNull().default("cliff_linear"),vestingStartDate:l("vesting_start_date"),vestingEndDate:l("vesting_end_date"),cliffMonths:e("cliff_months").notNull().default(6),vestingMonths:e("vesting_months").notNull().default(24),tgePercentage:e("tge_percentage").notNull().default(5),contractStartDate:l("contract_start_date"),contractEndDate:l("contract_end_date"),monthlyHours:e("monthly_hours"),status:t("status").notNull().default("pending"),notes:t("notes"),deliverables:p("deliverables"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),x_=d("advisor_payouts",{id:a("id").primaryKey(),advisorId:a("advisor_id").notNull(),amount:t("amount").notNull(),payoutType:t("payout_type").notNull().default("vesting"),txHash:t("tx_hash"),status:t("status").notNull().default("pending"),scheduledDate:l("scheduled_date"),processedDate:l("processed_date"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow()}),P_=d("advisor_contributions",{id:a("id").primaryKey(),advisorId:a("advisor_id").notNull(),title:t("title").notNull(),description:t("description"),contributionType:t("contribution_type").notNull().default("consultation"),hoursSpent:e("hours_spent"),completedDate:l("completed_date"),impactScore:e("impact_score"),bonusAmount:t("bonus_amount").notNull().default("0"),status:t("status").notNull().default("pending"),verifiedBy:a("verified_by"),createdAt:l("created_at").notNull().defaultNow()});i(T_).omit({id:!0,createdAt:!0,updatedAt:!0});i(x_).omit({id:!0,createdAt:!0});i(P_).omit({id:!0,createdAt:!0});const I_=d("seed_investors",{id:a("id").primaryKey(),name:t("name").notNull(),email:t("email"),phone:t("phone"),company:t("company"),investorType:t("investor_type").notNull().default("individual"),walletAddress:t("wallet_address"),investmentAmount:m("investment_amount").notNull().default("0"),investmentCurrency:t("investment_currency").notNull().default("usdt"),tokenPrice:m("token_price").notNull().default("0.005"),tokenAmount:t("token_amount").notNull().default("0"),distributedAmount:t("distributed_amount").notNull().default("0"),lockedAmount:t("locked_amount").notNull().default("0"),vestingType:t("vesting_type").notNull().default("cliff_linear"),vestingStartDate:l("vesting_start_date"),vestingEndDate:l("vesting_end_date"),cliffMonths:e("cliff_months").notNull().default(12),vestingMonths:e("vesting_months").notNull().default(24),tgePercentage:e("tge_percentage").notNull().default(5),saftSigned:c("saft_signed").notNull().default(!1),saftSignedDate:l("saft_signed_date"),kycVerified:c("kyc_verified").notNull().default(!1),kycVerifiedDate:l("kyc_verified_date"),paymentReceived:c("payment_received").notNull().default(!1),paymentReceivedDate:l("payment_received_date"),paymentTxHash:t("payment_tx_hash"),status:t("status").notNull().default("pending"),notes:t("notes"),referredBy:a("referred_by"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),C_=d("seed_payouts",{id:a("id").primaryKey(),investorId:a("investor_id").notNull(),amount:t("amount").notNull(),payoutType:t("payout_type").notNull().default("vesting"),txHash:t("tx_hash"),status:t("status").notNull().default("pending"),scheduledDate:l("scheduled_date"),processedDate:l("processed_date"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow()});i(I_).omit({id:!0,createdAt:!0,updatedAt:!0});i(C_).omit({id:!0,createdAt:!0});const D_=d("private_investors",{id:a("id").primaryKey(),name:t("name").notNull(),email:t("email"),phone:t("phone"),company:t("company"),investorType:t("investor_type").notNull().default("institutional"),tier:t("tier").notNull().default("standard"),walletAddress:t("wallet_address"),investmentAmount:m("investment_amount").notNull().default("0"),investmentCurrency:t("investment_currency").notNull().default("usdt"),tokenPrice:m("token_price").notNull().default("0.01"),tokenAmount:t("token_amount").notNull().default("0"),bonusAmount:t("bonus_amount").notNull().default("0"),distributedAmount:t("distributed_amount").notNull().default("0"),lockedAmount:t("locked_amount").notNull().default("0"),vestingType:t("vesting_type").notNull().default("cliff_linear"),vestingStartDate:l("vesting_start_date"),vestingEndDate:l("vesting_end_date"),cliffMonths:e("cliff_months").notNull().default(6),vestingMonths:e("vesting_months").notNull().default(18),tgePercentage:e("tge_percentage").notNull().default(10),saftSigned:c("saft_signed").notNull().default(!1),saftSignedDate:l("saft_signed_date"),kycVerified:c("kyc_verified").notNull().default(!1),kycVerifiedDate:l("kyc_verified_date"),accreditedVerified:c("accredited_verified").notNull().default(!1),paymentReceived:c("payment_received").notNull().default(!1),paymentReceivedDate:l("payment_received_date"),paymentTxHash:t("payment_tx_hash"),status:t("status").notNull().default("pending"),notes:t("notes"),referredBy:a("referred_by"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),R_=d("private_payouts",{id:a("id").primaryKey(),investorId:a("investor_id").notNull(),amount:t("amount").notNull(),payoutType:t("payout_type").notNull().default("vesting"),txHash:t("tx_hash"),status:t("status").notNull().default("pending"),scheduledDate:l("scheduled_date"),processedDate:l("processed_date"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow()});i(D_).omit({id:!0,createdAt:!0,updatedAt:!0});i(R_).omit({id:!0,createdAt:!0});const q_=d("public_participants",{id:a("id").primaryKey(),walletAddress:t("wallet_address").notNull(),email:t("email"),country:t("country"),investmentAmount:m("investment_amount").notNull().default("0"),investmentCurrency:t("investment_currency").notNull().default("usdt"),tokenPrice:m("token_price").notNull().default("0.02"),tokenAmount:t("token_amount").notNull().default("0"),distributedAmount:t("distributed_amount").notNull().default("0"),tgePercentage:e("tge_percentage").notNull().default(25),vestingMonths:e("vesting_months").notNull().default(6),txHash:t("tx_hash"),kycVerified:c("kyc_verified").notNull().default(!1),kycVerifiedDate:l("kyc_verified_date"),paymentReceived:c("payment_received").notNull().default(!1),paymentReceivedDate:l("payment_received_date"),status:t("status").notNull().default("pending"),referralCode:t("referral_code"),source:t("source"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),K_=d("public_payouts",{id:a("id").primaryKey(),participantId:a("participant_id").notNull(),amount:t("amount").notNull(),payoutType:t("payout_type").notNull().default("tge"),txHash:t("tx_hash"),status:t("status").notNull().default("pending"),scheduledDate:l("scheduled_date"),processedDate:l("processed_date"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow()});i(q_).omit({id:!0,createdAt:!0,updatedAt:!0});i(K_).omit({id:!0,createdAt:!0});const B_=d("ido_launchpad_projects",{id:a("id").primaryKey(),projectName:t("project_name").notNull(),tokenName:t("token_name").notNull(),tokenSymbol:t("token_symbol").notNull(),tokenAddress:t("token_address"),description:t("description"),website:t("website"),twitter:t("twitter"),telegram:t("telegram"),discord:t("discord"),logoUrl:t("logo_url"),tokenPrice:m("token_price").notNull().default("0.01"),totalSupply:t("total_supply").notNull().default("0"),saleAllocation:t("sale_allocation").notNull().default("0"),hardCap:m("hard_cap").notNull().default("100000"),softCap:m("soft_cap").notNull().default("50000"),raisedAmount:m("raised_amount").notNull().default("0"),minContribution:m("min_contribution").notNull().default("100"),maxContribution:m("max_contribution").notNull().default("10000"),tgePercentage:e("tge_percentage").notNull().default(20),vestingMonths:e("vesting_months").notNull().default(12),cliffMonths:e("cliff_months").notNull().default(1),startDate:l("start_date"),endDate:l("end_date"),listingDate:l("listing_date"),kycRequired:c("kyc_required").notNull().default(!0),whitelistOnly:c("whitelist_only").notNull().default(!1),status:t("status").notNull().default("draft"),featured:c("featured").notNull().default(!1),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),U_=d("ido_launchpad_participants",{id:a("id").primaryKey(),projectId:a("project_id").notNull(),walletAddress:t("wallet_address").notNull(),email:t("email"),contributionAmount:m("contribution_amount").notNull().default("0"),contributionCurrency:t("contribution_currency").notNull().default("usdt"),tokenAmount:t("token_amount").notNull().default("0"),distributedAmount:t("distributed_amount").notNull().default("0"),txHash:t("tx_hash"),kycVerified:c("kyc_verified").notNull().default(!1),whitelisted:c("whitelisted").notNull().default(!1),paymentReceived:c("payment_received").notNull().default(!1),status:t("status").notNull().default("pending"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()});i(B_).omit({id:!0,createdAt:!0,updatedAt:!0});i(U_).omit({id:!0,createdAt:!0,updatedAt:!0});const V_=d("coinlist_sales",{id:a("id").primaryKey(),saleName:t("sale_name").notNull(),tokenSymbol:t("token_symbol").notNull().default("TBURN"),tokenPrice:m("token_price").notNull().default("0.02"),totalAllocation:t("total_allocation").notNull().default("0"),hardCap:m("hard_cap").notNull().default("1000000"),raisedAmount:m("raised_amount").notNull().default("0"),minPurchase:m("min_purchase").notNull().default("100"),maxPurchase:m("max_purchase").notNull().default("5000"),queueType:t("queue_type").notNull().default("lottery"),totalSlots:e("total_slots").notNull().default(1e3),registrationStart:l("registration_start"),registrationEnd:l("registration_end"),saleStart:l("sale_start"),saleEnd:l("sale_end"),tgePercentage:e("tge_percentage").notNull().default(25),vestingMonths:e("vesting_months").notNull().default(6),kycRequired:c("kyc_required").notNull().default(!0),status:t("status").notNull().default("draft"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),M_=d("coinlist_participants",{id:a("id").primaryKey(),saleId:a("sale_id").notNull(),email:t("email").notNull(),walletAddress:t("wallet_address").notNull(),country:t("country"),queuePosition:e("queue_position"),investmentAmount:m("investment_amount").notNull().default("0"),investmentCurrency:t("investment_currency").notNull().default("usdt"),tokenAmount:t("token_amount").notNull().default("0"),distributedAmount:t("distributed_amount").notNull().default("0"),txHash:t("tx_hash"),kycVerified:c("kyc_verified").notNull().default(!1),kycVerifiedDate:l("kyc_verified_date"),isWinner:c("is_winner").notNull().default(!1),winnerSelectedDate:l("winner_selected_date"),paymentReceived:c("payment_received").notNull().default(!1),paymentReceivedDate:l("payment_received_date"),status:t("status").notNull().default("registered"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()});i(V_).omit({id:!0,createdAt:!0,updatedAt:!0});i(M_).omit({id:!0,createdAt:!0,updatedAt:!0});const z_=d("dao_maker_shos",{id:a("id").primaryKey(),shoName:t("sho_name").notNull(),tokenSymbol:t("token_symbol").notNull().default("TBURN"),tokenPrice:m("token_price").notNull().default("0.02"),totalAllocation:t("total_allocation").notNull().default("0"),hardCap:m("hard_cap").notNull().default("500000"),raisedAmount:m("raised_amount").notNull().default("0"),minDaoPower:e("min_dao_power").notNull().default(100),minPurchase:m("min_purchase").notNull().default("100"),maxPurchase:m("max_purchase").notNull().default("2500"),totalWinners:e("total_winners").notNull().default(500),registrationStart:l("registration_start"),registrationEnd:l("registration_end"),saleStart:l("sale_start"),saleEnd:l("sale_end"),tgePercentage:e("tge_percentage").notNull().default(20),vestingMonths:e("vesting_months").notNull().default(9),kycRequired:c("kyc_required").notNull().default(!0),status:t("status").notNull().default("draft"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()}),E_=d("dao_maker_participants",{id:a("id").primaryKey(),shoId:a("sho_id").notNull(),walletAddress:t("wallet_address").notNull(),email:t("email"),daoPower:e("dao_power").notNull().default(0),stakedAmount:t("staked_amount").notNull().default("0"),tier:t("tier").notNull().default("bronze"),investmentAmount:m("investment_amount").notNull().default("0"),investmentCurrency:t("investment_currency").notNull().default("usdt"),allocationAmount:m("allocation_amount").notNull().default("0"),tokenAmount:t("token_amount").notNull().default("0"),distributedAmount:t("distributed_amount").notNull().default("0"),txHash:t("tx_hash"),kycVerified:c("kyc_verified").notNull().default(!1),kycVerifiedDate:l("kyc_verified_date"),isWinner:c("is_winner").notNull().default(!1),winnerSelectedDate:l("winner_selected_date"),paymentReceived:c("payment_received").notNull().default(!1),paymentReceivedDate:l("payment_received_date"),status:t("status").notNull().default("registered"),notes:t("notes"),createdAt:l("created_at").notNull().defaultNow(),updatedAt:l("updated_at").notNull().defaultNow()});i(z_).omit({id:!0,createdAt:!0,updatedAt:!0});i(E_).omit({id:!0,createdAt:!0,updatedAt:!0});export{$_ as a,Z_ as b,G_ as c,W_ as s,O_ as u};
