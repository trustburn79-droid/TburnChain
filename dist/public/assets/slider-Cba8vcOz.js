import{r as d,j as I}from"./index-MawzfEWf.js";import{c as $}from"./index-BdQq_4o_.js";import{aj as le,ae as de,aB as ue,af as S,ap as _,an as k,ag as A,aI as me,e as fe}from"./tburn-loader-BM0jq71g.js";import{u as pe}from"./index-BS5sfjqA.js";import{u as he}from"./index-4SA7Ng6D.js";var X=["PageUp","PageDown"],G=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],W={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},N="Slider",[z,Se,ge]=le(N),[q,ze]=de(N,[ge]),[ve,T]=q(N),J=d.forwardRef((e,t)=>{const{name:n,min:o=0,max:i=100,step:c=1,orientation:r="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:f=[o],value:w,onValueChange:s=()=>{},onValueCommit:u=()=>{},inverted:v=!1,form:P,...g}=e,p=d.useRef(new Set),m=d.useRef(0),b=r==="horizontal"?be:xe,[h=[],j]=ue({prop:w,defaultProp:f,onChange:x=>{var E;(E=[...p.current][m.current])==null||E.focus(),s(x)}}),K=d.useRef(h);function B(x){const R=De(h,x);M(x,R)}function ae(x){M(x,m.current)}function ce(){const x=K.current[m.current];h[m.current]!==x&&u(h)}function M(x,R,{commit:E}={commit:!1}){const U=Ne(c),H=je(Math.round((x-o)/c)*c+o,U),V=$(H,[o,i]);j((C=[])=>{const y=Re(C,V,R);if(_e(y,l*c)){m.current=y.indexOf(V);const Y=String(y)!==String(C);return Y&&E&&u(y),Y?y:C}else return C})}return S.jsx(ve,{scope:e.__scopeSlider,name:n,disabled:a,min:o,max:i,valueIndexToChangeRef:m,thumbs:p.current,values:h,orientation:r,form:P,children:S.jsx(z.Provider,{scope:e.__scopeSlider,children:S.jsx(z.Slot,{scope:e.__scopeSlider,children:S.jsx(b,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:t,onPointerDown:_(g.onPointerDown,()=>{a||(K.current=h)}),min:o,max:i,inverted:v,onSlideStart:a?void 0:B,onSlideMove:a?void 0:ae,onSlideEnd:a?void 0:ce,onHomeKeyDown:()=>!a&&M(o,0,{commit:!0}),onEndKeyDown:()=>!a&&M(i,h.length-1,{commit:!0}),onStepKeyDown:({event:x,direction:R})=>{if(!a){const H=X.includes(x.key)||x.shiftKey&&G.includes(x.key)?10:1,V=m.current,C=h[V],y=c*H*R;M(C+y,V,{commit:!0})}}})})})})});J.displayName=N;var[Q,Z]=q(N,{startEdge:"left",endEdge:"right",size:"width",direction:1}),be=d.forwardRef((e,t)=>{const{min:n,max:o,dir:i,inverted:c,onSlideStart:r,onSlideMove:a,onSlideEnd:l,onStepKeyDown:f,...w}=e,[s,u]=d.useState(null),v=k(t,b=>u(b)),P=d.useRef(void 0),g=pe(i),p=g==="ltr",m=p&&!c||!p&&c;function D(b){const h=P.current||s.getBoundingClientRect(),j=[0,h.width],B=F(j,m?[n,o]:[o,n]);return P.current=h,B(b-h.left)}return S.jsx(Q,{scope:e.__scopeSlider,startEdge:m?"left":"right",endEdge:m?"right":"left",direction:m?1:-1,size:"width",children:S.jsx(ee,{dir:g,"data-orientation":"horizontal",...w,ref:v,style:{...w.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const h=D(b.clientX);r==null||r(h)},onSlideMove:b=>{const h=D(b.clientX);a==null||a(h)},onSlideEnd:()=>{P.current=void 0,l==null||l()},onStepKeyDown:b=>{const j=W[m?"from-left":"from-right"].includes(b.key);f==null||f({event:b,direction:j?-1:1})}})})}),xe=d.forwardRef((e,t)=>{const{min:n,max:o,inverted:i,onSlideStart:c,onSlideMove:r,onSlideEnd:a,onStepKeyDown:l,...f}=e,w=d.useRef(null),s=k(t,w),u=d.useRef(void 0),v=!i;function P(g){const p=u.current||w.current.getBoundingClientRect(),m=[0,p.height],b=F(m,v?[o,n]:[n,o]);return u.current=p,b(g-p.top)}return S.jsx(Q,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:S.jsx(ee,{"data-orientation":"vertical",...f,ref:s,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const p=P(g.clientY);c==null||c(p)},onSlideMove:g=>{const p=P(g.clientY);r==null||r(p)},onSlideEnd:()=>{u.current=void 0,a==null||a()},onStepKeyDown:g=>{const m=W[v?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:m?-1:1})}})})}),ee=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:i,onSlideEnd:c,onHomeKeyDown:r,onEndKeyDown:a,onStepKeyDown:l,...f}=e,w=T(N,n);return S.jsx(A.span,{...f,ref:t,onKeyDown:_(e.onKeyDown,s=>{s.key==="Home"?(r(s),s.preventDefault()):s.key==="End"?(a(s),s.preventDefault()):X.concat(G).includes(s.key)&&(l(s),s.preventDefault())}),onPointerDown:_(e.onPointerDown,s=>{const u=s.target;u.setPointerCapture(s.pointerId),s.preventDefault(),w.thumbs.has(u)?u.focus():o(s)}),onPointerMove:_(e.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&i(s)}),onPointerUp:_(e.onPointerUp,s=>{const u=s.target;u.hasPointerCapture(s.pointerId)&&(u.releasePointerCapture(s.pointerId),c(s))})})}),te="SliderTrack",ne=d.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,i=T(te,n);return S.jsx(A.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...o,ref:t})});ne.displayName=te;var O="SliderRange",oe=d.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,i=T(O,n),c=Z(O,n),r=d.useRef(null),a=k(t,r),l=i.values.length,f=i.values.map(u=>ie(u,i.min,i.max)),w=l>1?Math.min(...f):0,s=100-Math.max(...f);return S.jsx(A.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...o,ref:a,style:{...e.style,[c.startEdge]:w+"%",[c.endEdge]:s+"%"}})});oe.displayName=O;var L="SliderThumb",re=d.forwardRef((e,t)=>{const n=Se(e.__scopeSlider),[o,i]=d.useState(null),c=k(t,a=>i(a)),r=d.useMemo(()=>o?n().findIndex(a=>a.ref.current===o):-1,[n,o]);return S.jsx(we,{...e,ref:c,index:r})}),we=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:o,name:i,...c}=e,r=T(L,n),a=Z(L,n),[l,f]=d.useState(null),w=k(t,D=>f(D)),s=l?r.form||!!l.closest("form"):!0,u=me(l),v=r.values[o],P=v===void 0?0:ie(v,r.min,r.max),g=ye(o,r.values.length),p=u==null?void 0:u[a.size],m=p?Ee(p,P,a.direction):0;return d.useEffect(()=>{if(l)return r.thumbs.add(l),()=>{r.thumbs.delete(l)}},[l,r.thumbs]),S.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${P}% + ${m}px)`},children:[S.jsx(z.ItemSlot,{scope:e.__scopeSlider,children:S.jsx(A.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":r.min,"aria-valuenow":v,"aria-valuemax":r.max,"aria-orientation":r.orientation,"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,tabIndex:r.disabled?void 0:0,...c,ref:w,style:v===void 0?{display:"none"}:e.style,onFocus:_(e.onFocus,()=>{r.valueIndexToChangeRef.current=o})})}),s&&S.jsx(Pe,{name:i??(r.name?r.name+(r.values.length>1?"[]":""):void 0),form:r.form,value:v},o)]})});re.displayName=L;var Pe=e=>{const{value:t,...n}=e,o=d.useRef(null),i=he(t);return d.useEffect(()=>{const c=o.current,r=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(r,"value").set;if(i!==t&&l){const f=new Event("input",{bubbles:!0});l.call(c,t),c.dispatchEvent(f)}},[i,t]),S.jsx("input",{style:{display:"none"},...n,ref:o,defaultValue:t})};function Re(e=[],t,n){const o=[...e];return o[n]=t,o.sort((i,c)=>i-c)}function ie(e,t,n){const c=100/(n-t)*(e-t);return $(c,[0,100])}function ye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function De(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),o=Math.min(...n);return n.indexOf(o)}function Ee(e,t,n){const o=e/2,c=F([0,50],[0,o]);return(o-c(t)*n)*n}function Ce(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function _e(e,t){if(t>0){const n=Ce(e);return Math.min(...n)>=t}return!0}function F(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function Ne(e){return(String(e).split(".")[1]||"").length}function je(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var se=J,Me=ne,Ve=oe,ke=re;const Ie=d.forwardRef(({className:e,...t},n)=>I.jsxDEV(se,{"data-replit-metadata":"client/src/components/ui/slider.tsx:10:2","data-component-name":"SliderPrimitive.Root",ref:n,className:fe("relative flex w-full touch-none select-none items-center",e),...t,children:[I.jsxDEV(Me,{"data-replit-metadata":"client/src/components/ui/slider.tsx:18:4","data-component-name":"SliderPrimitive.Track",className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:I.jsxDEV(Ve,{"data-replit-metadata":"client/src/components/ui/slider.tsx:19:6","data-component-name":"SliderPrimitive.Range",className:"absolute h-full bg-primary"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/slider.tsx",lineNumber:19,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/slider.tsx",lineNumber:18,columnNumber:5},void 0),I.jsxDEV(ke,{"data-replit-metadata":"client/src/components/ui/slider.tsx:21:4","data-component-name":"SliderPrimitive.Thumb",className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},void 0,!1,{fileName:"/home/runner/workspace/client/src/components/ui/slider.tsx",lineNumber:21,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/components/ui/slider.tsx",lineNumber:10,columnNumber:3},void 0));Ie.displayName=se.displayName;export{Ie as S};
