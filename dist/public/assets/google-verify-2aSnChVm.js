import{r as g,j as e}from"./index-B0-UpC1p.js";import{a as V,b as k,i as j,L as b,V as N,T as E,j as D,aG as w,aN as T}from"./App-BTCu-tKp.js";import{I as C,a as S,b as u}from"./input-otp-DapMmhYE.js";import{A as P}from"./arrow-left-BKs2xqwQ.js";import"./i18n-CAu4yJ3-.js";function I(){const t=g.useRef(null);return g.useEffect(()=>{const d=t.current;if(!d)return;const r=d.getContext("2d");if(!r)return;let o=window.innerWidth,s=window.innerHeight,i=[],f;const p=()=>{o=window.innerWidth,s=window.innerHeight,d.width=o,d.height=s,x()},x=()=>{i=[];const a=Math.floor(o*s/25e3);for(let c=0;c<a;c++)i.push({x:Math.random()*o,y:Math.random()*s,dx:(Math.random()-.5)*.4,dy:(Math.random()-.5)*.4,size:Math.random()*1.5+.5})},l=()=>{f=requestAnimationFrame(l),r.fillStyle="rgba(5, 5, 5, 0.1)",r.fillRect(0,0,o,s);for(const a of i)(a.x>o||a.x<0)&&(a.dx=-a.dx),(a.y>s||a.y<0)&&(a.dy=-a.dy),a.x+=a.dx,a.y+=a.dy,r.beginPath(),r.arc(a.x,a.y,a.size,0,Math.PI*2),r.fillStyle="#00f0ff",r.shadowBlur=10,r.shadowColor="#00f0ff",r.fill(),r.shadowBlur=0;for(let a=0;a<i.length;a++)for(let c=a+1;c<i.length;c++){const m=i[a].x-i[c].x,h=i[a].y-i[c].y,v=Math.sqrt(m*m+h*h);v<80&&(r.beginPath(),r.strokeStyle=`rgba(0, 240, 255, ${(1-v/80)*.15})`,r.lineWidth=.5,r.moveTo(i[a].x,i[a].y),r.lineTo(i[c].x,i[c].y),r.stroke())}};return p(),window.addEventListener("resize",p),l(),()=>{window.removeEventListener("resize",p),cancelAnimationFrame(f)}},[]),e.jsxDEV("canvas",{"data-replit-metadata":"client/src/pages/google-verify.tsx:102:4","data-component-name":"canvas",ref:t,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0,opacity:.5,pointerEvents:"none"}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:102,columnNumber:5},this)}function M(){const{t}=V(),[,d]=k(),{toast:r}=j(),[o,s]=g.useState(""),[i,f]=g.useState(!1),[p,x]=g.useState(!1),[l,a]=g.useState(0),m=new URLSearchParams(window.location.search).get("email")||"";g.useEffect(()=>{if(l>0){const n=setTimeout(()=>a(l-1),1e3);return()=>clearTimeout(n)}},[l]);const h=async()=>{if(o.length!==6){r({title:t("googleVerify.error"),description:t("googleVerify.enterSixDigits"),variant:"destructive"});return}f(!0);try{const n=await fetch("/api/auth/google/complete-signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,code:o}),credentials:"include"}),y=await n.json();n.ok?(r({title:t("googleVerify.verificationComplete"),description:t("googleVerify.signupCompleteRedirect")}),setTimeout(()=>{d("/app")},1e3)):(r({title:t("googleVerify.verificationFailed"),description:y.error||t("googleVerify.checkCode"),variant:"destructive"}),s(""))}catch{r({title:t("googleVerify.error"),description:t("googleVerify.errorDuringVerification"),variant:"destructive"})}finally{f(!1)}},v=async()=>{if(!(l>0)){x(!0);try{const n=await fetch("/api/auth/google/resend-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m}),credentials:"include"}),y=await n.json();n.ok?(r({title:t("googleVerify.codeResent"),description:t("googleVerify.newCodeSent")}),a(60),s("")):r({title:t("googleVerify.resendFailed"),description:y.error||t("googleVerify.tryAgainLater"),variant:"destructive"})}catch{r({title:t("googleVerify.error"),description:t("googleVerify.errorDuringResend"),variant:"destructive"})}finally{x(!1)}}};return m?e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:239:4","data-component-name":"div",className:"min-h-screen flex flex-col bg-[#050505] text-gray-200 antialiased",children:[e.jsxDEV(I,{"data-replit-metadata":"client/src/pages/google-verify.tsx:240:6","data-component-name":"NeuralCanvasVerify"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:240,columnNumber:7},this),e.jsxDEV("nav",{"data-replit-metadata":"client/src/pages/google-verify.tsx:243:6","data-component-name":"nav",className:"sticky top-0 z-50 w-full border-b border-white/5 bg-black/60 backdrop-blur-md",children:e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:244:8","data-component-name":"div",className:"max-w-7xl mx-auto px-6 lg:px-8",children:e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:245:10","data-component-name":"div",className:"flex h-16 items-center justify-between",children:e.jsxDEV(b,{"data-replit-metadata":"client/src/pages/google-verify.tsx:246:12","data-component-name":"Link",href:"/",className:"flex items-center gap-1.5 group",children:[e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:247:14","data-component-name":"div",className:"w-9 h-9 group-hover:scale-110 transition-transform",children:e.jsxDEV(E,{"data-replit-metadata":"client/src/pages/google-verify.tsx:248:16","data-component-name":"TBurnLogo",className:"w-9 h-9"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:248,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:247,columnNumber:15},this),e.jsxDEV("span",{"data-replit-metadata":"client/src/pages/google-verify.tsx:250:14","data-component-name":"span",className:"font-bold text-xl text-white tracking-tight",children:["TBurn ",e.jsxDEV("span",{"data-replit-metadata":"client/src/pages/google-verify.tsx:251:22","data-component-name":"span",className:"text-cyan-400",children:"Chain"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:251,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:250,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:246,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:245,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:244,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:243,columnNumber:7},this),e.jsxDEV("main",{"data-replit-metadata":"client/src/pages/google-verify.tsx:259:6","data-component-name":"main",className:"flex-grow flex items-center justify-center p-4 relative z-10",children:[e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:260:8","data-component-name":"div",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[300px] bg-cyan-600/20 blur-[100px] rounded-full pointer-events-none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:260,columnNumber:9},this),e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:262:8","data-component-name":"div",className:"w-full max-w-md",children:e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:263:10","data-component-name":"div",className:"rounded-2xl p-8 bg-[rgba(20,20,25,0.8)] backdrop-blur-xl border border-white/10",children:[e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:265:12","data-component-name":"div",className:"text-center mb-8",children:[e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:266:14","data-component-name":"div",className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-cyan-400/20 to-blue-500/20 border border-cyan-400/30 flex items-center justify-center",children:e.jsxDEV(D,{"data-replit-metadata":"client/src/pages/google-verify.tsx:267:16","data-component-name":"Mail",className:"w-8 h-8 text-cyan-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:267,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:266,columnNumber:15},this),e.jsxDEV("h1",{"data-replit-metadata":"client/src/pages/google-verify.tsx:269:14","data-component-name":"h1",className:"text-2xl font-bold text-white mb-2","data-testid":"text-verify-title",children:t("googleVerify.title")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:269,columnNumber:15},this),e.jsxDEV("p",{"data-replit-metadata":"client/src/pages/google-verify.tsx:272:14","data-component-name":"p",className:"text-sm text-gray-400",children:t("googleVerify.subtitle")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:272,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:265,columnNumber:13},this),e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:278:12","data-component-name":"div",className:"bg-black/30 border border-white/10 rounded-lg p-3 mb-6 text-center",children:e.jsxDEV("span",{"data-replit-metadata":"client/src/pages/google-verify.tsx:279:14","data-component-name":"span",className:"text-cyan-400 text-sm font-mono",children:m},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:279,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:278,columnNumber:13},this),e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:283:12","data-component-name":"div",className:"flex justify-center mb-6",children:e.jsxDEV(C,{"data-replit-metadata":"client/src/pages/google-verify.tsx:284:14","data-component-name":"InputOTP",maxLength:6,value:o,onChange:n=>s(n),"data-testid":"input-verification-code",children:e.jsxDEV(S,{"data-replit-metadata":"client/src/pages/google-verify.tsx:290:16","data-component-name":"InputOTPGroup",children:[e.jsxDEV(u,{"data-replit-metadata":"client/src/pages/google-verify.tsx:291:18","data-component-name":"InputOTPSlot",index:0,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:291,columnNumber:19},this),e.jsxDEV(u,{"data-replit-metadata":"client/src/pages/google-verify.tsx:292:18","data-component-name":"InputOTPSlot",index:1,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:292,columnNumber:19},this),e.jsxDEV(u,{"data-replit-metadata":"client/src/pages/google-verify.tsx:293:18","data-component-name":"InputOTPSlot",index:2,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:293,columnNumber:19},this),e.jsxDEV(u,{"data-replit-metadata":"client/src/pages/google-verify.tsx:294:18","data-component-name":"InputOTPSlot",index:3,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:294,columnNumber:19},this),e.jsxDEV(u,{"data-replit-metadata":"client/src/pages/google-verify.tsx:295:18","data-component-name":"InputOTPSlot",index:4,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:295,columnNumber:19},this),e.jsxDEV(u,{"data-replit-metadata":"client/src/pages/google-verify.tsx:296:18","data-component-name":"InputOTPSlot",index:5,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:296,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:290,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:284,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:283,columnNumber:13},this),e.jsxDEV(N,{"data-replit-metadata":"client/src/pages/google-verify.tsx:302:12","data-component-name":"Button",onClick:h,disabled:i||o.length!==6,className:"w-full h-12 bg-gradient-to-r from-cyan-400 to-blue-500 text-black font-bold hover:shadow-[0_0_20px_rgba(0,240,255,0.4)] hover:-translate-y-0.5 transition-all","data-testid":"button-verify",children:i?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(w,{"data-replit-metadata":"client/src/pages/google-verify.tsx:310:18","data-component-name":"RefreshCw",className:"w-4 h-4 mr-2 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:310,columnNumber:19},this),t("googleVerify.verifying")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:309,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(T,{"data-replit-metadata":"client/src/pages/google-verify.tsx:315:18","data-component-name":"CheckCircle",className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:315,columnNumber:19},this),t("googleVerify.verify")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:314,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:302,columnNumber:13},this),e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:322:12","data-component-name":"div",className:"mt-6 text-center",children:[e.jsxDEV("p",{"data-replit-metadata":"client/src/pages/google-verify.tsx:323:14","data-component-name":"p",className:"text-xs text-gray-500 mb-2",children:t("googleVerify.didntReceiveCode")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:323,columnNumber:15},this),e.jsxDEV(N,{"data-replit-metadata":"client/src/pages/google-verify.tsx:326:14","data-component-name":"Button",variant:"ghost",size:"sm",onClick:v,disabled:p||l>0,className:"text-cyan-400 hover:text-cyan-300","data-testid":"button-resend",children:l>0?t("googleVerify.resendInSeconds",{seconds:l}):p?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(w,{"data-replit-metadata":"client/src/pages/google-verify.tsx:338:20","data-component-name":"RefreshCw",className:"w-3 h-3 mr-1 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:338,columnNumber:21},this),t("googleVerify.sending")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:337,columnNumber:19},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(w,{"data-replit-metadata":"client/src/pages/google-verify.tsx:343:20","data-component-name":"RefreshCw",className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:343,columnNumber:21},this),t("googleVerify.resendCode")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:342,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:326,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:322,columnNumber:13},this),e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:351:12","data-component-name":"div",className:"mt-6 pt-6 border-t border-white/10 text-center",children:e.jsxDEV(b,{"data-replit-metadata":"client/src/pages/google-verify.tsx:352:14","data-component-name":"Link",href:"/login",children:e.jsxDEV(N,{"data-replit-metadata":"client/src/pages/google-verify.tsx:353:16","data-component-name":"Button",variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:[e.jsxDEV(P,{"data-replit-metadata":"client/src/pages/google-verify.tsx:354:18","data-component-name":"ArrowLeft",className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:354,columnNumber:19},this),t("googleVerify.backToLogin")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:353,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:352,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:351,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:263,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:262,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:259,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:239,columnNumber:5},this):e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:227:6","data-component-name":"div",className:"min-h-screen flex items-center justify-center bg-[#050505] text-white",children:e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:228:8","data-component-name":"div",className:"text-center",children:[e.jsxDEV("p",{"data-replit-metadata":"client/src/pages/google-verify.tsx:229:10","data-component-name":"p",className:"text-gray-400 mb-4",children:t("googleVerify.invalidAccess")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:229,columnNumber:11},this),e.jsxDEV(b,{"data-replit-metadata":"client/src/pages/google-verify.tsx:230:10","data-component-name":"Link",href:"/login",children:e.jsxDEV(N,{"data-replit-metadata":"client/src/pages/google-verify.tsx:231:12","data-component-name":"Button",variant:"outline",children:t("googleVerify.backToLogin")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:231,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:230,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:228,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:227,columnNumber:7},this)}export{M as default};
