import{r as m,j as e}from"./index-CWUIpzf8.js";import{u as w,L as k}from"./index-CIRYVphb.js";import{u as j,x as E,B as v,n as D,a5 as b,a7 as C}from"./tburn-loader-DzbfkJu3.js";import{I as T,a as S,b as p}from"./input-otp-tx7r6Tl0.js";import{M as P}from"./mail-CdaBTDxC.js";import{A as I}from"./arrow-left-DxmpJCKb.js";import"./i18nInstance-DCxlOlkw.js";function L(){const a=m.useRef(null);return m.useEffect(()=>{const g=a.current;if(!g)return;const r=g.getContext("2d");if(!r)return;let o=window.innerWidth,s=window.innerHeight,i=[],u;const d=()=>{o=window.innerWidth,s=window.innerHeight,g.width=o,g.height=s,x()},x=()=>{i=[];const t=Math.floor(o*s/25e3);for(let n=0;n<t;n++)i.push({x:Math.random()*o,y:Math.random()*s,dx:(Math.random()-.5)*.4,dy:(Math.random()-.5)*.4,size:Math.random()*1.5+.5})},f=()=>{u=requestAnimationFrame(f),r.fillStyle="rgba(5, 5, 5, 0.1)",r.fillRect(0,0,o,s);for(const t of i)(t.x>o||t.x<0)&&(t.dx=-t.dx),(t.y>s||t.y<0)&&(t.dy=-t.dy),t.x+=t.dx,t.y+=t.dy,r.beginPath(),r.arc(t.x,t.y,t.size,0,Math.PI*2),r.fillStyle="#00f0ff",r.shadowBlur=10,r.shadowColor="#00f0ff",r.fill(),r.shadowBlur=0;for(let t=0;t<i.length;t++)for(let n=t+1;n<i.length;n++){const N=i[t].x-i[n].x,c=i[t].y-i[n].y,h=Math.sqrt(N*N+c*c);h<80&&(r.beginPath(),r.strokeStyle=`rgba(0, 240, 255, ${(1-h/80)*.15})`,r.lineWidth=.5,r.moveTo(i[t].x,i[t].y),r.lineTo(i[n].x,i[n].y),r.stroke())}};return d(),window.addEventListener("resize",d),f(),()=>{window.removeEventListener("resize",d),cancelAnimationFrame(u)}},[]),e.jsxDEV("canvas",{"data-replit-metadata":"client/src/pages/google-verify.tsx:102:4","data-component-name":"canvas",ref:a,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0,opacity:.5,pointerEvents:"none"}},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:102,columnNumber:5},this)}function W(){const{t:a}=j(),[,g]=w(),[,r]=w(),{toast:o}=E(),[s,i]=m.useState(""),[u,d]=m.useState(!1),[x,f]=m.useState(!1),[t,n]=m.useState(0),c=new URLSearchParams(window.location.search).get("email")||"";m.useEffect(()=>{if(t>0){const l=setTimeout(()=>n(t-1),1e3);return()=>clearTimeout(l)}},[t]);const h=async()=>{if(s.length!==6){o({title:a("googleVerify.error"),description:a("googleVerify.enterSixDigits"),variant:"destructive"});return}d(!0);try{const l=await fetch("/api/auth/google/complete-signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,code:s}),credentials:"include"}),y=await l.json();l.ok?(o({title:a("googleVerify.verificationComplete"),description:a("googleVerify.signupCompleteRedirect")}),setTimeout(()=>{g("/app")},1e3)):(o({title:a("googleVerify.verificationFailed"),description:y.error||a("googleVerify.checkCode"),variant:"destructive"}),i(""))}catch{o({title:a("googleVerify.error"),description:a("googleVerify.errorDuringVerification"),variant:"destructive"})}finally{d(!1)}},V=async()=>{if(!(t>0)){f(!0);try{const l=await fetch("/api/auth/google/resend-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c}),credentials:"include"}),y=await l.json();l.ok?(o({title:a("googleVerify.codeResent"),description:a("googleVerify.newCodeSent")}),n(60),i("")):o({title:a("googleVerify.resendFailed"),description:y.error||a("googleVerify.tryAgainLater"),variant:"destructive"})}catch{o({title:a("googleVerify.error"),description:a("googleVerify.errorDuringResend"),variant:"destructive"})}finally{f(!1)}}};return c?e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:238:4","data-component-name":"div",className:"min-h-screen flex flex-col bg-[#050505] text-gray-200 antialiased",children:[e.jsxDEV(L,{"data-replit-metadata":"client/src/pages/google-verify.tsx:239:6","data-component-name":"NeuralCanvasVerify"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:239,columnNumber:7},this),e.jsxDEV("nav",{"data-replit-metadata":"client/src/pages/google-verify.tsx:242:6","data-component-name":"nav",className:"sticky top-0 z-50 w-full border-b border-white/5 bg-black/60 backdrop-blur-md",children:e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:243:8","data-component-name":"div",className:"max-w-7xl mx-auto px-6 lg:px-8",children:e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:244:10","data-component-name":"div",className:"flex h-16 items-center justify-between",children:e.jsxDEV(k,{"data-replit-metadata":"client/src/pages/google-verify.tsx:245:12","data-component-name":"Link",href:"/",className:"flex items-center gap-1.5 group",children:[e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:246:14","data-component-name":"div",className:"w-9 h-9 group-hover:scale-110 transition-transform",children:e.jsxDEV(D,{"data-replit-metadata":"client/src/pages/google-verify.tsx:247:16","data-component-name":"TBurnLogo",className:"w-9 h-9"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:247,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:246,columnNumber:15},this),e.jsxDEV("span",{"data-replit-metadata":"client/src/pages/google-verify.tsx:249:14","data-component-name":"span",className:"font-bold text-xl text-white tracking-tight",children:["TBurn ",e.jsxDEV("span",{"data-replit-metadata":"client/src/pages/google-verify.tsx:250:22","data-component-name":"span",className:"text-cyan-400",children:"Chain"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:250,columnNumber:23},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:245,columnNumber:13},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:244,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:243,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:242,columnNumber:7},this),e.jsxDEV("main",{"data-replit-metadata":"client/src/pages/google-verify.tsx:258:6","data-component-name":"main",className:"flex-grow flex items-center justify-center p-4 relative z-10",children:[e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:259:8","data-component-name":"div",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[300px] bg-cyan-600/20 blur-[100px] rounded-full pointer-events-none"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:259,columnNumber:9},this),e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:261:8","data-component-name":"div",className:"w-full max-w-md",children:e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:262:10","data-component-name":"div",className:"rounded-2xl p-8 bg-[rgba(20,20,25,0.8)] backdrop-blur-xl border border-white/10",children:[e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:264:12","data-component-name":"div",className:"text-center mb-8",children:[e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:265:14","data-component-name":"div",className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-cyan-400/20 to-blue-500/20 border border-cyan-400/30 flex items-center justify-center",children:e.jsxDEV(P,{"data-replit-metadata":"client/src/pages/google-verify.tsx:266:16","data-component-name":"Mail",className:"w-8 h-8 text-cyan-400"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:266,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:265,columnNumber:15},this),e.jsxDEV("h1",{"data-replit-metadata":"client/src/pages/google-verify.tsx:268:14","data-component-name":"h1",className:"text-2xl font-bold text-white mb-2","data-testid":"text-verify-title",children:a("googleVerify.title")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:268,columnNumber:15},this),e.jsxDEV("p",{"data-replit-metadata":"client/src/pages/google-verify.tsx:271:14","data-component-name":"p",className:"text-sm text-gray-400",children:a("googleVerify.subtitle")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:271,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:264,columnNumber:13},this),e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:277:12","data-component-name":"div",className:"bg-black/30 border border-white/10 rounded-lg p-3 mb-6 text-center",children:e.jsxDEV("span",{"data-replit-metadata":"client/src/pages/google-verify.tsx:278:14","data-component-name":"span",className:"text-cyan-400 text-sm font-mono",children:c},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:278,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:277,columnNumber:13},this),e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:282:12","data-component-name":"div",className:"flex justify-center mb-6",children:e.jsxDEV(T,{"data-replit-metadata":"client/src/pages/google-verify.tsx:283:14","data-component-name":"InputOTP",maxLength:6,value:s,onChange:l=>i(l),"data-testid":"input-verification-code",children:e.jsxDEV(S,{"data-replit-metadata":"client/src/pages/google-verify.tsx:289:16","data-component-name":"InputOTPGroup",children:[e.jsxDEV(p,{"data-replit-metadata":"client/src/pages/google-verify.tsx:290:18","data-component-name":"InputOTPSlot",index:0,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:290,columnNumber:19},this),e.jsxDEV(p,{"data-replit-metadata":"client/src/pages/google-verify.tsx:291:18","data-component-name":"InputOTPSlot",index:1,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:291,columnNumber:19},this),e.jsxDEV(p,{"data-replit-metadata":"client/src/pages/google-verify.tsx:292:18","data-component-name":"InputOTPSlot",index:2,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:292,columnNumber:19},this),e.jsxDEV(p,{"data-replit-metadata":"client/src/pages/google-verify.tsx:293:18","data-component-name":"InputOTPSlot",index:3,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:293,columnNumber:19},this),e.jsxDEV(p,{"data-replit-metadata":"client/src/pages/google-verify.tsx:294:18","data-component-name":"InputOTPSlot",index:4,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:294,columnNumber:19},this),e.jsxDEV(p,{"data-replit-metadata":"client/src/pages/google-verify.tsx:295:18","data-component-name":"InputOTPSlot",index:5,className:"w-12 h-14 text-xl bg-black/30 border-white/20"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:295,columnNumber:19},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:289,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:283,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:282,columnNumber:13},this),e.jsxDEV(v,{"data-replit-metadata":"client/src/pages/google-verify.tsx:301:12","data-component-name":"Button",onClick:h,disabled:u||s.length!==6,className:"w-full h-12 bg-gradient-to-r from-cyan-400 to-blue-500 text-black font-bold hover:shadow-[0_0_20px_rgba(0,240,255,0.4)] hover:-translate-y-0.5 transition-all","data-testid":"button-verify",children:u?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(b,{"data-replit-metadata":"client/src/pages/google-verify.tsx:309:18","data-component-name":"RefreshCw",className:"w-4 h-4 mr-2 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:309,columnNumber:19},this),a("googleVerify.verifying")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:308,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(C,{"data-replit-metadata":"client/src/pages/google-verify.tsx:314:18","data-component-name":"CheckCircle",className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:314,columnNumber:19},this),a("googleVerify.verify")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:313,columnNumber:17},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:301,columnNumber:13},this),e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:321:12","data-component-name":"div",className:"mt-6 text-center",children:[e.jsxDEV("p",{"data-replit-metadata":"client/src/pages/google-verify.tsx:322:14","data-component-name":"p",className:"text-xs text-gray-500 mb-2",children:a("googleVerify.didntReceiveCode")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:322,columnNumber:15},this),e.jsxDEV(v,{"data-replit-metadata":"client/src/pages/google-verify.tsx:325:14","data-component-name":"Button",variant:"ghost",size:"sm",onClick:V,disabled:x||t>0,className:"text-cyan-400 hover:text-cyan-300","data-testid":"button-resend",children:t>0?a("googleVerify.resendInSeconds",{seconds:t}):x?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(b,{"data-replit-metadata":"client/src/pages/google-verify.tsx:337:20","data-component-name":"RefreshCw",className:"w-3 h-3 mr-1 animate-spin"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:337,columnNumber:21},this),a("googleVerify.sending")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:336,columnNumber:19},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(b,{"data-replit-metadata":"client/src/pages/google-verify.tsx:342:20","data-component-name":"RefreshCw",className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:342,columnNumber:21},this),a("googleVerify.resendCode")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:341,columnNumber:19},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:325,columnNumber:15},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:321,columnNumber:13},this),e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:350:12","data-component-name":"div",className:"mt-6 pt-6 border-t border-white/10 text-center",children:e.jsxDEV(v,{"data-replit-metadata":"client/src/pages/google-verify.tsx:351:14","data-component-name":"Button",variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",onClick:()=>r("/login"),children:[e.jsxDEV(I,{"data-replit-metadata":"client/src/pages/google-verify.tsx:352:16","data-component-name":"ArrowLeft",className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:352,columnNumber:17},this),a("googleVerify.backToLogin")]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:351,columnNumber:15},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:350,columnNumber:13},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:262,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:261,columnNumber:9},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:258,columnNumber:7},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:238,columnNumber:5},this):e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:228:6","data-component-name":"div",className:"min-h-screen flex items-center justify-center bg-[#050505] text-white",children:e.jsxDEV("div",{"data-replit-metadata":"client/src/pages/google-verify.tsx:229:8","data-component-name":"div",className:"text-center",children:[e.jsxDEV("p",{"data-replit-metadata":"client/src/pages/google-verify.tsx:230:10","data-component-name":"p",className:"text-gray-400 mb-4",children:a("googleVerify.invalidAccess")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:230,columnNumber:11},this),e.jsxDEV(v,{"data-replit-metadata":"client/src/pages/google-verify.tsx:231:10","data-component-name":"Button",variant:"outline",onClick:()=>r("/login"),children:a("googleVerify.backToLogin")},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:231,columnNumber:11},this)]},void 0,!0,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:229,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/workspace/client/src/pages/google-verify.tsx",lineNumber:228,columnNumber:7},this)}export{W as default};
